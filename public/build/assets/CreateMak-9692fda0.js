import{r as m,j as o,F as x,a as t,b as S,g as l,c as F}from"./app-cade510b.js";import{A}from"./AuthenticatedLayout-2e91c2e1.js";import{A as _,S as j,B as w}from"./Blok1_2-b0a10508.js";import{F as B}from"./index-5ce765d1.js";import{m as C}from"./index-b93aae69.js";import{S as p}from"./index-efbdf8f9.js";import{B as u}from"./index-beeaf8d9.js";import"./Sider-26ba9cdb.js";import"./AntdIcon-da8305e3.js";import"./LeftOutlined-a53789c4.js";import"./index-c911b603.js";import"./useForceUpdate-a75d9b98.js";import"./responsiveObserver-bed5db2e.js";import"./EllipsisOutlined-7069c36e.js";import"./Overflow-133b988e.js";import"./Keyframes-24838d9a.js";import"./useFlexGapSupport-8646280d.js";import"./KeyCode-6413d982.js";import"./EditOutlined-229e823d.js";import"./index-e3d5dafc.js";import"./index-af8f5ca6.js";import"./debounce-f85751c1.js";import"./index-f9258c5c.js";import"./pickAttrs-01b563d9.js";import"./TextArea-9a7525ca.js";import"./CloseCircleFilled-a13e8288.js";import"./CheckOutlined-c54abbe5.js";import"./CloseOutlined-0d8c520e.js";import"./index-b9cc14aa.js";import"./EyeOutlined-a718312b.js";import"./CONSTANT-6757a93f.js";import"./index-8f93d1ad.js";import"./addEventListener-61db0605.js";import"./index-54100e18.js";import"./index-8340b4b3.js";import"./index-821a731c.js";import"./Title-821d3901.js";import"./styleChecker-9cc21804.js";import"./ExclamationCircleFilled-1864351a.js";import"./InfoCircleFilled-7f3ebebf.js";const L=({identitas_wilayah:i,semester:h,user:c})=>{const k={backgroundColor:"#fff",paddingLeft:"10px",paddingRight:"10px",paddingBottom:"15px",width:"100%"},[e]=B.useForm(),[n,y]=m.useState(null),[D,g]=m.useState([{id_ruta:"",id_art:"",nama:"Art-0",key:"Art-0",rekap:[{produksi:0,beli:0,total:0},{produksi:0,beli:0,total:0}]}]),[a,f]=C.useMessage(),b=async r=>{a.open({type:"loading",key:"cari",content:"Menyimpan data..."});try{const d=route("entri.mak.store");r.semester=h;const{data:s}=await F.post(d,r,{headers:{"Content-Type":"application/json"}});if(s.status==="error"){a.open({type:"error",key:"cari",content:s.message});return}a.open({type:"success",key:"cari",content:"Berhasil menyimpan"}),l.get(route("entri.mak.edit",{id:s.id}))}catch{a.open({type:"error",key:"cari",content:"Oops terjadi kesalahan, silahkan hubungi admin"})}};return m.useEffect(()=>{e.setFieldsValue({r202_nama:c.nama_lengkap,r202_jabatan:c.jabatan})},[]),o(x,{children:[f,t(S,{title:"Entri Kuesioner Inti"}),o(p,{style:{width:"100%",minHeight:"300px",padding:"10px 15px"},direction:"vertical",children:[t(p,{children:o(u,{onClick:()=>l.get(route("entri",{kode_kabkot:e.getFieldValue("kode_kabkot"),nks:e.getFieldValue("nks")})),children:[t(_,{})," Kembali"]})}),o(p,{direction:"horizontal",style:{width:"100%",justifyContent:"end"},children:["Last Saved :",(n==null?void 0:n.toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}))||"Never",o(u,{onClick:async()=>{try{const[r]=await Promise.all([e.submit()]);y(new Date)}catch(r){console.error("Error submitting forms:",r)}},children:[t(j,{})," Simpan"]})]}),t(w,{tabContentStyle:k,form:e,onFinish:b,setDaftarArt:g,editable:!0,identitas_wilayah:i})]})]})};L.layout=i=>t(A,{user:i.props.auth.user,header:t("h2",{className:"",children:"Dashboard"}),selectedKey:"entri",children:i});export{L as default};
