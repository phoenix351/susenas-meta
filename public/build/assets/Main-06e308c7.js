import{r as m,j as n,F as _,a,b as I,c as p,g as l}from"./app-5488b642.js";import{A as E}from"./AuthenticatedLayout-0604ef72.js";import{E as F}from"./EntriIntiSearch-87abce95.js";import{l as S}from"./lodash-0e341bba.js";import{F as N}from"./index-15b8efa8.js";import{m as K}from"./index-beb8f2ba.js";import{S as c}from"./index-5044f9b1.js";import{T as j}from"./Table-0a8c4964.js";import{B as k}from"./index-f5c87f49.js";import{E as $}from"./EyeOutlined-e1394764.js";import{E as w}from"./EditOutlined-1e0d7ba9.js";import"./Sider-c7d462db.js";import"./AntdIcon-54e0d8e3.js";import"./LeftOutlined-4d2db241.js";import"./index-e2f14928.js";import"./useForceUpdate-d6383011.js";import"./responsiveObserver-ffd7fd36.js";import"./EllipsisOutlined-be03f216.js";import"./Overflow-7fa2eed2.js";import"./Keyframes-421582cf.js";import"./useFlexGapSupport-fd3dfe61.js";import"./KeyCode-6413d982.js";import"./index-22a70d2d.js";import"./index-a3685fac.js";import"./index-37249b66.js";import"./pickAttrs-3c94ba05.js";import"./TextArea-196bc487.js";import"./CheckOutlined-d1e320cb.js";import"./CloseOutlined-ccf3a8cb.js";import"./index-7dec5dd9.js";import"./ReloadOutlined-f6cad169.js";import"./ExclamationCircleFilled-6b922640.js";import"./InfoCircleFilled-055a9aa6.js";import"./styleChecker-ac0d96b1.js";import"./addEventListener-d2128f2c.js";import"./Dropdown-e1f76901.js";const B=({data_susenas:r,nks:u,kode_kabkot:h})=>{m.useEffect(()=>{r.length>0&&(i.setFieldsValue({nks:u,kode_kabkot:h,semester:"1"}),s(r))},[]);const[i]=N.useForm(),[g,s]=m.useState([]),[o,y]=K.useMessage(),f=async t=>{console.log({values:t}),o.open({type:"loading",key:"cari",content:"Memuat Data"});try{const e=route("api.entri.mak",t),{data:d}=await p.get(e);s(d.data),o.open({type:"success",key:"cari",content:"Berhasil mengambil data"})}catch{o.open({type:"error",key:"cari",content:"Oops terjadi kesalahan, silahkan hubungi admin"})}},x=async t=>{try{const{data:e}=await p.delete(route("entri.mak.delete",{id_ruta:t}));o.open({content:"Berhasil menghapus 1 anggota rumah tangga",type:"success",key:"hapus-ruta"}),l.get(route("entri",{kode_kabkot:i.getFieldValue("kode_kabkot"),nks:i.getFieldValue("nks")}))}catch(e){o.open({content:`Terjadi galat ketika menghapus data, tunjukan code ini pada Developer (${e})`,type:"error",key:"hapus-ruta",duration:3})}};S.throttle(x,2e3);const b={clean:"green",error:"red",warning:"rgb(255, 204, 0)",entri:"#fff"};return n(_,{children:[y,a(I,{title:"Entri Kuesioner Inti"}),n(c,{style:{backgroundColor:"#fff",width:"100%",minHeight:"300px",padding:"10px 15px"},direction:"vertical",children:[a(F,{setDataSource:s,form:i,onFinish:f}),a(j,{dataSource:g,columns:[{title:"No",dataIndex:"id",key:"id",render:(t,e,d)=>d+1},{title:"Kecamatan",dataIndex:"kec",key:"kec",render:(t,e)=>`[${e.kode_kec}] ${e.kec}`},{title:"Desa",dataIndex:"desa",key:"desa",render:(t,e)=>`[${e.kode_desa}] ${e.desa}`},{title:"Blok Sensus",dataIndex:"kode_bs4",key:"kode_bs4"},{title:"No Urut Sampel",dataIndex:"r109",key:"r109"},{title:"Nama KRT",dataIndex:"r110",key:"r110"},{title:"Alamat",dataIndex:"r111",key:"r111"},{title:"Nama PML",dataIndex:"nama_lengkap",key:"nama_lengkap"},{title:"Status",dataIndex:"status_dok",key:"status_dok",render:t=>a(c,{style:{backgroundColor:b[t],fontWeight:600,color:"#fff",padding:"5px 10px",borderRadius:"5px"},children:t})},{title:"Entri",dataIndex:"entri",key:"entri",render:(t,e)=>n(k,{type:"primary",onClick:()=>l.get(`${route("entri.mak.view",{id:e.id})}`),children:[a($,{})," lihat"]})},{title:"Ubah NKS",dataIndex:"ubahNks",key:"ubahNks",render:(t,e)=>n(k,{type:"default",children:[a(w,{})," Pindah NKS"]})}]}),";"]})]})};B.layout=r=>a(E,{user:r.props.auth.user,header:a("h2",{className:"",children:"Kelola Entri"}),selectedKey:"kelola-entri",children:r});export{B as default};
