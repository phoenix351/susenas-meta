import{r as s,j as F,a,c as I}from"./app-cade510b.js";import{F as t}from"./index-5ce765d1.js";import{S as p}from"./index-f9258c5c.js";import{I as c}from"./index-b9cc14aa.js";import{I as k}from"./index-8340b4b3.js";import"./useFlexGapSupport-8646280d.js";import"./AntdIcon-da8305e3.js";import"./index-beeaf8d9.js";import"./Keyframes-24838d9a.js";import"./responsiveObserver-bed5db2e.js";import"./ExclamationCircleFilled-1864351a.js";import"./CloseCircleFilled-a13e8288.js";import"./KeyCode-6413d982.js";import"./pickAttrs-01b563d9.js";import"./Overflow-133b988e.js";import"./TextArea-9a7525ca.js";import"./CheckOutlined-c54abbe5.js";import"./CloseOutlined-0d8c520e.js";import"./EyeOutlined-a718312b.js";function b(e){return e==null?"":`Rp ${new Intl.NumberFormat("id-ID",{minimumFractionDigits:0,maximumFractionDigits:2}).format(Number(e))}`}function f(e){return e?Number(e.replace(/Rp\s?|\.|[^0-9,]/g,"").replace(",",".")):0}const P=({form:e,onFinish:n})=>{const[l,h]=s.useState([]),[d,u]=s.useState("");function g(){const o=e.getFieldValue("min"),r=e.getFieldValue("max");let i="";o>r?(i="Harga minimum tidak boleh melebihi harga maksimum",u("error"),e.setFields([{name:"min",errors:[i]}]),e.setFields([{name:"max",errors:[i]}])):(e.setFields([{name:"min",errors:[]}]),e.setFields([{name:"max",errors:[]}]),u("success"))}return s.useEffect(()=>{async function o(){try{const{data:r}=await I.get(route("api.wilayah.kabkot")),i=r.data.map(m=>({label:`[${m.kode_kabkot}] ${m.kabkot}`,value:m.kode_kabkot}));h(i)}catch(r){console.error(r),console.error("error fetch daftar kabkot")}}o()},[]),F(t,{form:e,layout:"vertical",onFieldsChange:g,onFinish:n,children:[a(t.Item,{name:"kode_kabkot",label:"kode_kabkot",children:a(p,{options:l,disabled:!0})}),a(t.Item,{name:"nama_kelompok",label:"nama_kelompok",children:a(c,{readOnly:!0})}),a(t.Item,{name:"id_komoditas",label:"Kode Komoditas",children:a(p,{options:l,disabled:!0})}),a(t.Item,{name:"nama_komoditas",label:"nama_komoditas",children:a(c,{readOnly:!0})}),a(t.Item,{name:"min",label:"Harga Minimum",rules:[{required:!0}],validateStatus:d,children:a(k,{style:{display:"inline-block",width:"100%"},formatter:b,parser:f})}),a(t.Item,{name:"max",label:"Harga Maksimum",rules:[{required:!0}],validateStatus:d,children:a(k,{style:{display:"inline-block",width:"100%"},formatter:b,parser:f})})]})};export{P as default};
