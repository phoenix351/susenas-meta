import{n as ye,r as i,C as he,o as L,Z as Le,i as qe,a as t,j as b,F as q,c as G}from"./app-af43503a.js";import{d as ke,e as Ie,a as Ee,B as _e}from"./index-76f04737.js";import{K as Y}from"./Keyframes-097eede1.js";import{g as We,m as Ue,A as Ge}from"./AntdIcon-937b6b10.js";import{_ as j}from"./debounce-9b200d22.js";import{S as B}from"./index-f4b92d9b.js";import{S as Ze}from"./Skeleton-e533ea65.js";import{T as ie}from"./index-4e959500.js";import{m as re}from"./index-fb98ba8a.js";import{F as O}from"./index-7b49c84f.js";import{I as Z}from"./index-4483dd73.js";import{T as Re}from"./index-f7ad9720.js";import{R as F}from"./RupiahInput-2ca944d5.js";import{T as z}from"./TextRupiah-2a52441e.js";import{I as pe}from"./index-fa065f39.js";import{S as Te}from"./Table-b9d643cb.js";import{l as Je}from"./lodash-21a9db9f.js";import{P as Ye}from"./index-0a4e8b88.js";import{c as W,a as J,r as U}from"./CONSTANT-6757a93f.js";import{D as Xe}from"./index-65be2aae.js";import{M as Se}from"./Blok1_2-20ac8424.js";const Qe=new Y("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),et=new Y("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),tt=new Y("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),ot=new Y("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),nt=new Y("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),lt=new Y("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),at=e=>{const{componentCls:o,iconCls:r,antCls:n,badgeFontHeight:l,badgeShadowSize:a,badgeHeightSm:d,motionDurationSlow:p,badgeStatusSize:h,marginXS:c,badgeRibbonOffset:g}=e,k=`${n}-scroll-number`,u=`${n}-ribbon`,f=`${n}-ribbon-wrapper`,_=ke(e,(S,s)=>{let{darkColor:m}=s;return{[`${o}-color-${S}`]:{background:m}}}),N=ke(e,(S,s)=>{let{darkColor:m}=s;return{[`&${u}-color-${S}`]:{background:m,color:m}}});return{[o]:Object.assign(Object.assign(Object.assign(Object.assign({},ye(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${o}-count`]:{zIndex:e.badgeZIndex,minWidth:e.badgeHeight,height:e.badgeHeight,color:e.badgeTextColor,fontWeight:e.badgeFontWeight,fontSize:e.badgeFontSize,lineHeight:`${e.badgeHeight}px`,whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:e.badgeHeight/2,boxShadow:`0 0 0 ${a}px ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${o}-count-sm`]:{minWidth:d,height:d,fontSize:e.badgeFontSizeSm,lineHeight:`${d}px`,borderRadius:d/2},[`${o}-multiple-words`]:{padding:`0 ${e.paddingXS}px`},[`${o}-dot`]:{zIndex:e.badgeZIndex,width:e.badgeDotSize,minWidth:e.badgeDotSize,height:e.badgeDotSize,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${a}px ${e.badgeShadowColor}`},[`${o}-dot${k}`]:{transition:`background ${p}`},[`${o}-count, ${o}-dot, ${k}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${r}-spin`]:{animationName:lt,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${o}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${o}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:h,height:h,verticalAlign:"middle",borderRadius:"50%"},[`${o}-status-success`]:{backgroundColor:e.colorSuccess},[`${o}-status-processing`]:{position:"relative",color:e.colorPrimary,backgroundColor:e.colorPrimary,"&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:a,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:Qe,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${o}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${o}-status-error`]:{backgroundColor:e.colorError},[`${o}-status-warning`]:{backgroundColor:e.colorWarning},[`${o}-status-text`]:{marginInlineStart:c,color:e.colorText,fontSize:e.fontSize}}}),_),{[`${o}-zoom-appear, ${o}-zoom-enter`]:{animationName:et,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${o}-zoom-leave`]:{animationName:tt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${o}-not-a-wrapper`]:{[`${o}-zoom-appear, ${o}-zoom-enter`]:{animationName:ot,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${o}-zoom-leave`]:{animationName:nt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${o}-status)`]:{verticalAlign:"middle"},[`${k}-custom-component, ${o}-count`]:{transform:"none"},[`${k}-custom-component, ${k}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[`${k}`]:{overflow:"hidden",[`${k}-only`]:{position:"relative",display:"inline-block",height:e.badgeHeight,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${k}-only-unit`]:{height:e.badgeHeight,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${k}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${o}-count, ${o}-dot, ${k}-custom-component`]:{transform:"translate(-50%, -50%)"}}}),[`${f}`]:{position:"relative"},[`${u}`]:Object.assign(Object.assign(Object.assign(Object.assign({},ye(e)),{position:"absolute",top:c,padding:`0 ${e.paddingXS}px`,color:e.colorPrimary,lineHeight:`${l}px`,whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${u}-text`]:{color:e.colorTextLightSolid},[`${u}-corner`]:{position:"absolute",top:"100%",width:g,height:g,color:"currentcolor",border:`${g/2}px solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),N),{[`&${u}-placement-end`]:{insetInlineEnd:-g,borderEndEndRadius:0,[`${u}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${u}-placement-start`]:{insetInlineStart:-g,borderEndStartRadius:0,[`${u}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},Oe=We("Badge",e=>{const{fontSize:o,lineHeight:r,fontSizeSM:n,lineWidth:l,marginXS:a,colorBorderBg:d}=e,p=Math.round(o*r),h=l,c="auto",g=p-2*h,k=e.colorBgContainer,u="normal",f=n,_=e.colorError,N=e.colorErrorHover,S=o,s=n/2,m=n,E=n/2,R=Ue(e,{badgeFontHeight:p,badgeShadowSize:h,badgeZIndex:c,badgeHeight:g,badgeTextColor:k,badgeFontWeight:u,badgeFontSize:f,badgeColor:_,badgeColorHover:N,badgeShadowColor:d,badgeHeightSm:S,badgeDotSize:s,badgeFontSizeSm:m,badgeStatusSize:E,badgeProcessingDuration:"1.2s",badgeRibbonOffset:a,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"});return[at(R)]}),it=e=>{let{className:o,prefixCls:r,style:n,color:l,children:a,text:d,placement:p="end"}=e;const{getPrefixCls:h,direction:c}=i.useContext(he),g=h("ribbon",r),k=Ie(l,!1),u=L(g,`${g}-placement-${p}`,{[`${g}-rtl`]:c==="rtl",[`${g}-color-${l}`]:k},o),[f,_]=Oe(g),N={},S={};return l&&!k&&(N.background=l,S.color=l),f(i.createElement("div",{className:L(`${g}-wrapper`,_)},a,i.createElement("div",{className:L(u,_),style:Object.assign(Object.assign({},N),n)},i.createElement("span",{className:`${g}-text`},d),i.createElement("div",{className:`${g}-corner`,style:S}))))},rt=it;function Ce(e){let{prefixCls:o,value:r,current:n,offset:l=0}=e,a;return l&&(a={position:"absolute",top:`${l}00%`,left:0}),i.createElement("span",{style:a,className:L(`${o}-only-unit`,{current:n})},r)}function st(e,o,r){let n=e,l=0;for(;(n+10)%10!==o;)n+=r,l+=r;return l}function dt(e){const{prefixCls:o,count:r,value:n}=e,l=Number(n),a=Math.abs(r),[d,p]=i.useState(l),[h,c]=i.useState(a),g=()=>{p(l),c(a)};i.useEffect(()=>{const f=setTimeout(()=>{g()},1e3);return()=>{clearTimeout(f)}},[l]);let k,u;if(d===l||Number.isNaN(l)||Number.isNaN(d))k=[i.createElement(Ce,Object.assign({},e,{key:l,current:!0}))],u={transition:"none"};else{k=[];const f=l+10,_=[];for(let s=l;s<=f;s+=1)_.push(s);const N=_.findIndex(s=>s%10===d);k=_.map((s,m)=>{const E=s%10;return i.createElement(Ce,Object.assign({},e,{key:s,value:E,offset:m-N,current:m===N}))});const S=h<a?1:-1;u={transform:`translateY(${-st(d,l,S)}00%)`}}return i.createElement("span",{className:`${o}-only`,style:u,onTransitionEnd:g},k)}var ct=globalThis&&globalThis.__rest||function(e,o){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&o.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)o.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(r[n[l]]=e[n[l]]);return r};const ut=i.forwardRef((e,o)=>{var{prefixCls:r,count:n,className:l,motionClassName:a,style:d,title:p,show:h,component:c="sup",children:g}=e,k=ct(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]);const{getPrefixCls:u}=i.useContext(he),f=u("scroll-number",r),_=Object.assign(Object.assign({},k),{"data-show":h,style:d,className:L(f,l,a),title:p});let N=n;if(n&&Number(n)%1===0){const S=String(n).split("");N=S.map((s,m)=>i.createElement(dt,{prefixCls:f,count:Number(n),value:s,key:S.length-m}))}return d&&d.borderColor&&(_.style=Object.assign(Object.assign({},d),{boxShadow:`0 0 0 1px ${d.borderColor} inset`})),g?Ee(g,S=>({className:L(`${f}-custom-component`,S==null?void 0:S.className,a)})):i.createElement(c,Object.assign({},_,{ref:o}),N)}),mt=ut;var ht=globalThis&&globalThis.__rest||function(e,o){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&o.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)o.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(r[n[l]]=e[n[l]]);return r};const pt=(e,o)=>{const{prefixCls:r,scrollNumberPrefixCls:n,children:l,status:a,text:d,color:p,count:h=null,overflowCount:c=99,dot:g=!1,size:k="default",title:u,offset:f,style:_,className:N,rootClassName:S,showZero:s=!1}=e,m=ht(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","showZero"]),{getPrefixCls:E,direction:R}=i.useContext(he),x=E("badge",r),[T,A]=Oe(x),$=h>c?`${c}+`:h,w=$==="0"||$===0,C=h===null||w&&!s,v=(a!=null||p!=null)&&C,y=g&&!w,I=y?"":$,K=i.useMemo(()=>(I==null||I===""||w&&!s)&&!y,[I,w,s,y]),ee=i.useRef(h);K||(ee.current=h);const P=ee.current,be=i.useRef(I);K||(be.current=I);const se=be.current,ge=i.useRef(y);K||(ge.current=y);const te=i.useMemo(()=>{if(!f)return Object.assign({},_);const H={marginTop:f[1]};return R==="rtl"?H.left=parseInt(f[0],10):H.right=-parseInt(f[0],10),Object.assign(Object.assign({},H),_)},[R,f,_]),Ve=u??(typeof P=="string"||typeof P=="number"?P:void 0),Fe=K||!d?null:i.createElement("span",{className:`${x}-status-text`},d),je=!P||typeof P!="object"?void 0:Ee(P,H=>({style:Object.assign(Object.assign({},te),H.style)})),oe=Ie(p,!1),Ke=L({[`${x}-status-dot`]:v,[`${x}-status-${a}`]:!!a,[`${x}-color-${p}`]:oe}),de={};p&&!oe&&(de.color=p,de.background=p);const fe=L(x,{[`${x}-status`]:v,[`${x}-not-a-wrapper`]:!l,[`${x}-rtl`]:R==="rtl"},N,S,A);if(!l&&v){const H=te.color;return T(i.createElement("span",Object.assign({},m,{className:fe,style:te}),i.createElement("span",{className:Ke,style:de}),d&&i.createElement("span",{style:{color:H},className:`${x}-status-text`},d)))}return T(i.createElement("span",Object.assign({ref:o},m,{className:fe}),l,i.createElement(Le,{visible:!K,motionName:`${x}-zoom`,motionAppear:!1,motionDeadline:1e3},H=>{let{className:He,ref:De}=H;const Me=E("scroll-number",n),ce=ge.current,ze=L({[`${x}-dot`]:ce,[`${x}-count`]:!ce,[`${x}-count-sm`]:k==="small",[`${x}-multiple-words`]:!ce&&se&&se.toString().length>1,[`${x}-status-${a}`]:!!a,[`${x}-color-${p}`]:oe});let ne=Object.assign({},te);return p&&!oe&&(ne=ne||{},ne.background=p),i.createElement(mt,{prefixCls:Me,show:!K,motionClassName:He,className:ze,count:se,title:Ve,style:ne,key:"scrollNumber",ref:De},je)}),Fe))},Be=i.forwardRef(pt);Be.Ribbon=rt;const eo=Be;var bt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z"}}]},name:"dollar",theme:"outlined"};const gt=bt;var ft=function(o,r){return i.createElement(Ge,qe({},o,{ref:r,icon:gt}))};const to=i.forwardRef(ft),le=({inputName:e,onChange:o,initialValue:r,editable:n,validateStatus:l})=>{const[a,d]=i.useState(0),p=c=>{d(c)},h=j(c=>{p(c),o&&o(c)},600);return t(O.Item,{name:e,initialValue:r??void 0,style:{marginBottom:"4px"},validateStatus:l,children:t(pe,{className:"custom-input-number",readOnly:n||!1,min:0,step:.01,formatter:c=>c&&c>0?`${c}`.replace(/\B(?=(\d{3})+(?!\d))/g,","):"",parser:c=>{const g=parseFloat(String(c).replace(/[^\d.]/g,""));return isNaN(g)?0:g},value:a,onChange:c=>{h(c)}})})},$e={backgroundColor:"#fc0",fontWeight:"700",padding:"5px"},D={borderRight:"1px solid ",padding:"5px"},Ne={borderRight:"1px solid ",textAlign:"center",padding:"5px"},X={borderRight:"1px solid ",textAlign:"right",padding:"5px"},yt={borderRight:"1px solid ",width:"200px",textAlign:"right",padding:"5px"},ue={borderRight:"1px solid ",backgroundColor:"#636f83",padding:"5px"},kt=({data:e,form:o,subKey:r,rekapMak:n,calculate:l})=>{const[a,d]=i.useState(0),[p,h]=i.useState(0),[c,g]=i.useState(!1),[k,u]=i.useState(!1),[f,_]=i.useState(!1),[N,S]=i.useState(!1),s=`${e.type==="sub"?"jumlah":""}${e.id}_produksi_harga${e.subKey}`,m=`${e.type==="sub"?"jumlah":""}${e.id}_beli_harga${e.subKey}`,E=`${e.id}_total_harga`;i.useEffect(()=>{let $=Number(o.getFieldValue(m));$||($=0);let w=Number(o.getFieldValue(s));w||(w=0);const C=$+w;C&&(o.setFieldsValue({[`${e.id}_total_harga_calculated`]:C}),T())},[a]),i.useEffect(()=>{},[o.getFieldValue(m)]),i.useEffect(()=>{T()},[n]),i.useEffect(()=>{T(),A()},[]);function R($){let w=o.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.id}_produksi_harga${e.subKey}`),C=$+w;o.setFieldsValue({[`${e.id}_total_harga_calculated`]:C}),d(C),e.type}function x($){d(parseFloat(String($)??0)+parseFloat(o.getFieldValue(`${e.id}_beli_harga`)||0)),e.type}function T(){const $=o.getFieldValue(`${e.id}_total_harga`),w=Number(o.getFieldValue(m))??0+Number(o.getFieldValue(s))??0;if(g($==w),e.type=="sub"){const C=o.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.id}_produksi_harga${e.subKey}`),v=o.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.id}_beli_harga${e.subKey}`);u(v==n[e.subKey].beli),_(C==n[e.subKey].produksi)}}function A(){const $=o.getFieldValue(`${e.id}_beli_volume`)+o.getFieldValue(`${e.id}_produksi_volume`);h($);const w=o.getFieldValue(`${e.id}_total_volume`);S(w==$)}return b(q,{children:[b("tr",{style:{backgroundColor:e.flagBasket?"#ffffcc":"",borderTop:"1px solid ",borderLeft:"1px solid "},children:[t("td",{style:{...Ne,width:"55px"},children:e.id}),b("td",{colSpan:1,style:{...e.type==="sub"?$e:D},children:[e.rincian,e.type==="lain"&&t(O.Item,{name:`${e.id}_item`,children:t(Z,{placeholder:"Sebutkan"})})]}),t("td",{colSpan:1,style:{...e.type==="sub"?$e:Ne},children:e.type==="lain"?t(O.Item,{name:`${e.id}_satuan`,children:t(Z,{placeholder:"Sebutkan"})}):e.satuan}),t("td",{style:{...e.type==="sub"?ue:D},children:e.type==="sub"||t(le,{inputName:`${e.id}_beli_volume`,onChange:j(A,400)})}),t("td",{style:{...yt},children:t(F,{inputName:m,onChange:j(R,600),validateStatus:!k&&e.type=="sub"?"error":""})}),t("td",{style:{...e.type==="sub"?ue:D},children:e.type==="sub"||t(le,{inputName:`${e.id}_produksi_volume`,onChange:j(A,400)})}),t("td",{style:{...X},children:t(F,{inputName:s,onChange:j(x,600),validateStatus:!f&&e.type=="sub"?"error":""})}),t("td",{style:e.type==="sub"?ue:D,children:e.type==="sub"||t(le,{inputName:`${e.id}_total_volume`,onChange:j(A,400),validateStatus:N?"":"error"})}),t("td",{style:{...X},children:t(F,{inputName:E,onChange:j(T,600),validateStatus:c?"":"error"})})]}),b("tr",{style:{backgroundColor:e.flagBasket?"#ffffcc":"",borderBottom:"1px solid ",borderRight:"1px solid ",borderLeft:"1px solid "},children:[t("td",{style:D}),t("td",{style:D}),t("td",{style:D}),t("td",{style:D}),b("td",{style:X,children:[" ",e.type==="sub"&&t(z,{color:k?"green":"red",value:n[e.subKey]?n[e.subKey].beli??0:0})]}),t("td",{style:D}),t("td",{style:X,children:e.type==="sub"&&t(z,{color:f?"green":"red",value:n[e.subKey].produksi??0})}),t("td",{style:X,children:e.type!=="sub"&&t(O.Item,{style:{color:N?"green":"red",backgroundColor:"inherit",border:"none",marginRight:"10px"},name:`${e.id}_total_volume_calculated`,children:p>0?p:""})}),t("td",{style:D,children:t(F,{style:{color:c?"green":"red",backgroundColor:"inherit",border:"none",cursor:"text"},readOnly:!0,inputName:`${e.id}_total_harga_calculated`})})]})]})},{Text:oo,Title:_t}=ie,St={borderCollapse:"collapse",width:"100%"},V={borderStyle:"solid",border:"solid 1px black",padding:"5px"},M={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},Pe=({title:e,konten:o,rekapMak:r,calculate:n,form:l})=>(e="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN, BAHAN MINUMAN, DAN ROKOK SEMINGGU TERAKHIR",b("table",{style:St,children:[b("thead",{children:[t("tr",{style:{backgroundColor:"#fc0",textAlign:"center"},children:t("th",{style:V,colSpan:10,children:t(B,{direction:"vertical",style:{padding:"25px"},children:t(_t,{level:4,children:e})})})}),b("tr",{children:[t("th",{style:V,rowSpan:2,children:"Kode"}),t("th",{style:V,rowSpan:2,children:"Rincian"}),t("th",{style:V,rowSpan:2,children:"Satuan standar"}),t("th",{style:V,colSpan:2,children:"Berasal dari pembelian (tunai/bon)"}),t("th",{style:V,colSpan:2,children:"Berasal dari produksi sendiri, pemberian, dsb"}),t("th",{style:V,colSpan:2,children:"Jumlah konsumsi"})]}),b("tr",{children:[t("th",{style:V,children:"Banyaknya (0,00)"}),t("th",{style:V,children:"Nilai (Rp)"}),t("th",{style:V,children:"Banyaknya (0,00)"}),t("th",{style:V,children:"Nilai (Rp)"}),t("th",{style:V,children:"Banyaknya (5) + (7) (0,00)"}),t("th",{style:V,children:"Nilai (6) + (8) (Rp)"})]})]}),b("tbody",{children:[b("tr",{children:[t("td",{width:"55px",style:M,children:"(1)"}),t("td",{style:M,children:"(3)"}),t("td",{width:"80px",style:M,children:"(4)"}),t("td",{width:"100px",style:M,children:"(5)"}),t("td",{style:M,children:"(6)"}),t("td",{width:"100px",style:M,children:"(7)"}),t("td",{style:M,children:"(8)"}),t("td",{width:"100px",style:M,children:"(9)"}),t("td",{style:M,children:"(10)"})]}),o.map((a,d)=>t(kt,{data:a,form:l,rekapMak:r,calculate:n},d))]})]})),{Text:Ct,Title:no}=ie,Q=({form:e,rekapMak:o,calculate:r,from:n,to:l,hal:a})=>{const[d,p]=i.useState([]),[h,c]=i.useState(!0);i.useEffect(()=>{(async(u,f)=>{const{data:_}=await G.get(route("api.mak.komoditas.list",{from:u,to:f})),N=_.map(S=>({id:S.id,kode_coicop:S.kode_coicop,rincian:S.nama_komoditas,satuan:S.satuan,type:S.type,subKey:S.id_kelompok,flagBasket:S.flag_basket}));p([...N]),c(!1)})(n,l)},[]);const g="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN & MINUMAN SEMINGGU TERAKHIR";return b(B,{direction:"vertical",style:{width:"100%"},children:[b(B,{style:{width:"100%",justifyContent:"end"},direction:"horizontal",children:[t(Ct,{children:"Jumlah komoditas bahan makanan dan bahan minuman terisi pada halaman ini"}),t(le,{inputName:`hal${a}_jml_komoditas`})]}),t(Pe,{form:e,konten:h?[]:d,title:g,rekapMak:o,calculate:r}),h&&t(Ze,{active:!0,paragraph:{rows:10}})]})},lo=({form:e,onFinish:o,tabContentStyle:r,subTotalHarga:n,calculate:l,rekapMak:a})=>{re.useMessage();function d(p){}return i.useEffect(()=>{},[]),b(O,{form:e,name:"Blok4_1_hal2",onFinish:o,autoComplete:"off",layout:"vertical",onValuesChange:j(l,600),children:[t(O.Item,{name:"id_ruta",hidden:!0,children:t(Z,{placeholder:"id rt"})}),t(Re,{onChange:d,type:"line",style:{backgroundColor:"#fff",padding:"10px"},items:[{label:"Hal 2",key:"1",children:t(Q,{from:1,to:38,hal:2,form:e,calculate:l,rekapMak:a})},{label:"Hal 4",key:"2",children:t(Q,{from:39,hal:4,to:77,form:e,calculate:l,rekapMak:a})},{label:"Hal 6",key:"3",children:t(Q,{from:78,to:116,hal:6,form:e,calculate:l,rekapMak:a})},{label:"Hal 8",key:"4",children:t(Q,{from:117,to:155,hal:8,form:e,calculate:l,rekapMak:a})},{label:"Blok 10",key:"5",children:t(Q,{from:156,to:186,hal:10,form:e,calculate:l,rekapMak:a})}]})]})},ve=({onFinish:e,nomor_art:o,setDaftarArt:r,daftarArt:n,id_ruta:l,id_art:a,calculateKalori:d,konten:p,art:h})=>{const[c]=O.useForm(),[g,k]=i.useState(!1),u=async s=>{s={...s,id_art:a,id_ruta:l};try{k(!0);const m=route("entri.mak.konsumsi_art.store"),{data:E}=await G.patch(m,s,{headers:{"Content-Type":"application/json"}})}catch(m){console.log("error",{error:m})}finally{k(!1)}},f=({subKey:s,jenis:m})=>{const E=`${m}_harga${s}`,R=c.getFieldsValue(),x=Object.entries(R).filter(([$])=>$.endsWith(E)).reduce(($,[,w])=>$+(w||0),0),A=[...n].map($=>{let w={...$.rekap};return w[s][m]=x,$.id===a?{...$,rekap:w}:$});r(A)},_=j(()=>{const s="beli_harga12",m="beli_harga13",E="produksi_harga12",R="produksi_harga13",x=c.getFieldsValue(),T=Object.entries(x).filter(([y])=>y.endsWith(s)&&!y.includes("jumlah")).reduce((y,[,I])=>y+(I||0),0),A=Object.entries(x).filter(([y])=>y.endsWith(m)&&!y.includes("jumlah")).reduce((y,[,I])=>y+(I||0),0),$=Object.entries(x).filter(([y])=>y.endsWith(E)&&!y.includes("jumlah")).reduce((y,[,I])=>y+(I||0),0),w=Object.entries(x).filter(([y])=>y.endsWith(R)&&!y.includes("jumlah")).reduce((y,[,I])=>y+(I||0),0),v=[...n].map(y=>{let I={...y.rekap};return I[12]={beli:T,produksi:$,total:T+$},I[13]={beli:A,produksi:w,total:A+w},y.id===a?{...y,rekap:I}:y});r(v)},600),N=j(()=>{_(),c.submit(),d(c.getFieldsValue()).then(s=>{let m=[...n];m[o].kalori=s})},1e3);return i.useEffect(()=>{(async m=>{k(!0);const{data:E}=await G.get(route("api.mak.konsumsi.art",{id_art:m})),R=[187,225],T=E.map(A=>({[`${R.includes(A.id_komoditas)?"jumlah":""}${A.id_komoditas}_beli_harga${A.id_kelompok}`]:A.harga_beli,[`${R.includes(A.id_komoditas)?"jumlah":""}${A.id_komoditas}_produksi_harga${A.id_kelompok}`]:A.harga_produksi,[`${A.id_komoditas}_total_harga`]:A.harga_total,[`${A.id_komoditas}_item`]:A.item,[`${A.id_komoditas}_satuan`]:A.satuan,[`${A.id_komoditas}_beli_volume`]:A.volume_beli,[`${A.id_komoditas}_produksi_volume`]:A.volume_produksi,[`${A.id_komoditas}_total_volume`]:A.volume_total})).reduce((A,$)=>{for(const w in $)$.hasOwnProperty(w)&&(A[w]=$[w]);return A},{});T[`blok4_31_${o}_id_art`]=m,c.setFieldsValue(T),k(!1)})(a)},[a]),i.useEffect(()=>{c.setFieldsValue({id_ruta:l,id_art:a}),d(c.getFieldsValue()).then(s=>{let m=[...n];m[o].kalori=s})},[c]),t(B,{direction:"vertical",style:{width:"100%"},children:b(O,{form:c,name:"Art",onFinish:u,autoComplete:"off",layout:"vertical",onValuesChange:N,children:[t(B,{style:{width:"100%",justifyContent:"space-between"},direction:"horizontal",children:b(B,{style:{display:g?"":"none"},children:["Menyimpan... ",t(Te,{})]})}),t(Pe,{form:c,konten:p,title:"BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN, BAHAN MINUMAN, DAN ROKOK SEMINGGU TERAKHIR",calculate:f,rekapMak:h.rekap})]})})},{Text:$t,Title:Nt}=ie,vt={borderCollapse:"collapse",width:"100%",backgroundColor:"#fff"},Ae={borderStyle:"solid",border:"solid 1px black",padding:"5px"},At={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},ae=({title:e,subtitle:o,columnsCount:r,columns:n,children:l})=>b("table",{style:vt,children:[t("thead",{style:{backgroundColor:"#fc0",textAlign:"center"},children:t("tr",{children:t("td",{colSpan:r,style:Ae,children:b(B,{direction:"vertical",children:[t(Nt,{level:4,children:e}),t($t,{children:o})]})})})}),b("tbody",{children:[n&&b(q,{children:[t("tr",{children:n.map(a=>t("th",{style:Ae,children:a}))}),t("tr",{children:Array.from(Array(r).keys()).map(a=>b("td",{style:At,children:["(",a+1,")"]}))})]}),l]})]}),me={borderStyle:"solid",border:"solid 1px black",margin:"auto",textAlign:"center",padding:"5px"},ao=({artForm:e,id_ruta:o,artFormFinish:r,tabContentStyle:n,daftarArt:l,setDaftarArt:a,calculateKalori:d})=>{const p=C=>{},[h,c]=i.useState("0"),[g,k]=i.useState([]),[u,f]=i.useState([]),[_,N]=i.useState(!1),[S,s]=i.useState(!1),m=i.useRef(1),[E,R]=re.useMessage(),x=async()=>{s(!0);const C=`Art-${m.current++}`;try{const{data:v}=await G.post(route("entri.mak.art.store"),{nama:C,nomor_art:l.length+1,id_ruta:o}),y=[...l,{id:v.id,id_ruta:o,nomor_art:m.current++,nama:C,key:C,rekap:{12:{produksi:0,beli:0,total:0},13:{produksi:0,beli:0,total:0}}}];a([...y]),c(C)}catch(v){console.error("Error in add function:",v)}finally{s(!1)}},T=async C=>{const v=e.getFieldValue(`${C}-id_art`);if(C===0){E.open({content:"anggota ruta pertama tidak boleh dihapus,",type:"warning",key:v,duration:3});return}try{const{data:y}=await G.delete(route("entri.mak.art.delete",{id_art:v})),I=l.filter(K=>K.id!==v);a(I),E.open({content:"Berhasil menghapus 1 anggota rumah tangga",type:"success",key:v})}catch(y){console.error("Error in add function:",y),E.open({content:`Terjadi galat ketika menghapus data, tunjukan code ini pada Developer (${y})`,type:"error",key:v,duration:3})}},$=j((C,v,y)=>{const I=[...l];I[C][v]=y.trim(),a(I)},1e3),w=Je.throttle(T,2e3);return i.useEffect(()=>{(async(y,I)=>{const{data:K}=await G.get(route("api.mak.komoditas.list",{from:y,to:I})),ee=K.map(P=>({id:P.id,kode_coicop:P.kode_coicop,rincian:P.nama_komoditas,satuan:P.satuan,type:P.type,subKey:P.id_kelompok,flagBasket:P.flag_basket}));f([...ee])})(187,225),N(!1);const v=l.map((y,I)=>({label:y.nama,key:String(I),children:t(ve,{onFinish:p,nomor_art:y.nomor_art,daftarArt:l,setDaftarArt:a,id_ruta:e.getFieldValue("id_ruta"),art:y,id_art:y.id,calculateKalori:d,konten:u})}));k([...v])},[]),b(B,{direction:"vertical",style:n,children:[R,t(_e,{type:"primary",onClick:x,children:"Tambah Art"}),b(O,{name:"artForm",form:e,onFinish:r,children:[t(O.Item,{name:"id_ruta",hidden:!0,children:t(Z,{})}),t(ae,{title:"DAFTAR ANGGOTA RUMAH TANGGA",columns:["Nomor","Nama Anggota Rumah Tangga","aksi"],columnsCount:3,children:S?t("tr",{children:t("td",{colSpan:3,children:b(B,{style:{width:"100%",justifyContent:"center",marginTop:"30px"},direction:"vertical",children:[t(B,{style:{width:"100%",justifyContent:"center"},children:t(Te,{size:"large"})}),t(B,{style:{width:"100%",justifyContent:"center"},children:"Menambahkan anggota rumah tangga..."})]})})}):l.map((C,v)=>b("tr",{children:[t("td",{style:me,children:v+1}),b("td",{style:me,children:[t(O.Item,{name:`${v}-id_art`,hidden:!0,children:t(Z,{})}),t(O.Item,{name:`${v}-nama`,style:{margin:"auto"},children:t(Z,{placeholder:"nama anggota rumah tangga",onChange:y=>$(v,"nama",y.target.value)})})]}),t("td",{style:me,children:t(Ye,{placement:"topLeft",title:"apakah anda yakin akan menghapus art ini?",description:"hapus anggota rumah tangga",okText:"yakin dong",cancelText:"gajadi",onConfirm:()=>w(v),children:t(_e,{disabled:v===0,children:"Hapus"})})})]},v))})]}),t(Re,{style:{backgroundColor:"#fff",padding:"10px"},items:l.map((C,v)=>({label:C.nama,key:String(v),children:t(ve,{onFinish:p,nomor_art:C.nomor_art,daftarArt:l,setDaftarArt:a,id_ruta:C.id_ruta,art:C,id_art:C.id,calculateKalori:d,konten:u})})),type:"line"})]})},xe=({art:e,index:o,form:r,tipe:n})=>{const[l,a]=i.useState(!1),[d,p]=i.useState(!1),[h,c]=i.useState(!1),[g,k]=i.useState(!1);function u(){const f=e.rekap[13].beli,_=e.rekap[13].produksi,N=e.rekap[12].beli,S=e.rekap[12].produksi,s=r.getFieldValue(`blok4_31_${n=="individu"?o:"jumlah"}_mak_beli`)??0,m=r.getFieldValue(`blok4_31_${n=="individu"?o:"jumlah"}_mak_produksi`)??0,E=r.getFieldValue(`blok4_31_${n=="individu"?o:"jumlah"}_rokok_beli`)??0,R=r.getFieldValue(`blok4_31_${n=="individu"?o:"jumlah"}_rokok_produksi`)??0;c(f==E),k(_==R),a(N==s),p(S==m)}return i.useEffect(()=>{u()},[e.rekap[12].beli,e.rekap[12].produksi,e.rekap[13].beli,e.rekap[13].produksi]),b("tr",{children:[t("td",{style:W,children:n=="individu"?o+1:""}),t("td",{style:J,children:n=="individu"?b(q,{children:[e.nama,t(O.Item,{name:n=="individu"?`blok4_31_${o}_id_art`:"",label:null,initialValue:n=="individu"?e.id:"",hidden:!0,children:t(Z,{readOnly:!0})},`form-item-${o}`)," "]}):"JUMLAH"}),b("td",{style:U,children:[t(F,{inputName:`blok4_31_${n=="individu"?o:"jumlah"}_mak_beli`,initialValue:e.mak_beli,onChange:u,validateStatus:l?"":"error"}),t(z,{color:l?"green":"red",value:e.rekap[12].beli})]}),b("td",{style:U,children:[t(F,{inputName:`blok4_31_${n=="individu"?o:"jumlah"}_mak_produksi`,initialValue:e.mak_produksi,onChange:u,validateStatus:d?"":"error"}),t(z,{color:d?"green":"red",value:e.rekap[12].produksi})]}),b("td",{style:U,children:[t(F,{inputName:`blok4_31_${n=="individu"?o:"jumlah"}_rokok_beli`,initialValue:e.rokok_beli,onChange:u,validateStatus:h?"":"error"}),t(z,{color:h?"green":"red",value:e.rekap[13].beli})]}),b("td",{style:U,children:[t(F,{inputName:`blok4_31_${n=="individu"?o:"jumlah"}_rokok_produksi`,initialValue:e.rokok_produksi,onChange:u,validateStatus:g?"":"error"}),t(z,{color:g?"green":"red",value:e.rekap[13].produksi})]})]})},xt=({rincian:e,index:o,rekapMak:r,form:n,setRekapMak:l})=>{const a=f=>{let _=[...r];_[16].total=f,_[17].total=_[15].total+_[16].total,l(_)},[d,p]=i.useState(!1),[h,c]=i.useState(!1),[g,k]=i.useState(!1);function u(){const f=r[e.id-1].beli,_=r[e.id-1].produksi,N=r[e.id-1].total,S=n.getFieldValue(`blok4_32_${e.id-1}_beli`)??0,s=n.getFieldValue(`blok4_32_${e.id-1}_produksi`)??0,m=n.getFieldValue(`blok4_32_${e.id-1}_total`)??0;p(f==S),c(_==s),k(N==m),e.id==17&&a(m)}return i.useEffect(()=>{u()},[r[e.id-1].beli,r[e.id-1].produksi,r[e.id-1].total]),b("tr",{style:{backgroundColor:e.nomor===17?"rgb(255,255,204)":""},children:[t("td",{style:W,children:e.nomor}),t("td",{style:J,children:e.rincian}),t("td",{style:U,children:e.id<16&&b(q,{children:[t(F,{inputName:`blok4_32_${e.id-1}_beli`,onChange:u,validateStatus:d?"":"error"},o),t(z,{color:d?"green":"red",value:r[e.id-1].beli},e.id)]})}),t("td",{style:U,children:e.id<16&&b(q,{children:[t(F,{inputName:`blok4_32_${e.id-1}_produksi`,onChange:u,validateStatus:h?"":"error"},o),t(z,{color:h?"green":"red",value:r[e.id-1].produksi},e.id)]})}),t("td",{style:U,children:b(q,{children:[t(F,{inputName:`blok4_32_${e.id-1}_total`,onChange:u,validateStatus:g?"":"error"},o),t(z,{color:g?"green":"red",value:r[e.id-1].total},e.id)]})})]})},io=({form:e,onFinish:o,tabContentStyle:r,rekapMak:n,setRekapMak:l,daftarArt:a,daftarRincian432:d})=>{const[p,h]=re.useMessage(),[c,g]=i.useState({12:{beli:0,produksi:0,total:0},13:{beli:0,produksi:0,total:0}}),k=u=>{let f=u.reduce((_,N)=>(Object.values(N.rekap).forEach((S,s)=>{_[s]=_[s]||{beli:0,produksi:0,total:0},_[s].beli+=S.beli,_[s].produksi+=S.produksi,_[s].total+=S.total}),_),[]);return{12:f[0],13:f[1]}};return i.useEffect(()=>{let u=k(a);(async()=>{var N;const{data:_}=await G.get(route("entri.mak.art.fetch",{id_ruta:(N=a[0])==null?void 0:N.id_ruta}));_.forEach((S,s)=>{e.setFieldValue(`blok4_31_${s}_id_art`,S.id)})})(),g(u),l(_=>{let N=[..._];return N[12]=u[12],N[13]=u[13],N[14]=N.slice(0,14).reduce((S,s)=>({beli:S.beli+s.beli,produksi:S.produksi+s.produksi,total:S.total+s.total}),{beli:0,produksi:0,total:0}),[...N]})},[a]),t(B,{direction:"vertical",style:r,children:b(O,{form:e,name:"Blok4_3",onFinish:o,autoComplete:"off",layout:"vertical",children:[b(ae,{title:"BLOK IV.3.1. REKAPITULASI PENGELUARAN MAKANAN DAN MINUMAN JADI SERTA ROKOK SELURUH ANGGOTA RUMAH TANGGA (DALAM RUPIAH)",subtitle:"",columns:["No.","Nama ART","Makanan dan Minuman Jadi (Pembelian)","Makanan dan Minuman Jadi (Produksi sendiri, Pemberian, dsb)","Rokok dan Tembaku (Pembelian)","Rokok dan Tembaku (Produksi sendiri, Pemberian, dsb)"],columnsCount:6,children:[a.map((u,f)=>t(xe,{art:u,index:f,form:e,tipe:"individu"},f)),a.length>0&&t(xe,{art:{rekap:c},index:99,form:e,tipe:"jumlah"},99)]},1),t(Xe,{}),t(ae,{title:"BLOK IV.3.2. REKAPITULASI PENGELUARAN MAKANAN, MINUMAN, DAN ROKOK (DALAM RUPIAH)",subtitle:"[Kolom (3) Disalin dari Blok IV.1 Kolom (6), Blok IV.3.1 Kolom (3), atau (5)] dan [Kolom (4) Disalin dari Blok IV.1 Kolom (8), Blok IV.3.1 Kolom (4), atau (6)]",columnsCount:5,columns:["No.","Jenis Pengeluaran","Pembelian Seminggu Terakhir","Produksi Sendiri, Pemberian, dsb., Seminggu Terakhir","Total Seminggu Terakhir [Kolom 3 + Kolom 4]"],children:d.map((u,f)=>t(xt,{form:e,rincian:u,index:f,rekapMak:n,setRekapMak:l},f))},2),h]})})},we=({type:e,name:o,options:r,customKey:n,children:l,setValue:a,dependencies:d,rules:p})=>{const[h,c]=i.useState(""),[g,k]=i.useState(""),[u,f]=i.useState(!1),_=({getFieldValue:s},m,E,R,x,T)=>({validator(A,$,w){let C;x&&(C=s(x));let v=!0;return m=="less"?(C=C??0,v=$<C):m=="equal"?(C=C??0,v=$==C):m=="greater"?(C=C??0,v=$>C):m=="less equal"?(C=C??0,v=$<=C):m=="greater equal"?(C=C??0,v=$>=C):m=="required if"&&(v=!!(C>=T&&$)),console.log({value:$,dependentValue:T,test:v,ruleName:m}),$==null||v?(c(""),k(""),f(!1),Promise.resolve()):(c(E),k(R),f(!0),Promise.resolve())}});let N=[];if(p){const{ruleName:s,message:m,status:E,dependentName:R,dependentValue:x}=p;N=[({getFieldValue:T})=>_({getFieldValue:T},s,m,E,R,x)]}else N=[];return{number:t(O.Item,{name:o,label:null,dependencies:d,rules:N,validateStatus:g,help:h,hasFeedback:u,children:t(pe,{})}),binary:t(Se,{name:o,options:[{label:"[1] YA",value:1},{label:"[5] TIDAK",value:5}],onChange:a&&(s=>a(s))}),rupiah:t(F,{inputName:o,editable:n===26}),multi:t(Se,{name:o,options:r||[],rules:N,validationStatus:g,help:h,hasFeedback:u,dependencies:d,onChange:a&&(s=>a(s))})}[e]},wt=({props:e,defaultValue:o})=>{const[r,n]=i.useState(o),[l,a]=i.useState([]),d=b(q,{children:[t("td",{style:W,children:e.nomor}),t("td",{style:J,children:e.rincian})]});return i.useEffect(()=>{if(e.children){let p=e.children.filter((h,c)=>{let g=!1;return h.dependentValues&&h.dependentValues.forEach(k=>{k==r&&(g=!0)}),g}).map(h=>b("tr",{children:[t("td",{style:W}),t("td",{style:J,children:h.rincian}),t("td",{style:W,children:t(we,{type:h.type,name:`wtf_${h.nomor}`,options:h.options,customKey:h.id,dependencies:h.dependencies,rules:h.rules},h.nomor)})]},e.id));a(p)}},[r,e.children]),b(q,{children:[b("tr",{style:{backgroundColor:e.id%2===0?" #fffae6":""},children:[d,t("td",{style:W,children:t(we,{type:e.type,name:`wtf_${e.id}`,options:e.options,customKey:e.id,children:e.children,setValue:n,dependencies:e.dependencies,rules:e.rules},e.id)})]}),l.map(p=>p)]})},{Text:It,Title:Et}=ie,Rt=[{id:1,nomor:1,rincian:"Jumlah ART (Blok III Rincian 301)",type:"number",rules:{ruleName:"greater equal",message:"Jumlah ART minimal satu",status:"error",dependentValue:1}},{id:2,nomor:2,rincian:"Jumlah Balita (R302)",type:"number",dependencies:["wtf_1"],rules:{ruleName:"less",message:"Jumlah Balita tidak boleh sama atau lebih dari jumlah ART",status:"error",dependentName:"wtf_1"}},{id:3,nomor:3,rincian:"Jumlah ART yang masih bersekolah (R1402=2)",type:"number",rules:{ruleName:"less equal",message:"Jumlah ART yang bersekolah tidak bisa melebihi jumlah ART",status:"error",dependentName:"wtf_1"}},{id:4,nomor:4,rincian:"Apakah ART pernah mendapat Program Makan Siang Gratis? (R618)",type:"multi",dependencies:["wtf_3"],rules:{ruleName:"required if",message:"Isian ini diisi apabila Jumlah ART Bersekolah lebih dari 0",status:"error",dependentName:"wtf_3",dependentValue:1},options:[{label:"Ya, Program MBG",value:1},{label:"Ya, Program selain MBG",value:2},{label:"tidak mendapatkan",value:3}],children:[{id:9,nomor:9,rincian:"Menu Makan Siang Gratis yang paling disukai RT? (Blok Catatan)",type:"multi",dependentValues:[1],options:[{label:"A",value:1},{label:"B",value:2},{label:"C",value:3},{label:"D",value:4},{label:"E",value:5},{label:"F",value:6},{label:"G",value:7}]}]},{id:5,nomor:5,rincian:b("span",{children:["Luas Lantai Bangunan Utama (m",t("sup",{children:"2"}),") (R1604)"]}),type:"number"},{id:6,nomor:6,rincian:"Sumber air minum (R1610)",type:"multi",options:[{label:"Air kemasan bermerk/isi ulang",value:1},{label:"Leding",value:2},{label:"Sumur bor/pompa/mata air",value:3},{label:"Air sungai/danau/kolam/air hujan/lainnya",value:4}]},{id:7,nomor:7,rincian:"Sumber air mandi/cuci/dll (R1614A)",type:"multi",options:[{label:"Air kemasan bermerk/isi ulang",value:1},{label:"Leding",value:2},{label:"Sumur bor/pompa/mata air",value:3},{label:"Air sungai/danau/kolam/air hujan/lainnya",value:4}]},{id:8,nomor:8,rincian:"Apakah tercatat sebagai menerima PKH? (R2003a)",type:"binary"},{id:26,nomor:"10",rincian:"Garis Kemiskinan Maret 2024",type:"rupiah"}],ro=({form:e,onFinish:o,tabContentStyle:r})=>b(B,{direction:"vertical",style:r,children:[t(B,{style:{width:"100%",justifyContent:"space-between"},direction:"horizontal"}),t(O,{form:e,name:"Worksheet",onFinish:o,autoComplete:"off",layout:"vertical",onValuesChange:(a,d)=>{if(Object.keys(a).includes("wtf_3")&&(a.wtf_3==null||a.wtf_3<1)&&e.setFieldsValue({wtf_9:"",wtf_4:""}),Object.keys(a).includes("wtf_4")){if(a.wtf_4==1)return;e.setFieldsValue({wtf_9:""})}},children:b("table",{style:{borderCollapse:"collapse",width:"100%"},children:[t("thead",{style:{backgroundColor:"#fc0",textAlign:"center"},children:t("tr",{children:t("td",{style:{borderStyle:"solid",border:"solid 1px black",padding:"5px"},colSpan:3,children:b(B,{direction:"vertical",children:[b(Et,{level:4,style:{textTransform:"uppercase"},children:["Isian Worksheet Template"," "]}),t(It,{children:"RINCIAN (Lihat Dokumen VSEN24.K)"})]})})})}),t("tbody",{children:Rt.map((a,d)=>t(wt,{props:a,defaultValue:e.getFieldValue(`wtf_${a.id}`)},d))})]})})]}),Tt=({rincian:e,row_index:o})=>b("tr",{style:{backgroundColor:e.editable?"#ffffcc":"",display:e.hidden?"none":""},children:[t("td",{style:{...W,width:"30px"},children:o+1}),t("td",{style:{...J,width:"auto"},children:e.rincian}),t("td",{style:{...J,width:"150px",textAlign:"right"},children:e.id===5?t(q,{children:t(F,{inputName:`blokqc_${e.id}`},o)}):t(B,{direction:"vertical",children:t(O.Item,{name:`blokqc_${e.id}`,label:null,style:{marginBottom:"5px",textAlign:"center"},rules:e.rules,children:t(pe,{className:"custom-input-number",style:{textAlign:"right",width:"100%"},formatter:r=>{const n=Number(r)??0,l=n.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",");return e.dataType==="decimal"?l:String(n)}},o)})})})]},o),so=({form:e,onFinish:o,tabContentStyle:r,daftarQc:n})=>{const[l,a]=re.useMessage();return t(B,{direction:"vertical",style:r,children:b(O,{form:e,name:"Blok4_3",onFinish:o,autoComplete:"off",layout:"vertical",children:[t(ae,{title:"Quality Control",columnsCount:3,columns:["No.","Rincian","Isian"],children:n.map((d,p)=>t(Tt,{row_index:p,rincian:d},p))},2),a]})})};export{lo as B,to as D,ro as W,ao as a,io as b,so as c,eo as d};
