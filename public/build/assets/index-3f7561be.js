import{E as N}from"./index-8da74228.js";import{r as o,H as W,C as E,f as T,y as D,o as F}from"./app-54bba900.js";import{K}from"./KeyCode-6413d982.js";import{B as k,j as $,h as L,d as A,c as H}from"./TextArea-9ac0aa49.js";import{P as X,g as S,a as q}from"./AuthenticatedLayout-630bc9da.js";import{g as M}from"./AntdIcon-71a17da6.js";function j(e){return!!(e&&e.then)}const U=e=>{const{type:n,children:s,prefixCls:t,buttonProps:l,close:p,autoFocus:d,emitEvent:r,quitOnNullishReturnValue:C,actionFn:c}=e,u=o.useRef(!1),b=o.useRef(null),[P,v]=W(!1),y=function(){p==null||p.apply(void 0,arguments)};o.useEffect(()=>{let f=null;return d&&(f=setTimeout(()=>{var i;(i=b.current)===null||i===void 0||i.focus()})),()=>{f&&clearTimeout(f)}},[]);const x=f=>{j(f)&&(v(!0),f.then(function(){v(!1,!0),y.apply(void 0,arguments),u.current=!1},i=>(v(!1,!0),u.current=!1,Promise.reject(i))))},g=f=>{if(u.current)return;if(u.current=!0,!c){y();return}let i;if(r){if(i=c(f),C&&!j(i)){u.current=!1,y(f);return}}else if(c.length)i=c(p),u.current=!1;else if(i=c(),!i){y();return}x(i)};return o.createElement(k,Object.assign({},$(n),{onClick:g,loading:P,prefixCls:t},l,{ref:b}),s)},Y=U,G=e=>{const{componentCls:n,iconCls:s,zIndexPopup:t,colorText:l,colorWarning:p,marginXXS:d,marginXS:r,fontSize:C,fontWeightStrong:c,colorTextHeading:u}=e;return{[n]:{zIndex:t,color:l,[`${n}-message`]:{marginBottom:r,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${n}-message-icon ${s}`]:{color:p,fontSize:C,lineHeight:1,marginInlineEnd:r},[`${n}-title`]:{fontWeight:c,color:u,"&:only-child":{fontWeight:"normal"}},[`${n}-description`]:{marginTop:d}},[`${n}-buttons`]:{textAlign:"end",button:{marginInlineStart:r}}}}},w=M("Popconfirm",e=>G(e),e=>{const{zIndexPopupBase:n}=e;return{zIndexPopup:n+60}});var J=globalThis&&globalThis.__rest||function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)n.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(s[t[l]]=e[t[l]]);return s};const _=e=>{const{prefixCls:n,okButtonProps:s,cancelButtonProps:t,title:l,description:p,cancelText:d,okText:r,okType:C="primary",icon:c=o.createElement(N,null),showCancel:u=!0,close:b,onConfirm:P,onCancel:v,onPopupClick:y}=e,{getPrefixCls:x}=o.useContext(E),[g]=L("Popconfirm",D.Popconfirm),f=S(l),i=S(p);return o.createElement("div",{className:`${n}-inner-content`,onClick:y},o.createElement("div",{className:`${n}-message`},c&&o.createElement("span",{className:`${n}-message-icon`},c),o.createElement("div",{className:`${n}-message-text`},f&&o.createElement("div",{className:T(`${n}-title`)},f),i&&o.createElement("div",{className:`${n}-description`},i))),o.createElement("div",{className:`${n}-buttons`},u&&o.createElement(k,Object.assign({onClick:v,size:"small"},t),d??(g==null?void 0:g.cancelText)),o.createElement(Y,{buttonProps:Object.assign(Object.assign({size:"small"},$(C)),s),actionFn:P,close:b,prefixCls:x("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},r??(g==null?void 0:g.okText))))};function Q(e){const{prefixCls:n,placement:s,className:t,style:l}=e,p=J(e,["prefixCls","placement","className","style"]),{getPrefixCls:d}=o.useContext(E),r=d("popconfirm",n),[C]=w(r);return C(o.createElement(X,{placement:s,className:T(r,t),style:l,content:o.createElement(_,Object.assign({prefixCls:r},p))}))}var Z=globalThis&&globalThis.__rest||function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,t=Object.getOwnPropertySymbols(e);l<t.length;l++)n.indexOf(t[l])<0&&Object.prototype.propertyIsEnumerable.call(e,t[l])&&(s[t[l]]=e[t[l]]);return s};const I=o.forwardRef((e,n)=>{const{prefixCls:s,placement:t="top",trigger:l="click",okType:p="primary",icon:d=o.createElement(N,null),children:r,overlayClassName:C,onOpenChange:c,onVisibleChange:u}=e,b=Z(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:P}=o.useContext(E),[v,y]=A(!1,{value:e.open,defaultValue:e.defaultOpen}),x=(a,m)=>{y(a,!0),u==null||u(a),c==null||c(a,m)},g=a=>{x(!1,a)},f=a=>{var m;return(m=e.onConfirm)===null||m===void 0?void 0:m.call(globalThis,a)},i=a=>{var m;x(!1,a),(m=e.onCancel)===null||m===void 0||m.call(globalThis,a)},B=a=>{a.keyCode===K.ESC&&v&&x(!1,a)},R=a=>{const{disabled:m=!1}=e;m||x(a)},O=P("popconfirm",s),z=T(O,C),[V]=w(O);return V(o.createElement(q,Object.assign({},F(b,["title"]),{trigger:l,placement:t,onOpenChange:R,open:v,ref:n,overlayClassName:z,content:o.createElement(_,Object.assign({okType:p,icon:d},e,{prefixCls:O,close:g,onConfirm:f,onCancel:i})),"data-popover-inject":!0}),H(r,{onKeyDown:a=>{var m,h;o.isValidElement(r)&&((h=r==null?void 0:(m=r.props).onKeyDown)===null||h===void 0||h.call(m,a)),B(a)}})))});I._InternalPanelDoNotUseOrYouWillBeFired=Q;const ae=I;export{Y as A,ae as P};
