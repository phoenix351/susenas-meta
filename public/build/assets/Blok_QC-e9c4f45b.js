import{e as Oe,r,C as W,f as I,h as st,o as ve,_ as Me,i as ct,a as n,j as k,F as L,c as J}from"./app-0583241d.js";import{K as Z,g as Ie,i as Le,c as qe,B as Re}from"./useFlexGapSupport-8569950a.js";import{g as We,m as Ue,A as Ge}from"./AntdIcon-db1172e6.js";import{_ as H}from"./debounce-6dc67c82.js";import{S as P}from"./index-8797ce91.js";import{T as oe}from"./index-6d1233f7.js";import{m as ue}from"./index-9df240f5.js";import{F as T}from"./index-5b59f078.js";import{I as q}from"./index-34899b44.js";import{T as Je}from"./index-30b60ed1.js";import{R as F}from"./RupiahInput-5a31b05a.js";import{T as M}from"./TextRupiah-a3281bc0.js";import{I as Ne}from"./index-adc55ecf.js";import{S as Ze}from"./Table-1f20fcd6.js";import{l as dt}from"./lodash-cb652327.js";import{P as ut}from"./index-f058df12.js";import{c as xe,a as ce,r as G}from"./CONSTANT-b7a876ac.js";import{D as mt}from"./index-7b8eb64e.js";import{M as Te}from"./Blok1_2-f1714801.js";const gt=new Z("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),ht=new Z("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),pt=new Z("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),bt=new Z("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),ft=new Z("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),yt=new Z("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),kt=e=>{const{componentCls:t,iconCls:a,antCls:o,badgeFontHeight:l,badgeShadowSize:i,badgeHeightSm:c,motionDurationSlow:d,badgeStatusSize:s,marginXS:u,badgeRibbonOffset:h}=e,b=`${o}-scroll-number`,m=`${o}-ribbon`,C=`${o}-ribbon-wrapper`,p=Ie(e,(f,g)=>{let{darkColor:y}=g;return{[`${t}-color-${f}`]:{background:y}}}),S=Ie(e,(f,g)=>{let{darkColor:y}=g;return{[`&${m}-color-${f}`]:{background:y,color:y}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Oe(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{zIndex:e.badgeZIndex,minWidth:e.badgeHeight,height:e.badgeHeight,color:e.badgeTextColor,fontWeight:e.badgeFontWeight,fontSize:e.badgeFontSize,lineHeight:`${e.badgeHeight}px`,whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:e.badgeHeight/2,boxShadow:`0 0 0 ${i}px ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:c,height:c,fontSize:e.badgeFontSizeSm,lineHeight:`${c}px`,borderRadius:c/2},[`${t}-multiple-words`]:{padding:`0 ${e.paddingXS}px`},[`${t}-dot`]:{zIndex:e.badgeZIndex,width:e.badgeDotSize,minWidth:e.badgeDotSize,height:e.badgeDotSize,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${i}px ${e.badgeShadowColor}`},[`${t}-dot${b}`]:{transition:`background ${d}`},[`${t}-count, ${t}-dot, ${b}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${a}-spin`]:{animationName:yt,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:s,height:s,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{position:"relative",color:e.colorPrimary,backgroundColor:e.colorPrimary,"&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:i,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:gt,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:u,color:e.colorText,fontSize:e.fontSize}}}),p),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:ht,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:pt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:bt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:ft,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${b}-custom-component, ${t}-count`]:{transform:"none"},[`${b}-custom-component, ${b}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[`${b}`]:{overflow:"hidden",[`${b}-only`]:{position:"relative",display:"inline-block",height:e.badgeHeight,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${b}-only-unit`]:{height:e.badgeHeight,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${b}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${b}-custom-component`]:{transform:"translate(-50%, -50%)"}}}),[`${C}`]:{position:"relative"},[`${m}`]:Object.assign(Object.assign(Object.assign(Object.assign({},Oe(e)),{position:"absolute",top:u,padding:`0 ${e.paddingXS}px`,color:e.colorPrimary,lineHeight:`${l}px`,whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${m}-text`]:{color:e.colorTextLightSolid},[`${m}-corner`]:{position:"absolute",top:"100%",width:h,height:h,color:"currentcolor",border:`${h/2}px solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),S),{[`&${m}-placement-end`]:{insetInlineEnd:-h,borderEndEndRadius:0,[`${m}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${m}-placement-start`]:{insetInlineStart:-h,borderEndStartRadius:0,[`${m}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},Xe=We("Badge",e=>{const{fontSize:t,lineHeight:a,fontSizeSM:o,lineWidth:l,marginXS:i,colorBorderBg:c}=e,d=Math.round(t*a),s=l,u="auto",h=d-2*s,b=e.colorBgContainer,m="normal",C=o,p=e.colorError,S=e.colorErrorHover,f=t,g=o/2,y=o,A=o/2,R=Ue(e,{badgeFontHeight:d,badgeShadowSize:s,badgeZIndex:u,badgeHeight:h,badgeTextColor:b,badgeFontWeight:m,badgeFontSize:C,badgeColor:p,badgeColorHover:S,badgeShadowColor:c,badgeHeightSm:f,badgeDotSize:g,badgeFontSizeSm:y,badgeStatusSize:A,badgeProcessingDuration:"1.2s",badgeRibbonOffset:i,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"});return[kt(R)]}),$t=e=>{let{className:t,prefixCls:a,style:o,color:l,children:i,text:c,placement:d="end"}=e;const{getPrefixCls:s,direction:u}=r.useContext(W),h=s("ribbon",a),b=Le(l,!1),m=I(h,`${h}-placement-${d}`,{[`${h}-rtl`]:u==="rtl",[`${h}-color-${l}`]:b},t),[C,p]=Xe(h),S={},f={};return l&&!b&&(S.background=l,f.color=l),C(r.createElement("div",{className:I(`${h}-wrapper`,p)},i,r.createElement("div",{className:I(m,p),style:Object.assign(Object.assign({},S),o)},r.createElement("span",{className:`${h}-text`},c),r.createElement("div",{className:`${h}-corner`,style:f}))))},Ct=$t;function Pe(e){let{prefixCls:t,value:a,current:o,offset:l=0}=e,i;return l&&(i={position:"absolute",top:`${l}00%`,left:0}),r.createElement("span",{style:i,className:I(`${t}-only-unit`,{current:o})},a)}function St(e,t,a){let o=e,l=0;for(;(o+10)%10!==t;)o+=a,l+=a;return l}function _t(e){const{prefixCls:t,count:a,value:o}=e,l=Number(o),i=Math.abs(a),[c,d]=r.useState(l),[s,u]=r.useState(i),h=()=>{d(l),u(i)};r.useEffect(()=>{const C=setTimeout(()=>{h()},1e3);return()=>{clearTimeout(C)}},[l]);let b,m;if(c===l||Number.isNaN(l)||Number.isNaN(c))b=[r.createElement(Pe,Object.assign({},e,{key:l,current:!0}))],m={transition:"none"};else{b=[];const C=l+10,p=[];for(let g=l;g<=C;g+=1)p.push(g);const S=p.findIndex(g=>g%10===c);b=p.map((g,y)=>{const A=g%10;return r.createElement(Pe,Object.assign({},e,{key:g,value:A,offset:y-S,current:y===S}))});const f=s<i?1:-1;m={transform:`translateY(${-St(c,l,f)}00%)`}}return r.createElement("span",{className:`${t}-only`,style:m,onTransitionEnd:h},b)}var vt=globalThis&&globalThis.__rest||function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]]);return a};const Nt=r.forwardRef((e,t)=>{var{prefixCls:a,count:o,className:l,motionClassName:i,style:c,title:d,show:s,component:u="sup",children:h}=e,b=vt(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]);const{getPrefixCls:m}=r.useContext(W),C=m("scroll-number",a),p=Object.assign(Object.assign({},b),{"data-show":s,style:c,className:I(C,l,i),title:d});let S=o;if(o&&Number(o)%1===0){const f=String(o).split("");S=f.map((g,y)=>r.createElement(_t,{prefixCls:C,count:Number(o),value:g,key:f.length-y}))}return c&&c.borderColor&&(p.style=Object.assign(Object.assign({},c),{boxShadow:`0 0 0 1px ${c.borderColor} inset`})),h?qe(h,f=>({className:I(`${C}-custom-component`,f==null?void 0:f.className,i)})):r.createElement(u,Object.assign({},p,{ref:t}),S)}),xt=Nt;var wt=globalThis&&globalThis.__rest||function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]]);return a};const At=(e,t)=>{const{prefixCls:a,scrollNumberPrefixCls:o,children:l,status:i,text:c,color:d,count:s=null,overflowCount:u=99,dot:h=!1,size:b="default",title:m,offset:C,style:p,className:S,rootClassName:f,showZero:g=!1}=e,y=wt(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","showZero"]),{getPrefixCls:A,direction:R}=r.useContext(W),w=A("badge",a),[j,_]=Xe(w),N=s>u?`${u}+`:s,$=N==="0"||N===0,x=s===null||$&&!g,E=(i!=null||d!=null)&&x,v=h&&!$,O=v?"":N,U=r.useMemo(()=>(O==null||O===""||$&&!g)&&!v,[O,$,g,v]),V=r.useRef(s);U||(V.current=s);const X=V.current,we=r.useRef(O);U||(we.current=O);const he=we.current,Ae=r.useRef(v);U||(Ae.current=v);const ae=r.useMemo(()=>{if(!C)return Object.assign({},p);const K={marginTop:C[1]};return R==="rtl"?K.left=parseInt(C[0],10):K.right=-parseInt(C[0],10),Object.assign(Object.assign({},K),p)},[R,C,p]),et=m??(typeof X=="string"||typeof X=="number"?X:void 0),tt=U||!c?null:r.createElement("span",{className:`${w}-status-text`},c),nt=!X||typeof X!="object"?void 0:qe(X,K=>({style:Object.assign(Object.assign({},ae),K.style)})),le=Le(d,!1),ot=I({[`${w}-status-dot`]:E,[`${w}-status-${i}`]:!!i,[`${w}-color-${d}`]:le}),pe={};d&&!le&&(pe.color=d,pe.background=d);const Ee=I(w,{[`${w}-status`]:E,[`${w}-not-a-wrapper`]:!l,[`${w}-rtl`]:R==="rtl"},S,f,_);if(!l&&E){const K=ae.color;return j(r.createElement("span",Object.assign({},y,{className:Ee,style:ae}),r.createElement("span",{className:ot,style:pe}),c&&r.createElement("span",{style:{color:K},className:`${w}-status-text`},c)))}return j(r.createElement("span",Object.assign({ref:t},y,{className:Ee}),l,r.createElement(st,{visible:!U,motionName:`${w}-zoom`,motionAppear:!1,motionDeadline:1e3},K=>{let{className:at,ref:lt}=K;const it=A("scroll-number",o),be=Ae.current,rt=I({[`${w}-dot`]:be,[`${w}-count`]:!be,[`${w}-count-sm`]:b==="small",[`${w}-multiple-words`]:!be&&he&&he.toString().length>1,[`${w}-status-${i}`]:!!i,[`${w}-color-${d}`]:le});let ie=Object.assign({},ae);return d&&!le&&(ie=ie||{},ie.background=d),r.createElement(xt,{prefixCls:it,show:!U,motionClassName:at,className:rt,count:he,title:et,style:ie,key:"scrollNumber",ref:lt},nt)}),tt))},Ye=r.forwardRef(At);Ye.Ribbon=Ct;const qn=Ye,Et=e=>{const{prefixCls:t,className:a,style:o,size:l,shape:i}=e,c=I({[`${t}-lg`]:l==="large",[`${t}-sm`]:l==="small"}),d=I({[`${t}-circle`]:i==="circle",[`${t}-square`]:i==="square",[`${t}-round`]:i==="round"}),s=r.useMemo(()=>typeof l=="number"?{width:l,height:l,lineHeight:`${l}px`}:{},[l]);return r.createElement("span",{className:I(t,c,d,a),style:Object.assign(Object.assign({},s),o)})},me=Et,Ot=new Z("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),ge=e=>({height:e,lineHeight:`${e}px`}),Y=e=>Object.assign({width:e},ge(e)),It=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Ot,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),fe=e=>Object.assign({width:e*5,minWidth:e*5},ge(e)),Rt=e=>{const{skeletonAvatarCls:t,gradientFromColor:a,controlHeight:o,controlHeightLG:l,controlHeightSM:i}=e;return{[`${t}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:a},Y(o)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},Y(l)),[`${t}${t}-sm`]:Object.assign({},Y(i))}},Tt=e=>{const{controlHeight:t,borderRadiusSM:a,skeletonInputCls:o,controlHeightLG:l,controlHeightSM:i,gradientFromColor:c}=e;return{[`${o}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:c,borderRadius:a},fe(t)),[`${o}-lg`]:Object.assign({},fe(l)),[`${o}-sm`]:Object.assign({},fe(i))}},je=e=>Object.assign({width:e},ge(e)),Pt=e=>{const{skeletonImageCls:t,imageSizeBase:a,gradientFromColor:o,borderRadiusSM:l}=e;return{[`${t}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:o,borderRadius:l},je(a*2)),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},je(a)),{maxWidth:a*4,maxHeight:a*4}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},ye=(e,t,a)=>{const{skeletonButtonCls:o}=e;return{[`${a}${o}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${a}${o}-round`]:{borderRadius:t}}},ke=e=>Object.assign({width:e*2,minWidth:e*2},ge(e)),jt=e=>{const{borderRadiusSM:t,skeletonButtonCls:a,controlHeight:o,controlHeightLG:l,controlHeightSM:i,gradientFromColor:c}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${a}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:c,borderRadius:t,width:o*2,minWidth:o*2},ke(o))},ye(e,o,a)),{[`${a}-lg`]:Object.assign({},ke(l))}),ye(e,l,`${a}-lg`)),{[`${a}-sm`]:Object.assign({},ke(i))}),ye(e,i,`${a}-sm`))},Bt=e=>{const{componentCls:t,skeletonAvatarCls:a,skeletonTitleCls:o,skeletonParagraphCls:l,skeletonButtonCls:i,skeletonInputCls:c,skeletonImageCls:d,controlHeight:s,controlHeightLG:u,controlHeightSM:h,gradientFromColor:b,padding:m,marginSM:C,borderRadius:p,titleHeight:S,blockRadius:f,paragraphLiHeight:g,controlHeightXS:y,paragraphMarginTop:A}=e;return{[`${t}`]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:m,verticalAlign:"top",[`${a}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:b},Y(s)),[`${a}-circle`]:{borderRadius:"50%"},[`${a}-lg`]:Object.assign({},Y(u)),[`${a}-sm`]:Object.assign({},Y(h))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${o}`]:{width:"100%",height:S,background:b,borderRadius:f,[`+ ${l}`]:{marginBlockStart:h}},[`${l}`]:{padding:0,"> li":{width:"100%",height:g,listStyle:"none",background:b,borderRadius:f,"+ li":{marginBlockStart:y}}},[`${l}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${o}, ${l} > li`]:{borderRadius:p}}},[`${t}-with-avatar ${t}-content`]:{[`${o}`]:{marginBlockStart:C,[`+ ${l}`]:{marginBlockStart:A}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},jt(e)),Rt(e)),Tt(e)),Pt(e)),[`${t}${t}-block`]:{width:"100%",[`${i}`]:{width:"100%"},[`${c}`]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${o},
        ${l} > li,
        ${a},
        ${i},
        ${c},
        ${d}
      `]:Object.assign({},It(e))}}},Q=We("Skeleton",e=>{const{componentCls:t}=e,a=Ue(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:e.controlHeight*1.5,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[Bt(a)]},e=>{const{colorFillContent:t,colorFill:a}=e,o=t,l=a;return{color:o,colorGradientEnd:l,gradientFromColor:o,gradientToColor:l,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}},{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Ft=e=>{const{prefixCls:t,className:a,rootClassName:o,active:l,shape:i="circle",size:c="default"}=e,{getPrefixCls:d}=r.useContext(W),s=d("skeleton",t),[u,h]=Q(s),b=ve(e,["prefixCls","className"]),m=I(s,`${s}-element`,{[`${s}-active`]:l},a,o,h);return u(r.createElement("div",{className:m},r.createElement(me,Object.assign({prefixCls:`${s}-avatar`,shape:i,size:c},b))))},Ht=Ft,Vt=e=>{const{prefixCls:t,className:a,rootClassName:o,active:l,block:i=!1,size:c="default"}=e,{getPrefixCls:d}=r.useContext(W),s=d("skeleton",t),[u,h]=Q(s),b=ve(e,["prefixCls"]),m=I(s,`${s}-element`,{[`${s}-active`]:l,[`${s}-block`]:i},a,o,h);return u(r.createElement("div",{className:m},r.createElement(me,Object.assign({prefixCls:`${s}-button`,size:c},b))))},Kt=Vt;var zt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const Dt=zt;var Mt=function(t,a){return r.createElement(Ge,Me({},t,{ref:a,icon:Dt}))};const Lt=r.forwardRef(Mt),qt=e=>{const{prefixCls:t,className:a,rootClassName:o,style:l,active:i,children:c}=e,{getPrefixCls:d}=r.useContext(W),s=d("skeleton",t),[u,h]=Q(s),b=I(s,`${s}-element`,{[`${s}-active`]:i},h,a,o),m=c??r.createElement(Lt,null);return u(r.createElement("div",{className:b},r.createElement("div",{className:I(`${s}-image`,a),style:l},m)))},Wt=qt,Ut="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Gt=e=>{const{prefixCls:t,className:a,rootClassName:o,style:l,active:i}=e,{getPrefixCls:c}=r.useContext(W),d=c("skeleton",t),[s,u]=Q(d),h=I(d,`${d}-element`,{[`${d}-active`]:i},a,o,u);return s(r.createElement("div",{className:h},r.createElement("div",{className:I(`${d}-image`,a),style:l},r.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${d}-image-svg`},r.createElement("path",{d:Ut,className:`${d}-image-path`})))))},Jt=Gt,Zt=e=>{const{prefixCls:t,className:a,rootClassName:o,active:l,block:i,size:c="default"}=e,{getPrefixCls:d}=r.useContext(W),s=d("skeleton",t),[u,h]=Q(s),b=ve(e,["prefixCls"]),m=I(s,`${s}-element`,{[`${s}-active`]:l,[`${s}-block`]:i},a,o,h);return u(r.createElement("div",{className:m},r.createElement(me,Object.assign({prefixCls:`${s}-input`,size:c},b))))},Xt=Zt,Yt=e=>{const t=d=>{const{width:s,rows:u=2}=e;if(Array.isArray(s))return s[d];if(u-1===d)return s},{prefixCls:a,className:o,style:l,rows:i}=e,c=ct(Array(i)).map((d,s)=>r.createElement("li",{key:s,style:{width:t(s)}}));return r.createElement("ul",{className:I(a,o),style:l},c)},Qt=Yt,en=e=>{let{prefixCls:t,className:a,width:o,style:l}=e;return r.createElement("h3",{className:I(t,a),style:Object.assign({width:o},l)})},tn=en;function $e(e){return e&&typeof e=="object"?e:{}}function nn(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function on(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function an(e,t){const a={};return(!e||!t)&&(a.width="61%"),!e&&t?a.rows=3:a.rows=2,a}const ee=e=>{const{prefixCls:t,loading:a,className:o,rootClassName:l,style:i,children:c,avatar:d=!1,title:s=!0,paragraph:u=!0,active:h,round:b}=e,{getPrefixCls:m,direction:C}=r.useContext(W),p=m("skeleton",t),[S,f]=Q(p);if(a||!("loading"in e)){const g=!!d,y=!!s,A=!!u;let R;if(g){const _=Object.assign(Object.assign({prefixCls:`${p}-avatar`},nn(y,A)),$e(d));R=r.createElement("div",{className:`${p}-header`},r.createElement(me,Object.assign({},_)))}let w;if(y||A){let _;if(y){const $=Object.assign(Object.assign({prefixCls:`${p}-title`},on(g,A)),$e(s));_=r.createElement(tn,Object.assign({},$))}let N;if(A){const $=Object.assign(Object.assign({prefixCls:`${p}-paragraph`},an(g,y)),$e(u));N=r.createElement(Qt,Object.assign({},$))}w=r.createElement("div",{className:`${p}-content`},_,N)}const j=I(p,{[`${p}-with-avatar`]:g,[`${p}-active`]:h,[`${p}-rtl`]:C==="rtl",[`${p}-round`]:b},o,l,f);return S(r.createElement("div",{className:j,style:i},R,w))}return typeof c<"u"?c:null};ee.Button=Kt;ee.Avatar=Ht;ee.Input=Xt;ee.Image=Jt;ee.Node=Wt;const ln=ee;var rn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z"}}]},name:"dollar",theme:"outlined"};const sn=rn;var cn=function(t,a){return r.createElement(Ge,Me({},t,{ref:a,icon:sn}))};const Wn=r.forwardRef(cn),se=({inputName:e,onChange:t,initialValue:a,editable:o,validateStatus:l})=>{const[i,c]=r.useState(0),d=u=>{c(u)},s=H(u=>{d(u),t&&t(u)},600);return n(T.Item,{name:e,initialValue:a??void 0,style:{marginBottom:"4px"},validateStatus:l,children:n(Ne,{className:"custom-input-number",readOnly:o||!1,min:0,step:.01,formatter:u=>u&&u>0?`${u}`.replace(/\B(?=(\d{3})+(?!\d))/g,","):"",parser:u=>{const h=parseFloat(String(u).replace(/[^\d.]/g,""));return isNaN(h)?0:h},value:i,onChange:u=>{s(u)}})})},Be={backgroundColor:"#fc0",fontWeight:"700",padding:"5px"},z={borderRight:"1px solid ",padding:"5px"},Fe={borderRight:"1px solid ",textAlign:"center",padding:"5px"},te={borderRight:"1px solid ",textAlign:"right",padding:"5px"},dn={borderRight:"1px solid ",width:"200px",textAlign:"right",padding:"5px"},Ce={borderRight:"1px solid ",backgroundColor:"#636f83",padding:"5px"},un=({data:e,form:t,subKey:a,rekapMak:o,calculate:l})=>{const[i,c]=r.useState(0),[d,s]=r.useState(0),[u,h]=r.useState(!1),[b,m]=r.useState(!1),[C,p]=r.useState(!1),[S,f]=r.useState(!1),g=`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`,y=`${e.type==="sub"?"jumlah":""}${e.nomor}_beli_harga${e.subKey}`,A=`${e.nomor}_total_harga`;r.useEffect(()=>{let N=Number(t.getFieldValue(y));N||(N=0);let $=Number(t.getFieldValue(g));$||($=0);const x=N+$;x&&(t.setFieldsValue({[`${e.nomor}_total_harga_calculated`]:x}),j())},[i]),r.useEffect(()=>{},[t.getFieldValue(y)]),r.useEffect(()=>{j()},[o[e.subKey].produksi,o[e.subKey].beli]),r.useEffect(()=>{j(),_()},[]);function R(N){let $=t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`),x=N+$;t.setFieldsValue({[`${e.nomor}_total_harga_calculated`]:x}),c(x),e.type}function w(N){c(parseFloat(String(N)??0)+parseFloat(t.getFieldValue(`${e.nomor}_beli_harga`)||0)),e.type}function j(){const N=t.getFieldValue(`${e.nomor}_total_harga`),$=Number(t.getFieldValue(y))??0+Number(t.getFieldValue(g))??0;if(h(N==$),e.type=="sub"){const x=t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`),E=t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_beli_harga${e.subKey}`);m(E==o[e.subKey].beli),p(x==o[e.subKey].produksi)}}function _(){const N=t.getFieldValue(`${e.nomor}_beli_volume`)+t.getFieldValue(`${e.nomor}_produksi_volume`);s(N);const $=t.getFieldValue(`${e.nomor}_total_volume`);f($==N)}return k(L,{children:[k("tr",{style:{backgroundColor:e.flagBasket?"#ffffcc":"",borderTop:"1px solid ",borderLeft:"1px solid "},children:[n("td",{style:{...Fe,width:"55px"},children:e.nomor}),k("td",{colSpan:1,style:{...e.type==="sub"?Be:z},children:[e.rincian,e.type==="lain"&&n(T.Item,{name:`${e.nomor}_item`,children:n(q,{placeholder:"Sebutkan"})})]}),n("td",{colSpan:1,style:{...e.type==="sub"?Be:Fe},children:e.type==="lain"?n(T.Item,{name:`${e.nomor}_satuan`,children:n(q,{placeholder:"Sebutkan"})}):e.satuan}),n("td",{style:{...e.type==="sub"?Ce:z},children:e.type==="sub"||n(se,{inputName:`${e.nomor}_beli_volume`,onChange:H(_,400)})}),n("td",{style:{...dn},children:n(F,{inputName:y,onChange:H(R,600),validateStatus:!b&&e.type=="sub"?"error":""})}),n("td",{style:{...e.type==="sub"?Ce:z},children:e.type==="sub"||n(se,{inputName:`${e.nomor}_produksi_volume`,onChange:H(_,400)})}),n("td",{style:{...te},children:n(F,{inputName:g,onChange:H(w,600),validateStatus:!C&&e.type=="sub"?"error":""})}),n("td",{style:e.type==="sub"?Ce:z,children:e.type==="sub"||n(se,{inputName:`${e.nomor}_total_volume`,onChange:H(_,400),validateStatus:S?"":"error"})}),n("td",{style:{...te},children:n(F,{inputName:A,onChange:H(j,600),validateStatus:u?"":"error"})})]}),k("tr",{style:{backgroundColor:e.flagBasket?"#ffffcc":"",borderBottom:"1px solid ",borderRight:"1px solid ",borderLeft:"1px solid "},children:[n("td",{style:z}),n("td",{style:z}),n("td",{style:z}),n("td",{style:z}),k("td",{style:te,children:[" ",e.type==="sub"&&n(M,{color:b?"green":"red",value:o[e.subKey]?o[e.subKey].beli??0:0})]}),n("td",{style:z}),n("td",{style:te,children:e.type==="sub"&&n(M,{color:C?"green":"red",value:o[e.subKey].produksi??0})}),n("td",{style:te,children:e.type!=="sub"&&n(T.Item,{style:{color:S?"green":"red",backgroundColor:"inherit",border:"none",marginRight:"10px"},name:`${e.nomor}_total_volume_calculated`,children:d>0?d:""})}),n("td",{style:z,children:n(F,{style:{color:u?"green":"red",backgroundColor:"inherit",border:"none",cursor:"text"},readOnly:!0,inputName:`${e.nomor}_total_harga_calculated`})})]})]})},{Text:Un,Title:mn}=oe,gn={borderCollapse:"collapse",width:"100%"},B={borderStyle:"solid",border:"solid 1px black",padding:"5px"},D={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},Qe=({title:e,konten:t,rekapMak:a,calculate:o,form:l})=>(e="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN, BAHAN MINUMAN, DAN ROKOK SEMINGGU TERAKHIR",k("table",{style:gn,children:[k("thead",{children:[n("tr",{style:{backgroundColor:"#fc0",textAlign:"center"},children:n("th",{style:B,colSpan:10,children:n(P,{direction:"vertical",style:{padding:"25px"},children:n(mn,{level:4,children:e})})})}),k("tr",{children:[n("th",{style:B,rowSpan:2,children:"No Urut"}),n("th",{style:B,rowSpan:2,children:"Rincian"}),n("th",{style:B,rowSpan:2,children:"Satuan standar"}),n("th",{style:B,colSpan:2,children:"Berasal dari pembelian (tunai/bon)"}),n("th",{style:B,colSpan:2,children:"Berasal dari produksi sendiri, pemberian, dsb"}),n("th",{style:B,colSpan:2,children:"Jumlah konsumsi"})]}),k("tr",{children:[n("th",{style:B,children:"Banyaknya (0,00)"}),n("th",{style:B,children:"Nilai (Rp)"}),n("th",{style:B,children:"Banyaknya (0,00)"}),n("th",{style:B,children:"Nilai (Rp)"}),n("th",{style:B,children:"Banyaknya (5) + (7) (0,00)"}),n("th",{style:B,children:"Nilai (6) + (8) (Rp)"})]})]}),k("tbody",{children:[k("tr",{children:[n("td",{width:"55px",style:D,children:"(1)"}),n("td",{style:D,children:"(3)"}),n("td",{width:"80px",style:D,children:"(4)"}),n("td",{width:"100px",style:D,children:"(5)"}),n("td",{style:D,children:"(6)"}),n("td",{width:"100px",style:D,children:"(7)"}),n("td",{style:D,children:"(8)"}),n("td",{width:"100px",style:D,children:"(9)"}),n("td",{style:D,children:"(10)"})]}),t.map((i,c)=>n(un,{data:i,form:l,rekapMak:a,calculate:o},c))]})]})),{Text:hn,Title:Gn}=oe,ne=({form:e,rekapMak:t,calculate:a,from:o,to:l,hal:i})=>{const[c,d]=r.useState([]),[s,u]=r.useState(!0);r.useEffect(()=>{(async(m,C)=>{const{data:p}=await J.get(route("api.mak.komoditas.list",{from:m,to:C})),S=p.map(f=>({nomor:f.id,kode_coicop:f.kode_coicop,rincian:f.nama_komoditas,satuan:f.satuan,type:f.type,subKey:f.id_kelompok,flagBasket:f.flag_basket}));d([...S]),u(!1)})(o,l)},[]);const h="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN & MINUMAN SEMINGGU TERAKHIR";return k(P,{direction:"vertical",style:{width:"100%"},children:[k(P,{style:{width:"100%",justifyContent:"end"},direction:"horizontal",children:[n(hn,{children:"Jumlah komoditas bahan makanan dan bahan minuman terisi pada halaman ini"}),n(se,{inputName:`hal${i}_jml_komoditas`})]}),n(Qe,{form:e,konten:s?[]:c,title:h,rekapMak:t,calculate:a}),s&&n(ln,{active:!0,paragraph:{rows:10}})]})},Jn=({form:e,onFinish:t,tabContentStyle:a,subTotalHarga:o,calculate:l,rekapMak:i})=>{ue.useMessage();function c(d){}return r.useEffect(()=>{},[]),k(T,{form:e,name:"Blok4_1_hal2",onFinish:t,autoComplete:"off",layout:"vertical",onValuesChange:H(l,600),children:[n(T.Item,{name:"id_ruta",hidden:!0,children:n(q,{placeholder:"id rt"})}),n(Je,{onChange:c,type:"line",style:{backgroundColor:"#fff",padding:"10px"},items:[{label:"Hal 2",key:"1",children:n(ne,{from:1,to:34,hal:2,form:e,calculate:l,rekapMak:i})},{label:"Hal 4",key:"2",children:n(ne,{from:35,hal:4,to:62,form:e,calculate:l,rekapMak:i})},{label:"Hal 6",key:"3",children:n(ne,{from:63,to:94,hal:6,form:e,calculate:l,rekapMak:i})},{label:"Hal 8",key:"4",children:n(ne,{from:95,to:127,hal:8,form:e,calculate:l,rekapMak:i})},{label:"Blok 10",key:"5",children:n(ne,{from:128,to:158,hal:10,form:e,calculate:l,rekapMak:i})}]})]})},{Text:pn,Title:Zn}=oe,He=({onFinish:e,nomor_art:t,setDaftarArt:a,daftarArt:o,id_ruta:l,id_art:i,calculateKalori:c,konten:d,art:s})=>{const[u]=T.useForm(),[h,b]=r.useState(!1),m=async g=>{try{b(!0);const y=route("entri.mak.konsumsi_art.store"),{data:A}=await J.patch(y,g,{headers:{"Content-Type":"application/json"}})}catch(y){console.log("error",{error:y})}finally{b(!1)}},C=({subKey:g,jenis:y})=>{const A=`${y}_harga${g}`,R=u.getFieldsValue(),w=Object.entries(R).filter(([N])=>N.endsWith(A)).reduce((N,[,$])=>N+($||0),0),_=[...o].map(N=>{let $={...N.rekap};return $[g][y]=w,N.id===i?{...N,rekap:$}:N});a(_)},p=H(()=>{const g="beli_harga12",y="beli_harga13",A="produksi_harga12",R="produksi_harga13",w=u.getFieldsValue(),j=Object.entries(w).filter(([v])=>v.endsWith(g)&&!v.includes("jumlah")).reduce((v,[,O])=>v+(O||0),0),_=Object.entries(w).filter(([v])=>v.endsWith(y)&&!v.includes("jumlah")).reduce((v,[,O])=>v+(O||0),0),N=Object.entries(w).filter(([v])=>v.endsWith(A)&&!v.includes("jumlah")).reduce((v,[,O])=>v+(O||0),0),$=Object.entries(w).filter(([v])=>v.endsWith(R)&&!v.includes("jumlah")).reduce((v,[,O])=>v+(O||0),0),E=[...o].map(v=>{let O={...v.rekap};return O[12]={beli:j,produksi:N,total:j+N},O[13]={beli:_,produksi:$,total:_+$},v.id===i?{...v,rekap:O}:v});a(E)},600),S=H(()=>{p(),u.submit(),c(u.getFieldsValue()).then(g=>{let y=[...o];y[t].kalori=g})},1e3);r.useEffect(()=>{(async y=>{b(!0);const{data:A}=await J.get(route("api.mak.konsumsi.art",{id_art:y})),R=[159,192],j=A.map(_=>({[`${R.includes(_.id_komoditas)?"jumlah":""}${_.id_komoditas}_beli_harga${_.id_kelompok}`]:_.harga_beli,[`${R.includes(_.id_komoditas)?"jumlah":""}${_.id_komoditas}_produksi_harga${_.id_kelompok}`]:_.harga_produksi,[`${_.id_komoditas}_total_harga`]:_.harga_total,[`${_.id_komoditas}_item`]:_.item,[`${_.id_komoditas}_satuan`]:_.satuan,[`${_.id_komoditas}_beli_volume`]:_.volume_beli,[`${_.id_komoditas}_produksi_volume`]:_.volume_produksi,[`${_.id_komoditas}_total_volume`]:_.volume_total})).reduce((_,N)=>{for(const $ in N)N.hasOwnProperty($)&&(_[$]=N[$]);return _},{});j[`blok4_31_${t}_id_art`]=y,u.setFieldsValue(j),b(!1)})(i)},[i]),r.useEffect(()=>{u.setFieldsValue({id_ruta:l,id_art:i}),c(u.getFieldsValue()).then(g=>{let y=[...o];y[t].kalori=g})},[u]);const f="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN, BAHAN MINUMAN, DAN ROKOK SEMINGGU TERAKHIR";return n(P,{direction:"vertical",style:{width:"100%"},children:k(T,{form:u,name:"Art",onFinish:m,autoComplete:"off",layout:"vertical",onValuesChange:S,children:[k(P,{style:{width:"100%",justifyContent:"space-between"},direction:"horizontal",children:[k(P,{style:{display:h?"":"none"},children:["Menyimpan... ",n(Ze,{})]}),k(P,{children:[n(pn,{children:"Jumlah komoditas bahan makanan,bahan minuman, dan rokok yang terisi pada halaman ini"}),n(T.Item,{style:{margin:"auto"},name:"id_ruta",hidden:!0,children:n(q,{readOnly:!0})}),n(T.Item,{style:{margin:"auto"},name:"id_art",hidden:!0,children:n(q,{readOnly:!0})})]})]}),n(Qe,{form:u,konten:d,title:f,calculate:C,rekapMak:s.rekap})]})})},{Text:bn,Title:fn}=oe,yn={borderCollapse:"collapse",width:"100%",backgroundColor:"#fff"},Ve={borderStyle:"solid",border:"solid 1px black",padding:"5px"},kn={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},de=({title:e,subtitle:t,columnsCount:a,columns:o,children:l})=>k("table",{style:yn,children:[n("thead",{style:{backgroundColor:"#fc0",textAlign:"center"},children:n("tr",{children:n("td",{colSpan:a,style:Ve,children:k(P,{direction:"vertical",children:[n(fn,{level:4,children:e}),n(bn,{children:t})]})})})}),k("tbody",{children:[o&&k(L,{children:[n("tr",{children:o.map(i=>n("th",{style:Ve,children:i}))}),n("tr",{children:Array.from(Array(a).keys()).map(i=>k("td",{style:kn,children:["(",i+1,")"]}))})]}),l]})]}),Se={borderStyle:"solid",border:"solid 1px black",margin:"auto",textAlign:"center",padding:"5px"},Xn=({artForm:e,artFormFinish:t,tabContentStyle:a,daftarArt:o,setDaftarArt:l,calculateKalori:i})=>{const c=$=>{},[d,s]=r.useState("0"),[u,h]=r.useState([]),[b,m]=r.useState([]),[C,p]=r.useState(!1),[S,f]=r.useState(!1),g=r.useRef(1),[y,A]=ue.useMessage(),R=async()=>{f(!0);const $=`Art-${g.current++}`;try{const{data:x}=await J.post(route("entri.mak.art.store"),{nama:$,nomor_art:o.length+1,id_ruta:o[0].id_ruta}),E=[...o,{id:x.id,id_ruta:x.id_ruta,nomor_art:g.current++,nama:$,key:$,rekap:{12:{produksi:0,beli:0,total:0},13:{produksi:0,beli:0,total:0}}}];l([...E]),s($)}catch(x){console.error("Error in add function:",x)}finally{f(!1)}},w=async $=>{const x=e.getFieldValue(`${$}-id_art`);if($===0){y.open({content:"anggota ruta pertama tidak boleh dihapus,",type:"warning",key:x,duration:3});return}try{const{data:E}=await J.delete(route("entri.mak.art.delete",{id_art:x})),v=o.filter(O=>O.id!==x);l(v),y.open({content:"Berhasil menghapus 1 anggota rumah tangga",type:"success",key:x})}catch(E){console.error("Error in add function:",E),y.open({content:`Terjadi galat ketika menghapus data, tunjukan code ini pada Developer (${E})`,type:"error",key:x,duration:3})}},_=H(($,x,E)=>{const v=[...o];v[$][x]=E.trim(),l(v)},1e3),N=dt.throttle(w,2e3);return r.useEffect(()=>{(async(E,v)=>{const{data:O}=await J.get(route("api.mak.komoditas.list",{from:E,to:v})),U=O.map(V=>({nomor:V.id,kode_coicop:V.kode_coicop,rincian:V.nama_komoditas,satuan:V.satuan,type:V.type,subKey:V.id_kelompok,flagBasket:V.flag_basket}));m([...U])})(159,197),p(!1);const x=o.map((E,v)=>({label:E.nama,key:String(v),children:n(He,{onFinish:c,nomor_art:E.nomor_art,daftarArt:o,setDaftarArt:l,id_ruta:e.getFieldValue("id_ruta"),art:E,id_art:E.id,calculateKalori:i,konten:b})}));h([...x])},[]),k(P,{direction:"vertical",style:a,children:[A,n(Re,{type:"primary",onClick:R,children:"Tambah Art"}),k(T,{name:"artForm",form:e,onFinish:t,children:[n(T.Item,{name:"id_ruta",hidden:!0,children:n(q,{})}),n(de,{title:"DAFTAR ANGGOTA RUMAH TANGGA",columns:["Nomor","Nama Anggota Rumah Tangga","aksi"],columnsCount:3,children:S?n("tr",{children:n("td",{colSpan:3,children:k(P,{style:{width:"100%",justifyContent:"center",marginTop:"30px"},direction:"vertical",children:[n(P,{style:{width:"100%",justifyContent:"center"},children:n(Ze,{size:"large"})}),n(P,{style:{width:"100%",justifyContent:"center"},children:"Menambahkan anggota rumah tangga..."})]})})}):o.map(($,x)=>k("tr",{children:[n("td",{style:Se,children:x+1}),k("td",{style:Se,children:[n(T.Item,{name:`${x}-id_art`,hidden:!0,children:n(q,{})}),n(T.Item,{name:`${x}-nama`,style:{margin:"auto"},children:n(q,{placeholder:"nama anggota rumah tangga",onChange:E=>_(x,"nama",E.target.value)})})]}),n("td",{style:Se,children:n(ut,{placement:"topLeft",title:"apakah anda yakin akan menghapus art ini?",description:"hapus anggota rumah tangga",okText:"yakin dong",cancelText:"gajadi",onConfirm:()=>N(x),children:n(Re,{disabled:x===0,children:"Hapus"})})})]},x))})]}),n(Je,{style:{backgroundColor:"#fff",padding:"10px"},items:o.map(($,x)=>({label:$.nama,key:String(x),children:n(He,{onFinish:c,nomor_art:$.nomor_art,daftarArt:o,setDaftarArt:l,id_ruta:$.id_ruta,art:$,id_art:$.id,calculateKalori:i,konten:b})})),type:"line"})]})},Ke=({art:e,index:t,form:a,tipe:o})=>{const[l,i]=r.useState(!1),[c,d]=r.useState(!1),[s,u]=r.useState(!1),[h,b]=r.useState(!1);function m(){const C=e.rekap[13].beli,p=e.rekap[13].produksi,S=e.rekap[12].beli,f=e.rekap[12].produksi,g=a.getFieldValue(`blok4_31_${o=="individu"?t:"jumlah"}_mak_beli`)??0,y=a.getFieldValue(`blok4_31_${o=="individu"?t:"jumlah"}_mak_produksi`)??0,A=a.getFieldValue(`blok4_31_${o=="individu"?t:"jumlah"}_rokok_beli`)??0,R=a.getFieldValue(`blok4_31_${o=="individu"?t:"jumlah"}_rokok_produksi`)??0;u(C==A),b(p==R),i(S==g),d(f==y)}return r.useEffect(()=>{m()},[e.rekap[12].beli,e.rekap[12].produksi,e.rekap[13].beli,e.rekap[13].produksi]),k("tr",{children:[n("td",{style:xe,children:o=="individu"?t+1:""}),n("td",{style:ce,children:o=="individu"?k(L,{children:[e.nama,n(T.Item,{name:o=="individu"?`blok4_31_${t}_id_art`:"",label:null,initialValue:o=="individu"?e.id:"",hidden:!0,children:n(q,{readOnly:!0})},`form-item-${t}`)," "]}):"JUMLAH"}),k("td",{style:G,children:[n(F,{inputName:`blok4_31_${o=="individu"?t:"jumlah"}_mak_beli`,initialValue:e.mak_beli,onChange:m,validateStatus:l?"":"error"}),n(M,{color:l?"green":"red",value:e.rekap[12].beli})]}),k("td",{style:G,children:[n(F,{inputName:`blok4_31_${o=="individu"?t:"jumlah"}_mak_produksi`,initialValue:e.mak_produksi,onChange:m,validateStatus:c?"":"error"}),n(M,{color:c?"green":"red",value:e.rekap[12].produksi})]}),k("td",{style:G,children:[n(F,{inputName:`blok4_31_${o=="individu"?t:"jumlah"}_rokok_beli`,initialValue:e.rokok_beli,onChange:m,validateStatus:s?"":"error"}),n(M,{color:s?"green":"red",value:e.rekap[13].beli})]}),k("td",{style:G,children:[n(F,{inputName:`blok4_31_${o=="individu"?t:"jumlah"}_rokok_produksi`,initialValue:e.rokok_produksi,onChange:m,validateStatus:h?"":"error"}),n(M,{color:h?"green":"red",value:e.rekap[13].produksi})]})]})},$n=({rincian:e,index:t,rekapMak:a,form:o,setRekapMak:l})=>{const i=C=>{let p=[...a];p[16].total=C,p[17].total=p[15].total+p[16].total,l(p)},[c,d]=r.useState(!1),[s,u]=r.useState(!1),[h,b]=r.useState(!1);function m(){const C=a[e.id-1].beli,p=a[e.id-1].produksi,S=a[e.id-1].total,f=o.getFieldValue(`blok4_32_${e.id-1}_beli`)??0,g=o.getFieldValue(`blok4_32_${e.id-1}_produksi`)??0,y=o.getFieldValue(`blok4_32_${e.id-1}_total`)??0;d(C==f),u(p==g),b(S==y),e.id==17&&i(y)}return r.useEffect(()=>{m()},[a[e.id-1].beli,a[e.id-1].produksi,a[e.id-1].total]),k("tr",{children:[n("td",{style:xe,children:e.nomor}),n("td",{style:ce,children:e.rincian}),n("td",{style:G,children:e.id<16&&k(L,{children:[n(F,{inputName:`blok4_32_${e.id-1}_beli`,onChange:m,validateStatus:c?"":"error"},t),n(M,{color:c?"green":"red",value:a[e.id-1].beli},e.id)]})}),n("td",{style:G,children:e.id<16&&k(L,{children:[n(F,{inputName:`blok4_32_${e.id-1}_produksi`,onChange:m,validateStatus:s?"":"error"},t),n(M,{color:s?"green":"red",value:a[e.id-1].produksi},e.id)]})}),n("td",{style:G,children:k(L,{children:[n(F,{inputName:`blok4_32_${e.id-1}_total`,onChange:m,validateStatus:h?"":"error"},t),n(M,{color:h?"green":"red",value:a[e.id-1].total},e.id)]})})]})},Yn=({form:e,onFinish:t,tabContentStyle:a,rekapMak:o,setRekapMak:l,daftarArt:i,daftarRincian432:c})=>{const[d,s]=ue.useMessage(),[u,h]=r.useState({12:{beli:0,produksi:0,total:0},13:{beli:0,produksi:0,total:0}}),b=m=>{let C=m.reduce((p,S)=>(Object.values(S.rekap).forEach((f,g)=>{p[g]=p[g]||{beli:0,produksi:0,total:0},p[g].beli+=f.beli,p[g].produksi+=f.produksi,p[g].total+=f.total}),p),[]);return{12:C[0],13:C[1]}};return r.useEffect(()=>{let m=b(i);(async()=>{var S;const{data:p}=await J.get(route("entri.mak.art.fetch",{id_ruta:(S=i[0])==null?void 0:S.id_ruta}));p.forEach((f,g)=>{e.setFieldValue(`blok4_31_${g}_id_art`,f.id)})})(),h(m),l(p=>{let S=[...p];return S[12]=m[12],S[13]=m[13],S[14]=S.slice(0,14).reduce((f,g)=>({beli:f.beli+g.beli,produksi:f.produksi+g.produksi,total:f.total+g.total}),{beli:0,produksi:0,total:0}),[...S]})},[i]),n(P,{direction:"vertical",style:a,children:k(T,{form:e,name:"Blok4_3",onFinish:t,autoComplete:"off",layout:"vertical",children:[k(de,{title:"BLOK IV.3.1. REKAPITULASI PENGELUARAN MAKANAN DAN MINUMAN JADI SERTA ROKOK SELURUH ANGGOTA RUMAH TANGGA (DALAM RUPIAH)",subtitle:"",columns:["No.","Nama ART","Makanan dan Minuman Jadi (Pembelian)","Makanan dan Minuman Jadi (Produksi sendiri, Pemberian, dsb)","Rokok dan Tembaku (Pembelian)","Rokok dan Tembaku (Produksi sendiri, Pemberian, dsb)"],columnsCount:6,children:[i.map((m,C)=>n(Ke,{art:m,index:C,form:e,tipe:"individu"},C)),i.length>0&&n(Ke,{art:{rekap:u},index:99,form:e,tipe:"jumlah"},99)]},1),n(mt,{}),n(de,{title:"BLOK IV.3.2. REKAPITULASI PENGELUARAN MAKANAN, MINUMAN, DAN ROKOK (DALAM RUPIAH)",subtitle:"[Kolom (3) Disalin dari Blok IV.1 Kolom (6), Blok IV.3.1 Kolom (3), atau (5)] dan [Kolom (4) Disalin dari Blok IV.1 Kolom (8), Blok IV.3.1 Kolom (4), atau (6)]",columnsCount:5,columns:["No.","Jenis Pengeluaran","Pembelian Seminggu Terakhir","Produksi Sendiri, Pemberian, dsb., Seminggu Terakhir","Total Seminggu Terakhir [Kolom 3 + Kolom 4]"],children:c.map((m,C)=>n($n,{form:e,rincian:m,index:C,rekapMak:o,setRekapMak:l},C))},2),s]})})},{Text:Cn,Title:Sn}=oe,ze={borderStyle:"solid",border:"solid 1px black",padding:"5px"},re={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},De=({type:e,name:t,options:a,customKey:o,children:l,setValue:i,dependencies:c,rules:d})=>({number:n(T.Item,{name:t,label:null,dependencies:c,rules:d,children:n(Ne,{})}),binary:n(Te,{name:t,options:[{label:"[1] YA",value:1},{label:"[5] TIDAK",value:5}],onChange:i&&(u=>i(u))}),rupiah:n(F,{inputName:t,editable:o===26}),multi:n(Te,{name:t,options:a??[],onChange:i&&(u=>i(u))})})[e],_n=({props:e,defaultValue:t})=>{const[a,o]=r.useState(t),[l,i]=r.useState([]),c=k(L,{children:[n("td",{style:re,children:e.nomor}),n("td",{style:ze,children:e.rincian})]});return r.useEffect(()=>{if(e.children){let d=e.children.filter((s,u)=>{let h=!1;return s.dependentValues&&s.dependentValues.forEach(b=>{b==a&&(h=!0)}),h}).map(s=>k("tr",{children:[n("td",{style:re}),n("td",{style:ze,children:s.rincian}),n("td",{style:re,children:n(De,{type:s.type,name:`wtf_${s.nomor}`,options:s.options,customKey:s.id,dependencies:s.dependencies,rules:s.rules},s.nomor)})]},e.id));i(d)}},[a,e.children]),k(L,{children:[k("tr",{style:{backgroundColor:e.id%2===0?" #fffae6":""},children:[c,n("td",{style:re,children:n(De,{type:e.type,name:`wtf_${e.id}`,options:e.options,customKey:e.id,children:e.children,setValue:o,dependencies:e.dependencies,rules:e.rules},e.id)})]}),l.map(d=>d)]})},_e=({getFieldValue:e},t,a,o)=>({validator(l,i,c){const d=e(t);let s=!0;return a=="less"?s=i<d:a=="equal"?s=i==d:a=="greater"?s=i>d:a=="less equal"?s=i<=d:a=="greater equal"&&(s=i>=d),s?Promise.resolve():Promise.reject(o)}}),vn=[{id:1,nomor:1,rincian:"Jumlah ART (Blok III Rincian 301)",type:"number",rules:[()=>({validator(e,t,a){return t<1?Promise.reject("Jumlah ART minimal satu"):Promise.resolve()}})]},{id:2,nomor:2,rincian:"Jumlah Balita (R302)",type:"number",dependencies:["wtf_1"],rules:[({getFieldValue:e})=>_e({getFieldValue:e},"wtf_1","less","Jumlah Balita tidak bisa melebihi atau sama dengan jumlah ART")]},{id:3,nomor:3,rincian:"Jumlah ART yang masih bersekolah (R1402=2)",type:"number",rules:[({getFieldValue:e})=>_e({getFieldValue:e},"wtf_1","less equal","Jumlah ART yang bersekolah tidak bisa melebihi jumlah ART")]},{id:4,nomor:4,rincian:"Status Kepemilikan Bangunan Tempat Tinggal (R1901)",type:"multi",options:[{label:"Milik Sendiri",value:1},{label:"Kontrak/Sewa",value:2},{label:"Bebas Sewa",value:3},{label:"Dinas",value:4},{label:"Lainnya",value:99}]},{id:5,nomor:5,rincian:k("span",{children:["Luas Lantai per Kapita (m",n("sup",{children:"2"}),") (R1902)"]}),type:"number"},{id:6,nomor:6,rincian:"Sumber air minum (R1903)",type:"multi",options:[{label:"Air kemasan bermerek",value:1},{label:"Air isi ulang",value:2},{label:"Leding/sumur bor/pompa",value:3},{label:"Lainnya",value:99}]},{id:7,nomor:7,rincian:"Sumber air mandi/cuci/dll (R1904)",type:"multi",options:[{label:"Air kemasan bermerek",value:1},{label:"Air isi ulang",value:2},{label:"Leding/sumur bor/pompa",value:3},{label:"Lainnya",value:99}]},{id:8,nomor:8,rincian:"Apakah tercatat sebagai menerima PKH? (R2003a)",type:"binary",children:[{id:9,nomor:9,rincian:"Penggunaan PKH (R2003b)",type:"multi",dependentValues:[1],options:[{label:"Belanja Pangan",value:1},{label:"Biaya Sekolah",value:2},{label:"Pembayaran Utang/Kredit",value:3},{label:"Lainnya",value:99}]}]},{id:10,nomor:10,rincian:"Apakah ART menerima PIP?",type:"binary",children:[{id:11,nomor:11,dependentValues:[1],rincian:"berapa ART yang menerima PIP? (SD s.d. Kuliah)",type:"number",rules:[({getFieldValue:e})=>_e({getFieldValue:e},"wtf_3","less equal","Jumlah ART yang menerima PIP tidak bisa melebihi ART yang bersekolah")]}]},{id:26,nomor:"",rincian:"Garis Kemiskinan Maret 2024",type:"rupiah"}],Qn=({form:e,onFinish:t,tabContentStyle:a})=>k(P,{direction:"vertical",style:a,children:[n(P,{style:{width:"100%",justifyContent:"space-between"},direction:"horizontal"}),n(T,{form:e,name:"Worksheet",onFinish:t,autoComplete:"off",layout:"vertical",children:k("table",{style:{borderCollapse:"collapse",width:"100%"},children:[n("thead",{style:{backgroundColor:"#fc0",textAlign:"center"},children:n("tr",{children:n("td",{style:{borderStyle:"solid",border:"solid 1px black",padding:"5px"},colSpan:3,children:k(P,{direction:"vertical",children:[k(Sn,{level:4,style:{textTransform:"uppercase"},children:["Isian Worksheet Template"," "]}),n(Cn,{children:"RINCIAN (Lihat Dokumen VSEN24.K)"})]})})})}),n("tbody",{children:vn.map(i=>_n({props:i,defaultValue:e.getFieldValue(`wtf_${i.id}`)}))})]})})]}),Nn=({rincian:e,row_index:t})=>k("tr",{children:[n("td",{style:{...xe,width:"30px"},children:t+1}),n("td",{style:{...ce,width:"auto"},children:e.rincian}),n("td",{style:{...ce,width:"150px",textAlign:"right"},children:e.id===5?n(L,{children:n(F,{inputName:`blokqc_${e.id}`},t)}):n(P,{direction:"vertical",children:n(T.Item,{name:`blokqc_${e.id}`,label:null,style:{marginBottom:"5px",textAlign:"center"},rules:e.rules,children:n(Ne,{className:"custom-input-number",style:{textAlign:"right",width:"100%"},formatter:a=>{const o=Number(a)??0,l=o.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",");return e.dataType==="decimal"?l:String(o)}},t)})})})]},t),eo=({form:e,onFinish:t,tabContentStyle:a,daftarQc:o})=>{const[l,i]=ue.useMessage();return n(P,{direction:"vertical",style:a,children:k(T,{form:e,name:"Blok4_3",onFinish:t,autoComplete:"off",layout:"vertical",children:[n(de,{title:"Quality Control",columnsCount:3,columns:["No.","Rincian","Isian"],children:o.map((c,d)=>n(Nn,{row_index:d,rincian:c},d))},2),i]})})};export{Jn as B,Wn as D,Qn as W,Xn as a,Yn as b,eo as c,qn as d};
