import{e as we,r as s,C as U,f as R,h as ot,o as Se,_ as Fe,i as lt,a as n,j as p,F as G,c as q}from"./app-6875295f.js";import{K as J,g as Ae,i as ze,c as Ve,B as Oe}from"./TextArea-747be706.js";import{g as De,m as Me,A as Le}from"./AntdIcon-4a8e6982.js";import{_ as L}from"./debounce-806420a6.js";import{S as B}from"./index-8e943527.js";import{T as te}from"./index-37343ee1.js";import{m as ce}from"./index-2a54ca54.js";import{F as T}from"./index-67154d3a.js";import{I as W}from"./index-c7bf0a56.js";import{T as We}from"./index-90b47bfa.js";import{R as j}from"./RupiahInput-86c6bdea.js";import{T as F}from"./TextRupiah-27bc1177.js";import{I as _e}from"./index-01a973f9.js";import{l as at}from"./lodash-58faaf64.js";import{S as rt}from"./Table-f18f5099.js";import{P as it}from"./index-d0bb68bf.js";import{D as st}from"./AuthenticatedLayout-bcf5633c.js";import{M as Ee}from"./Blok1_2-33924cf7.js";const ct=new J("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),dt=new J("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),ut=new J("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),mt=new J("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),gt=new J("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),ht=new J("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),pt=e=>{const{componentCls:t,iconCls:a,antCls:o,badgeFontHeight:l,badgeShadowSize:i,badgeHeightSm:d,motionDurationSlow:c,badgeStatusSize:r,marginXS:g,badgeRibbonOffset:h}=e,b=`${o}-scroll-number`,y=`${o}-ribbon`,v=`${o}-ribbon-wrapper`,$=Ae(e,(f,u)=>{let{darkColor:m}=u;return{[`${t}-color-${f}`]:{background:m}}}),w=Ae(e,(f,u)=>{let{darkColor:m}=u;return{[`&${y}-color-${f}`]:{background:m,color:m}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},we(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{zIndex:e.badgeZIndex,minWidth:e.badgeHeight,height:e.badgeHeight,color:e.badgeTextColor,fontWeight:e.badgeFontWeight,fontSize:e.badgeFontSize,lineHeight:`${e.badgeHeight}px`,whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:e.badgeHeight/2,boxShadow:`0 0 0 ${i}px ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:d,height:d,fontSize:e.badgeFontSizeSm,lineHeight:`${d}px`,borderRadius:d/2},[`${t}-multiple-words`]:{padding:`0 ${e.paddingXS}px`},[`${t}-dot`]:{zIndex:e.badgeZIndex,width:e.badgeDotSize,minWidth:e.badgeDotSize,height:e.badgeDotSize,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${i}px ${e.badgeShadowColor}`},[`${t}-dot${b}`]:{transition:`background ${c}`},[`${t}-count, ${t}-dot, ${b}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${a}-spin`]:{animationName:ht,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:r,height:r,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{position:"relative",color:e.colorPrimary,backgroundColor:e.colorPrimary,"&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:i,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:ct,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:g,color:e.colorText,fontSize:e.fontSize}}}),$),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:dt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:ut,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:mt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:gt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${b}-custom-component, ${t}-count`]:{transform:"none"},[`${b}-custom-component, ${b}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[`${b}`]:{overflow:"hidden",[`${b}-only`]:{position:"relative",display:"inline-block",height:e.badgeHeight,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${b}-only-unit`]:{height:e.badgeHeight,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${b}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${b}-custom-component`]:{transform:"translate(-50%, -50%)"}}}),[`${v}`]:{position:"relative"},[`${y}`]:Object.assign(Object.assign(Object.assign(Object.assign({},we(e)),{position:"absolute",top:g,padding:`0 ${e.paddingXS}px`,color:e.colorPrimary,lineHeight:`${l}px`,whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${y}-text`]:{color:e.colorTextLightSolid},[`${y}-corner`]:{position:"absolute",top:"100%",width:h,height:h,color:"currentcolor",border:`${h/2}px solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),w),{[`&${y}-placement-end`]:{insetInlineEnd:-h,borderEndEndRadius:0,[`${y}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${y}-placement-start`]:{insetInlineStart:-h,borderEndStartRadius:0,[`${y}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},Ue=De("Badge",e=>{const{fontSize:t,lineHeight:a,fontSizeSM:o,lineWidth:l,marginXS:i,colorBorderBg:d}=e,c=Math.round(t*a),r=l,g="auto",h=c-2*r,b=e.colorBgContainer,y="normal",v=o,$=e.colorError,w=e.colorErrorHover,f=t,u=o/2,m=o,k=o/2,A=Me(e,{badgeFontHeight:c,badgeShadowSize:r,badgeZIndex:g,badgeHeight:h,badgeTextColor:b,badgeFontWeight:y,badgeFontSize:v,badgeColor:$,badgeColorHover:w,badgeShadowColor:d,badgeHeightSm:f,badgeDotSize:u,badgeFontSizeSm:m,badgeStatusSize:k,badgeProcessingDuration:"1.2s",badgeRibbonOffset:i,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"});return[pt(A)]}),bt=e=>{let{className:t,prefixCls:a,style:o,color:l,children:i,text:d,placement:c="end"}=e;const{getPrefixCls:r,direction:g}=s.useContext(U),h=r("ribbon",a),b=ze(l,!1),y=R(h,`${h}-placement-${c}`,{[`${h}-rtl`]:g==="rtl",[`${h}-color-${l}`]:b},t),[v,$]=Ue(h),w={},f={};return l&&!b&&(w.background=l,f.color=l),v(s.createElement("div",{className:R(`${h}-wrapper`,$)},i,s.createElement("div",{className:R(y,$),style:Object.assign(Object.assign({},w),o)},s.createElement("span",{className:`${h}-text`},d),s.createElement("div",{className:`${h}-corner`,style:f}))))},ft=bt;function Re(e){let{prefixCls:t,value:a,current:o,offset:l=0}=e,i;return l&&(i={position:"absolute",top:`${l}00%`,left:0}),s.createElement("span",{style:i,className:R(`${t}-only-unit`,{current:o})},a)}function yt(e,t,a){let o=e,l=0;for(;(o+10)%10!==t;)o+=a,l+=a;return l}function $t(e){const{prefixCls:t,count:a,value:o}=e,l=Number(o),i=Math.abs(a),[d,c]=s.useState(l),[r,g]=s.useState(i),h=()=>{c(l),g(i)};s.useEffect(()=>{const v=setTimeout(()=>{h()},1e3);return()=>{clearTimeout(v)}},[l]);let b,y;if(d===l||Number.isNaN(l)||Number.isNaN(d))b=[s.createElement(Re,Object.assign({},e,{key:l,current:!0}))],y={transition:"none"};else{b=[];const v=l+10,$=[];for(let u=l;u<=v;u+=1)$.push(u);const w=$.findIndex(u=>u%10===d);b=$.map((u,m)=>{const k=u%10;return s.createElement(Re,Object.assign({},e,{key:u,value:k,offset:m-w,current:m===w}))});const f=r<i?1:-1;y={transform:`translateY(${-yt(d,l,f)}00%)`}}return s.createElement("span",{className:`${t}-only`,style:y,onTransitionEnd:h},b)}var kt=globalThis&&globalThis.__rest||function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]]);return a};const Ct=s.forwardRef((e,t)=>{var{prefixCls:a,count:o,className:l,motionClassName:i,style:d,title:c,show:r,component:g="sup",children:h}=e,b=kt(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]);const{getPrefixCls:y}=s.useContext(U),v=y("scroll-number",a),$=Object.assign(Object.assign({},b),{"data-show":r,style:d,className:R(v,l,i),title:c});let w=o;if(o&&Number(o)%1===0){const f=String(o).split("");w=f.map((u,m)=>s.createElement($t,{prefixCls:v,count:Number(o),value:u,key:f.length-m}))}return d&&d.borderColor&&($.style=Object.assign(Object.assign({},d),{boxShadow:`0 0 0 1px ${d.borderColor} inset`})),h?Ve(h,f=>({className:R(`${v}-custom-component`,f==null?void 0:f.className,i)})):s.createElement(g,Object.assign({},$,{ref:t}),w)}),St=Ct;var _t=globalThis&&globalThis.__rest||function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]]);return a};const xt=(e,t)=>{const{prefixCls:a,scrollNumberPrefixCls:o,children:l,status:i,text:d,color:c,count:r=null,overflowCount:g=99,dot:h=!1,size:b="default",title:y,offset:v,style:$,className:w,rootClassName:f,showZero:u=!1}=e,m=_t(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","showZero"]),{getPrefixCls:k,direction:A}=s.useContext(U),S=k("badge",a),[O,H]=Ue(S),x=r>g?`${g}+`:r,C=x==="0"||x===0,_=r===null||C&&!u,E=(i!=null||c!=null)&&_,P=h&&!C,N=P?"":x,I=s.useMemo(()=>(N==null||N===""||C&&!u)&&!P,[N,C,u,P]),V=s.useRef(r);I||(V.current=r);const Z=V.current,xe=s.useRef(N);I||(xe.current=N);const me=xe.current,Ne=s.useRef(P);I||(Ne.current=P);const ne=s.useMemo(()=>{if(!v)return Object.assign({},$);const D={marginTop:v[1]};return A==="rtl"?D.left=parseInt(v[0],10):D.right=-parseInt(v[0],10),Object.assign(Object.assign({},D),$)},[A,v,$]),Je=y??(typeof Z=="string"||typeof Z=="number"?Z:void 0),Ze=I||!d?null:s.createElement("span",{className:`${S}-status-text`},d),Xe=!Z||typeof Z!="object"?void 0:Ve(Z,D=>({style:Object.assign(Object.assign({},ne),D.style)})),oe=ze(c,!1),Ye=R({[`${S}-status-dot`]:E,[`${S}-status-${i}`]:!!i,[`${S}-color-${c}`]:oe}),ge={};c&&!oe&&(ge.color=c,ge.background=c);const ve=R(S,{[`${S}-status`]:E,[`${S}-not-a-wrapper`]:!l,[`${S}-rtl`]:A==="rtl"},w,f,H);if(!l&&E){const D=ne.color;return O(s.createElement("span",Object.assign({},m,{className:ve,style:ne}),s.createElement("span",{className:Ye,style:ge}),d&&s.createElement("span",{style:{color:D},className:`${S}-status-text`},d)))}return O(s.createElement("span",Object.assign({ref:t},m,{className:ve}),l,s.createElement(ot,{visible:!I,motionName:`${S}-zoom`,motionAppear:!1,motionDeadline:1e3},D=>{let{className:Qe,ref:et}=D;const tt=k("scroll-number",o),he=Ne.current,nt=R({[`${S}-dot`]:he,[`${S}-count`]:!he,[`${S}-count-sm`]:b==="small",[`${S}-multiple-words`]:!he&&me&&me.toString().length>1,[`${S}-status-${i}`]:!!i,[`${S}-color-${c}`]:oe});let le=Object.assign({},ne);return c&&!oe&&(le=le||{},le.background=c),s.createElement(St,{prefixCls:tt,show:!I,motionClassName:Qe,className:nt,count:me,title:Je,style:le,key:"scrollNumber",ref:et},Xe)}),Ze))},Ge=s.forwardRef(xt);Ge.Ribbon=ft;const Kn=Ge,Nt=e=>{const{prefixCls:t,className:a,style:o,size:l,shape:i}=e,d=R({[`${t}-lg`]:l==="large",[`${t}-sm`]:l==="small"}),c=R({[`${t}-circle`]:i==="circle",[`${t}-square`]:i==="square",[`${t}-round`]:i==="round"}),r=s.useMemo(()=>typeof l=="number"?{width:l,height:l,lineHeight:`${l}px`}:{},[l]);return s.createElement("span",{className:R(t,d,c,a),style:Object.assign(Object.assign({},r),o)})},de=Nt,vt=new J("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),ue=e=>({height:e,lineHeight:`${e}px`}),X=e=>Object.assign({width:e},ue(e)),wt=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:vt,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),pe=e=>Object.assign({width:e*5,minWidth:e*5},ue(e)),At=e=>{const{skeletonAvatarCls:t,gradientFromColor:a,controlHeight:o,controlHeightLG:l,controlHeightSM:i}=e;return{[`${t}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:a},X(o)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},X(l)),[`${t}${t}-sm`]:Object.assign({},X(i))}},Ot=e=>{const{controlHeight:t,borderRadiusSM:a,skeletonInputCls:o,controlHeightLG:l,controlHeightSM:i,gradientFromColor:d}=e;return{[`${o}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:d,borderRadius:a},pe(t)),[`${o}-lg`]:Object.assign({},pe(l)),[`${o}-sm`]:Object.assign({},pe(i))}},Ie=e=>Object.assign({width:e},ue(e)),Et=e=>{const{skeletonImageCls:t,imageSizeBase:a,gradientFromColor:o,borderRadiusSM:l}=e;return{[`${t}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:o,borderRadius:l},Ie(a*2)),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},Ie(a)),{maxWidth:a*4,maxHeight:a*4}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},be=(e,t,a)=>{const{skeletonButtonCls:o}=e;return{[`${a}${o}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${a}${o}-round`]:{borderRadius:t}}},fe=e=>Object.assign({width:e*2,minWidth:e*2},ue(e)),Rt=e=>{const{borderRadiusSM:t,skeletonButtonCls:a,controlHeight:o,controlHeightLG:l,controlHeightSM:i,gradientFromColor:d}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${a}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:d,borderRadius:t,width:o*2,minWidth:o*2},fe(o))},be(e,o,a)),{[`${a}-lg`]:Object.assign({},fe(l))}),be(e,l,`${a}-lg`)),{[`${a}-sm`]:Object.assign({},fe(i))}),be(e,i,`${a}-sm`))},It=e=>{const{componentCls:t,skeletonAvatarCls:a,skeletonTitleCls:o,skeletonParagraphCls:l,skeletonButtonCls:i,skeletonInputCls:d,skeletonImageCls:c,controlHeight:r,controlHeightLG:g,controlHeightSM:h,gradientFromColor:b,padding:y,marginSM:v,borderRadius:$,titleHeight:w,blockRadius:f,paragraphLiHeight:u,controlHeightXS:m,paragraphMarginTop:k}=e;return{[`${t}`]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:y,verticalAlign:"top",[`${a}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:b},X(r)),[`${a}-circle`]:{borderRadius:"50%"},[`${a}-lg`]:Object.assign({},X(g)),[`${a}-sm`]:Object.assign({},X(h))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${o}`]:{width:"100%",height:w,background:b,borderRadius:f,[`+ ${l}`]:{marginBlockStart:h}},[`${l}`]:{padding:0,"> li":{width:"100%",height:u,listStyle:"none",background:b,borderRadius:f,"+ li":{marginBlockStart:m}}},[`${l}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${o}, ${l} > li`]:{borderRadius:$}}},[`${t}-with-avatar ${t}-content`]:{[`${o}`]:{marginBlockStart:v,[`+ ${l}`]:{marginBlockStart:k}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},Rt(e)),At(e)),Ot(e)),Et(e)),[`${t}${t}-block`]:{width:"100%",[`${i}`]:{width:"100%"},[`${d}`]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${o},
        ${l} > li,
        ${a},
        ${i},
        ${d},
        ${c}
      `]:Object.assign({},wt(e))}}},Y=De("Skeleton",e=>{const{componentCls:t}=e,a=Me(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:e.controlHeight*1.5,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[It(a)]},e=>{const{colorFillContent:t,colorFill:a}=e,o=t,l=a;return{color:o,colorGradientEnd:l,gradientFromColor:o,gradientToColor:l,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}},{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Tt=e=>{const{prefixCls:t,className:a,rootClassName:o,active:l,shape:i="circle",size:d="default"}=e,{getPrefixCls:c}=s.useContext(U),r=c("skeleton",t),[g,h]=Y(r),b=Se(e,["prefixCls","className"]),y=R(r,`${r}-element`,{[`${r}-active`]:l},a,o,h);return g(s.createElement("div",{className:y},s.createElement(de,Object.assign({prefixCls:`${r}-avatar`,shape:i,size:d},b))))},jt=Tt,Pt=e=>{const{prefixCls:t,className:a,rootClassName:o,active:l,block:i=!1,size:d="default"}=e,{getPrefixCls:c}=s.useContext(U),r=c("skeleton",t),[g,h]=Y(r),b=Se(e,["prefixCls"]),y=R(r,`${r}-element`,{[`${r}-active`]:l,[`${r}-block`]:i},a,o,h);return g(s.createElement("div",{className:y},s.createElement(de,Object.assign({prefixCls:`${r}-button`,size:d},b))))},Bt=Pt;var Ht={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const Kt=Ht;var Ft=function(t,a){return s.createElement(Le,Fe({},t,{ref:a,icon:Kt}))};const zt=s.forwardRef(Ft),Vt=e=>{const{prefixCls:t,className:a,rootClassName:o,style:l,active:i,children:d}=e,{getPrefixCls:c}=s.useContext(U),r=c("skeleton",t),[g,h]=Y(r),b=R(r,`${r}-element`,{[`${r}-active`]:i},h,a,o),y=d??s.createElement(zt,null);return g(s.createElement("div",{className:b},s.createElement("div",{className:R(`${r}-image`,a),style:l},y)))},Dt=Vt,Mt="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Lt=e=>{const{prefixCls:t,className:a,rootClassName:o,style:l,active:i}=e,{getPrefixCls:d}=s.useContext(U),c=d("skeleton",t),[r,g]=Y(c),h=R(c,`${c}-element`,{[`${c}-active`]:i},a,o,g);return r(s.createElement("div",{className:h},s.createElement("div",{className:R(`${c}-image`,a),style:l},s.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${c}-image-svg`},s.createElement("path",{d:Mt,className:`${c}-image-path`})))))},Wt=Lt,Ut=e=>{const{prefixCls:t,className:a,rootClassName:o,active:l,block:i,size:d="default"}=e,{getPrefixCls:c}=s.useContext(U),r=c("skeleton",t),[g,h]=Y(r),b=Se(e,["prefixCls"]),y=R(r,`${r}-element`,{[`${r}-active`]:l,[`${r}-block`]:i},a,o,h);return g(s.createElement("div",{className:y},s.createElement(de,Object.assign({prefixCls:`${r}-input`,size:d},b))))},Gt=Ut,qt=e=>{const t=c=>{const{width:r,rows:g=2}=e;if(Array.isArray(r))return r[c];if(g-1===c)return r},{prefixCls:a,className:o,style:l,rows:i}=e,d=lt(Array(i)).map((c,r)=>s.createElement("li",{key:r,style:{width:t(r)}}));return s.createElement("ul",{className:R(a,o),style:l},d)},Jt=qt,Zt=e=>{let{prefixCls:t,className:a,width:o,style:l}=e;return s.createElement("h3",{className:R(t,a),style:Object.assign({width:o},l)})},Xt=Zt;function ye(e){return e&&typeof e=="object"?e:{}}function Yt(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Qt(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function en(e,t){const a={};return(!e||!t)&&(a.width="61%"),!e&&t?a.rows=3:a.rows=2,a}const Q=e=>{const{prefixCls:t,loading:a,className:o,rootClassName:l,style:i,children:d,avatar:c=!1,title:r=!0,paragraph:g=!0,active:h,round:b}=e,{getPrefixCls:y,direction:v}=s.useContext(U),$=y("skeleton",t),[w,f]=Y($);if(a||!("loading"in e)){const u=!!c,m=!!r,k=!!g;let A;if(u){const H=Object.assign(Object.assign({prefixCls:`${$}-avatar`},Yt(m,k)),ye(c));A=s.createElement("div",{className:`${$}-header`},s.createElement(de,Object.assign({},H)))}let S;if(m||k){let H;if(m){const C=Object.assign(Object.assign({prefixCls:`${$}-title`},Qt(u,k)),ye(r));H=s.createElement(Xt,Object.assign({},C))}let x;if(k){const C=Object.assign(Object.assign({prefixCls:`${$}-paragraph`},en(u,m)),ye(g));x=s.createElement(Jt,Object.assign({},C))}S=s.createElement("div",{className:`${$}-content`},H,x)}const O=R($,{[`${$}-with-avatar`]:u,[`${$}-active`]:h,[`${$}-rtl`]:v==="rtl",[`${$}-round`]:b},o,l,f);return w(s.createElement("div",{className:O,style:i},A,S))}return typeof d<"u"?d:null};Q.Button=Bt;Q.Avatar=jt;Q.Input=Gt;Q.Image=Wt;Q.Node=Dt;const tn=Q;var nn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z"}}]},name:"dollar",theme:"outlined"};const on=nn;var ln=function(t,a){return s.createElement(Le,Fe({},t,{ref:a,icon:on}))};const Fn=s.forwardRef(ln),ie=({inputName:e,onChange:t,initialValue:a,editable:o})=>{const[l,i]=s.useState(0),d=r=>{i(r)},c=L(r=>{d(r),t&&t(r)},600);return n(T.Item,{name:e,initialValue:a??void 0,style:{marginBottom:"4px"},children:n(_e,{className:"custom-input-number",readOnly:o||!1,min:0,step:.01,formatter:r=>r&&r>0?`${r}`.replace(/\B(?=(\d{3})+(?!\d))/g,","):"",parser:r=>{const g=parseFloat(String(r).replace(/[^\d.]/g,""));return isNaN(g)?0:g},value:l,onChange:r=>{c(r)}})})},Te={backgroundColor:"#fc0",fontWeight:"700",padding:"5px"},z={borderRight:"1px solid ",padding:"5px"},je={borderRight:"1px solid ",textAlign:"center",padding:"5px"},ae={borderRight:"1px solid ",textAlign:"right",padding:"5px"},an={borderRight:"1px solid ",width:"200px",textAlign:"right",padding:"5px"},$e={borderRight:"1px solid ",backgroundColor:"#636f83",padding:"5px"},rn=({data:e,form:t,subKey:a,rekapMak:o,calculate:l})=>{const[i,d]=s.useState(0),[c,r]=s.useState(!1),[g,h]=s.useState(!1),[b,y]=s.useState(!1);s.useEffect(()=>{let f=Number(t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_beli_harga${e.subKey}`));f||(f=0);let u=Number(t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`));u||(u=0);const m=f+u;console.log({beli:f,produksi:u,total:m}),m&&(t.setFieldsValue({[`${e.nomor}_total_harga_calculated`]:m}),w())},[i]),s.useEffect(()=>{w()},[o[e.subKey].produksi,o[e.subKey].beli]),s.useEffect(()=>{const f=t.getFieldValue(`${e.nomor}_beli_harga`)+t.getFieldValue(`${e.nomor}_produksi_harga`);d(f),w()},[]);function v(f){let u=t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`),m=f+u;t.setFieldsValue({[`${e.nomor}_total_harga_calculated`]:m}),d(m),e.type}function $(f){d(parseFloat(String(f)??0)+parseFloat(t.getFieldValue(`${e.nomor}_beli_harga`)||0)),e.type}function w(){const f=t.getFieldValue(`${e.nomor}_total_harga`),u=t.getFieldValue(`${e.nomor}_total_harga_calculated`);if(r(f==u),e.type=="sub"){const m=t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`),k=t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_beli_harga${e.subKey}`);h(k==o[e.subKey].beli),y(m==o[e.subKey].produksi)}}return p(G,{children:[p("tr",{style:{backgroundColor:e.flagBasket?"#ffffcc":"",borderTop:"1px solid ",borderLeft:"1px solid "},children:[n("td",{style:{...je,width:"55px"},children:e.nomor}),p("td",{colSpan:1,style:{...e.type==="sub"?Te:z},children:[e.rincian,e.type==="lain"&&n(T.Item,{name:`${e.nomor}_item`,children:n(W,{placeholder:"Sebutkan"})})]}),n("td",{colSpan:1,style:{...e.type==="sub"?Te:je},children:e.type==="lain"?n(T.Item,{name:`${e.nomor}_satuan`,children:n(W,{placeholder:"Sebutkan"})}):e.satuan}),n("td",{style:{...e.type==="sub"?$e:z},children:e.type==="sub"||n(ie,{inputName:`${e.nomor}_beli_volume`})}),n("td",{style:{...an},children:n(j,{inputName:`${e.type==="sub"?"jumlah":""}${e.nomor}_beli_harga${e.subKey}`,onChange:L(v,600)})}),n("td",{style:{...e.type==="sub"?$e:z},children:e.type==="sub"||n(ie,{inputName:`${e.nomor}_produksi_volume`})}),n("td",{style:{...ae},children:n(j,{inputName:`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`,onChange:L($,600)})}),n("td",{style:e.type==="sub"?$e:z,children:e.type==="sub"||n(ie,{inputName:`${e.nomor}_total_volume`})}),n("td",{style:{...ae},children:n(j,{inputName:`${e.nomor}_total_harga`,onChange:L(w,600)})})]}),p("tr",{style:{backgroundColor:e.flagBasket?"#ffffcc":"",borderBottom:"1px solid ",borderRight:"1px solid ",borderLeft:"1px solid "},children:[n("td",{style:z}),n("td",{style:z}),n("td",{style:z}),n("td",{style:z}),p("td",{style:ae,children:[" ",e.type==="sub"&&n(F,{color:g?"green":"red",value:o[e.subKey]?o[e.subKey].beli??0:0})]}),n("td",{style:z}),n("td",{style:ae,children:e.type==="sub"&&n(F,{color:b?"green":"red",value:o[e.subKey].produksi??0})}),n("td",{style:z}),n("td",{style:z,children:n(j,{style:{color:c?"green":"red",backgroundColor:"inherit",border:"none"},disabled:!0,inputName:`${e.nomor}_total_harga_calculated`})})]})]})},{Text:zn,Title:sn}=te,cn={borderCollapse:"collapse",width:"100%"},K={borderStyle:"solid",border:"solid 1px black",padding:"5px"},M={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},qe=({title:e,konten:t,rekapMak:a,calculate:o,form:l})=>(e="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN, BAHAN MINUMAN, DAN ROKOK SEMINGGU TERAKHIR",p("table",{style:cn,children:[p("thead",{children:[n("tr",{style:{backgroundColor:"#fc0",textAlign:"center"},children:n("th",{style:K,colSpan:10,children:n(B,{direction:"vertical",style:{padding:"25px"},children:n(sn,{level:4,children:e})})})}),p("tr",{children:[n("th",{style:K,rowSpan:2,children:"No Urut"}),n("th",{style:K,rowSpan:2,children:"Rincian"}),n("th",{style:K,rowSpan:2,children:"Satuan standar"}),n("th",{style:K,colSpan:2,children:"Berasal dari pembelian (tunai/bon)"}),n("th",{style:K,colSpan:2,children:"Berasal dari produksi sendiri, pemberian, dsb"}),n("th",{style:K,colSpan:2,children:"Jumlah konsumsi"})]}),p("tr",{children:[n("th",{style:K,children:"Banyaknya (0,00)"}),n("th",{style:K,children:"Nilai (Rp)"}),n("th",{style:K,children:"Banyaknya (0,00)"}),n("th",{style:K,children:"Nilai (Rp)"}),n("th",{style:K,children:"Banyaknya (5) + (7) (0,00)"}),n("th",{style:K,children:"Nilai (6) + (8) (Rp)"})]})]}),p("tbody",{children:[p("tr",{children:[n("td",{width:"55px",style:M,children:"(1)"}),n("td",{style:M,children:"(3)"}),n("td",{width:"80px",style:M,children:"(4)"}),n("td",{width:"100px",style:M,children:"(5)"}),n("td",{style:M,children:"(6)"}),n("td",{width:"100px",style:M,children:"(7)"}),n("td",{style:M,children:"(8)"}),n("td",{width:"100px",style:M,children:"(9)"}),n("td",{style:M,children:"(10)"})]}),t.map((i,d)=>n(rn,{data:i,form:l,rekapMak:a,calculate:o},d))]})]})),{Text:dn,Title:Vn}=te,ee=({form:e,rekapMak:t,calculate:a,from:o,to:l,hal:i})=>{const[d,c]=s.useState([]),[r,g]=s.useState(!0);s.useEffect(()=>{(async(y,v)=>{const{data:$}=await q.get(route("api.mak.komoditas.list",{from:y,to:v})),w=$.map(f=>({nomor:f.id,kode_coicop:f.kode_coicop,rincian:f.nama_komoditas,satuan:f.satuan,type:f.type,subKey:f.id_kelompok,flagBasket:f.flag_basket}));c([...w]),g(!1)})(o,l)},[]);const h="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN & MINUMAN SEMINGGU TERAKHIR";return p(B,{direction:"vertical",style:{width:"100%"},children:[p(B,{style:{width:"100%",justifyContent:"end"},direction:"horizontal",children:[n(dn,{children:"Jumlah komoditas bahan makanan dan bahan minuman terisi pada halaman ini"}),n(ie,{inputName:`hal${i}_jml_komoditas`})]}),n(qe,{form:e,konten:r?[]:d,title:h,rekapMak:t,calculate:a}),r&&n(tn,{active:!0,paragraph:{rows:10}})]})},Dn=({form:e,onFinish:t,tabContentStyle:a,subTotalHarga:o,calculate:l,rekapMak:i})=>{ce.useMessage();function d(c){}return s.useEffect(()=>{},[]),p(T,{form:e,name:"Blok4_1_hal2",onFinish:t,autoComplete:"off",layout:"vertical",onValuesChange:L(l,600),children:[n(T.Item,{name:"id_ruta",hidden:!0,children:n(W,{placeholder:"id rt"})}),n(We,{onChange:d,type:"line",style:{backgroundColor:"#fff",padding:"10px"},items:[{label:"Hal 2",key:"1",children:n(ee,{from:1,to:34,hal:2,form:e,calculate:l,rekapMak:i})},{label:"Hal 4",key:"2",children:n(ee,{from:35,hal:4,to:62,form:e,calculate:l,rekapMak:i})},{label:"Hal 6",key:"3",children:n(ee,{from:63,to:94,hal:6,form:e,calculate:l,rekapMak:i})},{label:"Hal 8",key:"4",children:n(ee,{from:95,to:127,hal:8,form:e,calculate:l,rekapMak:i})},{label:"Blok 10",key:"5",children:n(ee,{from:128,to:158,hal:10,form:e,calculate:l,rekapMak:i})}]})]})},{Text:un,Title:Mn}=te,Pe=({onFinish:e,nomor_art:t,setDaftarArt:a,daftarArt:o,id_ruta:l,id_art:i,calculateKalori:d,konten:c,art:r})=>{const[g]=T.useForm(),[h,b]=s.useState(!0),y=async m=>{try{const k=route("entri.mak.konsumsi_art.store"),{data:A}=await q.patch(k,m,{headers:{"Content-Type":"application/json"}})}catch(k){console.log("error",{error:k})}},v=({subKey:m,jenis:k})=>{const A=`${k}_harga${m}`,S=g.getFieldsValue(),O=Object.entries(S).filter(([C])=>C.endsWith(A)).reduce((C,[,_])=>C+(_||0),0),x=[...o].map(C=>{let _={...C.rekap};return _[m][k]=O,C.id===i?{...C,rekap:_}:C});a(x)},$=L(()=>{const m="beli_harga12",k="beli_harga13",A="produksi_harga12",S="produksi_harga13",O=g.getFieldsValue(),H=Object.entries(O).filter(([N])=>N.endsWith(m)&&!N.includes("jumlah")).reduce((N,[,I])=>N+(I||0),0),x=Object.entries(O).filter(([N])=>N.endsWith(k)&&!N.includes("jumlah")).reduce((N,[,I])=>N+(I||0),0),C=Object.entries(O).filter(([N])=>N.endsWith(A)&&!N.includes("jumlah")).reduce((N,[,I])=>N+(I||0),0),_=Object.entries(O).filter(([N])=>N.endsWith(S)&&!N.includes("jumlah")).reduce((N,[,I])=>N+(I||0),0);let E=[...o];const P=E.map(N=>{let I={...N.rekap};return I[12]={beli:H,produksi:C,total:H+C},I[13]={beli:x,produksi:_,total:x+_},N.id===i?{...N,rekap:I}:N});console.log({newDaftarArt:E}),a(P)},600),w=L(()=>g.submit(),3e3),f=L(()=>{$(),w(),d(g.getFieldsValue()).then(m=>{let k=[...o];k[t].kalori=m})},3e3);s.useEffect(()=>{(async k=>{b(!0);const{data:A}=await q.get(route("api.mak.konsumsi.art",{id_art:k})),S=[159,192],H=A.map(x=>({[`${S.includes(x.id_komoditas)?"jumlah":""}${x.id_komoditas}_beli_harga${x.id_kelompok}`]:x.harga_beli,[`${S.includes(x.id_komoditas)?"jumlah":""}${x.id_komoditas}_produksi_harga${x.id_kelompok}`]:x.harga_produksi,[`${x.id_komoditas}_total_harga`]:x.harga_total,[`${x.id_komoditas}_item`]:x.item,[`${x.id_komoditas}_satuan`]:x.satuan,[`${x.id_komoditas}_beli_volume`]:x.volume_beli,[`${x.id_komoditas}_produksi_volume`]:x.volume_produksi,[`${x.id_komoditas}_total_volume`]:x.volume_total})).reduce((x,C)=>{for(const _ in C)C.hasOwnProperty(_)&&(x[_]=C[_]);return x},{});H[`blok4_31_${t}_id_art`]=k,g.setFieldsValue(H)})(i),b(!0)},[i]),s.useEffect(()=>{g.setFieldsValue({id_ruta:l,id_art:i}),d(g.getFieldsValue()).then(m=>{let k=[...o];k[t].kalori=m})},[g]);const u="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN, BAHAN MINUMAN, DAN ROKOK SEMINGGU TERAKHIR";return n(B,{direction:"vertical",style:{width:"100%"},children:p(T,{form:g,name:"Art",onFinish:y,autoComplete:"off",layout:"vertical",onValuesChange:f,children:[p(B,{style:{width:"100%",justifyContent:"end"},direction:"horizontal",children:[n(un,{children:"Jumlah komoditas bahan makanan,bahan minuman, dan rokok yang terisi pada halaman ini"}),n(T.Item,{style:{margin:"auto"},name:"id_ruta",hidden:!0,children:n(W,{readOnly:!0})}),n(T.Item,{style:{margin:"auto"},name:"id_art",hidden:!0,children:n(W,{readOnly:!0})})]}),n(qe,{form:g,konten:c,title:u,calculate:v,rekapMak:r.rekap})]})})},{Text:mn,Title:gn}=te,hn={borderCollapse:"collapse",width:"100%",backgroundColor:"#fff"},Be={borderStyle:"solid",border:"solid 1px black",padding:"5px"},pn={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},se=({title:e,subtitle:t,columnsCount:a,columns:o,children:l})=>p("table",{style:hn,children:[n("thead",{style:{backgroundColor:"#fc0",textAlign:"center"},children:n("tr",{children:n("td",{colSpan:a,style:Be,children:p(B,{direction:"vertical",children:[n(gn,{level:4,children:e}),n(mn,{children:t})]})})})}),p("tbody",{children:[o&&p(G,{children:[n("tr",{children:o.map(i=>n("th",{style:Be,children:i}))}),n("tr",{children:Array.from(Array(a).keys()).map(i=>p("td",{style:pn,children:["(",i+1,")"]}))})]}),l]})]}),ke={borderStyle:"solid",border:"solid 1px black",margin:"auto",textAlign:"center",padding:"5px"},Ln=({artForm:e,artFormFinish:t,tabContentStyle:a,daftarArt:o,setDaftarArt:l,calculateKalori:i})=>{const d=C=>{},[c,r]=s.useState("0"),[g,h]=s.useState([]),[b,y]=s.useState([]),[v,$]=s.useState(!1),[w,f]=s.useState(!1),u=s.useRef(1),[m,k]=ce.useMessage(),A=async()=>{f(!0);const C=`Art-${u.current++}`;try{const{data:_}=await q.post(route("entri.mak.art.store"),{nama:C,nomor_art:o.length+1,id_ruta:o[0].id_ruta}),E=[...o,{id:_.id,id_ruta:_.id_ruta,nomor_art:u.current++,nama:C,key:C,rekap:{12:{produksi:0,beli:0,total:0},13:{produksi:0,beli:0,total:0}}}];l([...E]),r(C)}catch(_){console.error("Error in add function:",_)}finally{f(!1)}},S=async C=>{const _=e.getFieldValue(`${C}-id_art`);if(C===0){m.open({content:"anggota ruta pertama tidak boleh dihapus,",type:"warning",key:_,duration:3});return}try{const{data:E}=await q.delete(route("entri.mak.art.delete",{id_art:_})),P=o.filter(N=>N.id!==_);l(P),m.open({content:"Berhasil menghapus 1 anggota rumah tangga",type:"success",key:_})}catch(E){console.error("Error in add function:",E),m.open({content:`Terjadi galat ketika menghapus data, tunjukan code ini pada Developer (${E})`,type:"error",key:_,duration:3})}},H=L((C,_,E)=>{const P=[...o];P[C][_]=E.trim(),l(P)},1e3),x=at.throttle(S,2e3);return s.useEffect(()=>{(async(E,P)=>{const{data:N}=await q.get(route("api.mak.komoditas.list",{from:E,to:P})),I=N.map(V=>({nomor:V.id,kode_coicop:V.kode_coicop,rincian:V.nama_komoditas,satuan:V.satuan,type:V.type,subKey:V.id_kelompok,flagBasket:V.flag_basket}));y([...I])})(159,197),$(!1);const _=o.map((E,P)=>({label:E.nama,key:String(P),children:n(Pe,{onFinish:d,nomor_art:E.nomor_art,daftarArt:o,setDaftarArt:l,id_ruta:e.getFieldValue("id_ruta"),art:E,id_art:E.id,calculateKalori:i,konten:b})}));h([..._])},[]),p(B,{direction:"vertical",style:a,children:[k,n(Oe,{type:"primary",onClick:A,children:"Tambah Art"}),p(T,{name:"artForm",form:e,onFinish:t,children:[n(T.Item,{name:"id_ruta",hidden:!0,children:n(W,{})}),n(se,{title:"DAFTAR ANGGOTA RUMAH TANGGA",columns:["Nomor","Nama Anggota Rumah Tangga","aksi"],columnsCount:3,children:w?n("tr",{children:n("td",{colSpan:3,children:p(B,{style:{width:"100%",justifyContent:"center",marginTop:"30px"},direction:"vertical",children:[n(B,{style:{width:"100%",justifyContent:"center"},children:n(rt,{size:"large"})}),n(B,{style:{width:"100%",justifyContent:"center"},children:"Menambahkan anggota rumah tangga..."})]})})}):o.map((C,_)=>p("tr",{children:[n("td",{style:ke,children:_+1}),p("td",{style:ke,children:[n(T.Item,{name:`${_}-id_art`,hidden:!0,children:n(W,{})}),n(T.Item,{name:`${_}-nama`,style:{margin:"auto"},children:n(W,{placeholder:"nama anggota rumah tangga",onChange:E=>H(_,"nama",E.target.value)})})]}),n("td",{style:ke,children:n(it,{placement:"topLeft",title:"apakah anda yakin akan menghapus art ini?",description:"hapus anggota rumah tangga",okText:"yakin dong",cancelText:"gajadi",onConfirm:()=>x(_),children:n(Oe,{disabled:_===0,children:"Hapus"})})})]},_))})]}),n(We,{style:{backgroundColor:"#fff",padding:"10px"},items:o.map((C,_)=>({label:C.nama,key:String(_),children:n(Pe,{onFinish:d,nomor_art:C.nomor_art,daftarArt:o,setDaftarArt:l,id_ruta:C.id_ruta,art:C,id_art:C.id,calculateKalori:i,konten:b})})),type:"line"})]})},Wn=({form:e,onFinish:t,tabContentStyle:a,rekapMak:o,setRekapMak:l,daftarArt:i,daftarRincian432:d})=>{const c={borderStyle:"solid",border:"solid 1px black",padding:"5px"},r={borderStyle:"solid",border:"solid 1px black",textAlign:"right",padding:"5px"},g={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},[h,b]=ce.useMessage(),y=u=>{let m=[...o];m[16].total=u,m[17].total=m[15].total+m[16].total,l(m)},v=({rincian:u,key:m})=>p("tr",{children:[n("td",{style:g,children:u.nomor}),n("td",{style:c,children:u.rincian}),n("td",{style:r,children:u.id<16&&p(G,{children:[n(j,{inputName:`blok4_32_${u.id-1}_beli`},m),n(F,{color:"red",value:o[u.id-1].beli},u.id)]})}),n("td",{style:r,children:u.id<16&&p(G,{children:[n(j,{inputName:`blok4_32_${u.id-1}_produksi`},m),n(F,{color:"red",value:o[u.id-1].produksi},u.id)]})}),n("td",{style:r,children:p(G,{children:[n(j,{inputName:`blok4_32_${u.id-1}_total`,onChange:m===16?y:void 0},m),n(F,{color:"red",value:o[u.id-1].total},u.id)]})})]}),[$,w]=s.useState({12:{beli:0,produksi:0,total:0},13:{beli:0,produksi:0,total:0}}),f=u=>{let m=u.reduce((k,A)=>(Object.values(A.rekap).forEach((S,O)=>{k[O]=k[O]||{beli:0,produksi:0,total:0},k[O].beli+=S.beli,k[O].produksi+=S.produksi,k[O].total+=S.total}),k),[]);return{12:m[0],13:m[1]}};return s.useEffect(()=>{let u=f(i);(async()=>{var A;const{data:k}=await q.get(route("entri.mak.art.fetch",{id_ruta:(A=i[0])==null?void 0:A.id_ruta}));k.forEach((S,O)=>{e.setFieldValue(`blok4_31_${O}_id_art`,S.id)})})(),w(u),l(k=>{let A=[...k];return A[12]=u[12],A[13]=u[13],A[14]=A.slice(0,14).reduce((S,O)=>({beli:S.beli+O.beli,produksi:S.produksi+O.produksi,total:S.total+O.total}),{beli:0,produksi:0,total:0}),[...A]})},[i]),s.useEffect(()=>{},[]),n(B,{direction:"vertical",style:a,children:p(T,{form:e,name:"Blok4_3",onFinish:t,autoComplete:"off",layout:"vertical",children:[p(se,{title:"BLOK IV.3.1. REKAPITULASI PENGELUARAN MAKANAN DAN MINUMAN JADI SERTA ROKOK SELURUH ANGGOTA RUMAH TANGGA (DALAM RUPIAH)",subtitle:"",columns:["No.","Nama ART","Makanan dan Minuman Jadi (Pembelian)","Makanan dan Minuman Jadi (Produksi sendiri, Pemberian, dsb)","Rokok dan Tembaku (Pembelian)","Rokok dan Tembaku (Produksi sendiri, Pemberian, dsb)"],columnsCount:6,children:[i.map((u,m)=>p("tr",{children:[n("td",{style:g,children:m+1}),p("td",{style:c,children:[u.nama,n(T.Item,{name:`blok4_31_${m}_id_art`,label:null,initialValue:u.id,hidden:!0,children:n(W,{readOnly:!0})},`form-item-${m}`)]}),p("td",{style:r,children:[n(j,{inputName:`blok4_31_${m}_mak_beli`,initialValue:u.mak_beli}),n(F,{color:"red",value:u.rekap[12].beli})]}),p("td",{style:r,children:[n(j,{inputName:`blok4_31_${m}_mak_produksi`,initialValue:u.mak_produksi}),n(F,{color:"red",value:u.rekap[12].produksi})]}),p("td",{style:r,children:[n(j,{inputName:`blok4_31_${m}_rokok_beli`,initialValue:u.rokok_beli}),n(F,{color:"red",value:u.rekap[13].beli})]}),p("td",{style:r,children:[n(j,{inputName:`blok4_31_${m}_rokok_produksi`,initialValue:u.rokok_produksi}),n(F,{color:"red",value:u.rekap[13].produksi})]})]})),i.length>0&&p("tr",{children:[n("td",{style:c}),n("td",{style:c,children:"JUMLAH"}),p("td",{style:r,children:[n(j,{inputName:"blok4_31_jumlah_mak_beli"}),n(F,{color:"red",value:$[12].beli})]}),p("td",{style:r,children:[n(j,{inputName:"blok4_31_jumlah_mak_produksi"}),n(F,{color:"red",value:$[12].produksi})]}),p("td",{style:r,children:[n(j,{inputName:"blok4_31_jumlah_rokok_beli"}),n(F,{color:"red",value:$[13].beli})]}),p("td",{style:r,children:[n(j,{inputName:"blok4_31_jumlah_rokok_produksi"}),n(F,{color:"red",value:$[13].produksi})]})]})]},1),n(st,{}),n(se,{title:"BLOK IV.3.2. REKAPITULASI PENGELUARAN MAKANAN, MINUMAN, DAN ROKOK (DALAM RUPIAH)",subtitle:"[Kolom (3) Disalin dari Blok IV.1 Kolom (6), Blok IV.3.1 Kolom (3), atau (5)] dan [Kolom (4) Disalin dari Blok IV.1 Kolom (8), Blok IV.3.1 Kolom (4), atau (6)]",columnsCount:5,columns:["No.","Jenis Pengeluaran","Pembelian Seminggu Terakhir","Produksi Sendiri, Pemberian, dsb., Seminggu Terakhir","Total Seminggu Terakhir [Kolom 3 + Kolom 4]"],children:d.map((u,m)=>v({rincian:u,key:m}))},2),b]})})},{Text:bn,Title:fn}=te,He={borderStyle:"solid",border:"solid 1px black",padding:"5px"},re={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},Ke=({type:e,name:t,options:a,customKey:o,children:l,setValue:i,dependencies:d,rules:c})=>({number:n(T.Item,{name:t,label:null,dependencies:d,rules:c,children:n(_e,{})}),binary:n(Ee,{name:t,options:[{label:"[1] YA",value:1},{label:"[5] TIDAK",value:5}],onChange:i&&(g=>i(g))}),rupiah:n(j,{inputName:t,editable:o===26}),multi:n(Ee,{name:t,options:a??[],onChange:i&&(g=>i(g))})})[e],yn=({props:e,defaultValue:t})=>{const[a,o]=s.useState(t),[l,i]=s.useState([]),d=p(G,{children:[n("td",{style:re,children:e.nomor}),n("td",{style:He,children:e.rincian})]});return s.useEffect(()=>{if(e.children){let c=e.children.filter((r,g)=>{let h=!1;return r.dependentValues&&r.dependentValues.forEach(b=>{b==a&&(h=!0)}),h}).map(r=>p("tr",{children:[n("td",{style:re}),n("td",{style:He,children:r.rincian}),n("td",{style:re,children:n(Ke,{type:r.type,name:`wtf_${r.nomor}`,options:r.options,customKey:r.id,dependencies:r.dependencies,rules:r.rules},r.nomor)})]},e.id));i(c)}},[a,e.children]),p(G,{children:[p("tr",{style:{backgroundColor:e.id%2===0?" #fffae6":""},children:[d,n("td",{style:re,children:n(Ke,{type:e.type,name:`wtf_${e.id}`,options:e.options,customKey:e.id,children:e.children,setValue:o,dependencies:e.dependencies,rules:e.rules},e.id)})]}),l.map(c=>c)]})},Ce=({getFieldValue:e},t,a,o)=>({validator(l,i,d){const c=e(t);let r=!0;return a=="less"?r=i<c:a=="equal"?r=i==c:a=="greater"?r=i>c:a=="less equal"?r=i<=c:a=="greater equal"&&(r=i>=c),r?Promise.resolve():Promise.reject(o)}}),$n=[{id:1,nomor:1,rincian:"Jumlah ART (Blok III Rincian 301)",type:"number",rules:[()=>({validator(e,t,a){return t<1?Promise.reject("Jumlah ART minimal satu"):Promise.resolve()}})]},{id:2,nomor:2,rincian:"Jumlah Balita (R302)",type:"number",dependencies:["wtf_1"],rules:[({getFieldValue:e})=>Ce({getFieldValue:e},"wtf_1","less","Jumlah Balita tidak bisa melebihi atau sama dengan jumlah ART")]},{id:3,nomor:3,rincian:"Jumlah ART yang masih bersekolah (R1402=2)",type:"number",rules:[({getFieldValue:e})=>Ce({getFieldValue:e},"wtf_1","less equal","Jumlah ART yang bersekolah tidak bisa melebihi jumlah ART")]},{id:4,nomor:4,rincian:"Status Kepemilikan Bangunan Tempat Tinggal (R1901)",type:"multi",options:[{label:"Milik Sendiri",value:1},{label:"Kontrak/Sewa",value:2},{label:"Bebas Sewa",value:3},{label:"Dinas",value:4},{label:"Lainnya",value:99}]},{id:5,nomor:5,rincian:p("span",{children:["Luas Lantai per Kapita (m",n("sup",{children:"2"}),") (R1902)"]}),type:"number"},{id:6,nomor:6,rincian:"Sumber air minum (R1903)",type:"multi",options:[{label:"Air kemasan bermerek",value:1},{label:"Air isi ulang",value:2},{label:"Leding/sumur bor/pompa",value:3},{label:"Lainnya",value:99}]},{id:7,nomor:7,rincian:"Sumber air mandi/cuci/dll (R1904)",type:"multi",options:[{label:"Air kemasan bermerek",value:1},{label:"Air isi ulang",value:2},{label:"Leding/sumur bor/pompa",value:3},{label:"Lainnya",value:99}]},{id:8,nomor:8,rincian:"Apakah tercatat sebagai menerima PKH? (R2003a)",type:"binary",children:[{id:9,nomor:9,rincian:"Penggunaan PKH (R2003b)",type:"multi",dependentValues:[1],options:[{label:"Belanja Pangan",value:1},{label:"Biaya Sekolah",value:2},{label:"Pembayaran Utang/Kredit",value:3},{label:"Lainnya",value:99}]}]},{id:10,nomor:10,rincian:"Apakah ART menerima PIP?",type:"binary",children:[{id:11,nomor:11,dependentValues:[1],rincian:"berapa ART yang menerima PIP? (SD s.d. Kuliah)",type:"number",rules:[({getFieldValue:e})=>Ce({getFieldValue:e},"wtf_3","less equal","Jumlah ART yang menerima PIP tidak bisa melebihi ART yang bersekolah")]}]},{id:26,nomor:"",rincian:"Garis Kemiskinan Maret 2024",type:"rupiah"}],Un=({form:e,onFinish:t,tabContentStyle:a})=>p(B,{direction:"vertical",style:a,children:[n(B,{style:{width:"100%",justifyContent:"space-between"},direction:"horizontal"}),n(T,{form:e,name:"Worksheet",onFinish:t,autoComplete:"off",layout:"vertical",children:p("table",{style:{borderCollapse:"collapse",width:"100%"},children:[n("thead",{style:{backgroundColor:"#fc0",textAlign:"center"},children:n("tr",{children:n("td",{style:{borderStyle:"solid",border:"solid 1px black",padding:"5px"},colSpan:3,children:p(B,{direction:"vertical",children:[p(fn,{level:4,style:{textTransform:"uppercase"},children:["Isian Worksheet Template"," "]}),n(bn,{children:"RINCIAN (Lihat Dokumen VSEN24.K)"})]})})})}),n("tbody",{children:$n.map(i=>yn({props:i,defaultValue:e.getFieldValue(`wtf_${i.id}`)}))})]})})]}),Gn=({form:e,onFinish:t,tabContentStyle:a,daftarQc:o})=>{const l={borderStyle:"solid",border:"solid 1px black",padding:"5px"},i={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},[d,c]=ce.useMessage(),r=({rincian:g,key:h})=>p("tr",{children:[n("td",{style:{...i,width:"30px"},children:h+1}),n("td",{style:{...l,width:"auto"},children:g.rincian}),n("td",{style:{...l,width:"150px",textAlign:"right"},children:g.id===5?n(G,{children:n(j,{inputName:`blokqc_${g.id}`},h)}):n(B,{direction:"vertical",children:n(T.Item,{name:`blokqc_${g.id}`,label:null,style:{marginBottom:"5px",textAlign:"center"},children:n(_e,{className:"custom-input-number",style:{textAlign:"right",width:"100%"},formatter:b=>{const y=Number(b)??0,v=y.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",");return g.dataType==="decimal"?v:String(y)}},h)})})})]},h);return n(B,{direction:"vertical",style:a,children:p(T,{form:e,name:"Blok4_3",onFinish:t,autoComplete:"off",layout:"vertical",children:[n(se,{title:"Quality Control",columnsCount:3,columns:["No.","Rincian","Isian"],children:o.map((g,h)=>r({rincian:g,key:h}))},2),c]})})};export{Dn as B,Fn as D,Un as W,Ln as a,Wn as b,Gn as c,Kn as d};
