import{e as Ae,r,C as U,f as R,h as rt,o as _e,_ as ze,i as st,a as n,j as k,F as q,c as J}from"./app-6f60e366.js";import{K as Z,g as Ee,i as De,c as Le,B as Oe}from"./useFlexGapSupport-f4415dfa.js";import{g as Me,m as qe,A as We}from"./AntdIcon-6993ca8b.js";import{_ as K}from"./debounce-450c66cc.js";import{S as B}from"./index-e8c64dc0.js";import{T as oe}from"./index-0084c231.js";import{m as de}from"./index-5c910bd1.js";import{F as j}from"./index-60e3b68d.js";import{I as W}from"./index-b6388420.js";import{T as Ue}from"./index-6927b578.js";import{R as H}from"./RupiahInput-3839f633.js";import{T as M}from"./TextRupiah-53340660.js";import{I as ve}from"./index-d25c1e91.js";import{l as ct}from"./lodash-ede4e9da.js";import{S as dt}from"./Table-4633cf47.js";import{P as ut}from"./index-0154209c.js";import{c as Ge,a as Je,r as G}from"./CONSTANT-b7a876ac.js";import{D as mt}from"./index-fab4157f.js";import{M as Ie}from"./Blok1_2-54e724f7.js";const gt=new Z("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),ht=new Z("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),pt=new Z("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),bt=new Z("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),ft=new Z("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),yt=new Z("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),kt=e=>{const{componentCls:t,iconCls:l,antCls:o,badgeFontHeight:a,badgeShadowSize:i,badgeHeightSm:c,motionDurationSlow:u,badgeStatusSize:s,marginXS:d,badgeRibbonOffset:m}=e,p=`${o}-scroll-number`,g=`${o}-ribbon`,y=`${o}-ribbon-wrapper`,h=Ee(e,(b,f)=>{let{darkColor:$}=f;return{[`${t}-color-${b}`]:{background:$}}}),_=Ee(e,(b,f)=>{let{darkColor:$}=f;return{[`&${g}-color-${b}`]:{background:$,color:$}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Ae(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{zIndex:e.badgeZIndex,minWidth:e.badgeHeight,height:e.badgeHeight,color:e.badgeTextColor,fontWeight:e.badgeFontWeight,fontSize:e.badgeFontSize,lineHeight:`${e.badgeHeight}px`,whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:e.badgeHeight/2,boxShadow:`0 0 0 ${i}px ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:c,height:c,fontSize:e.badgeFontSizeSm,lineHeight:`${c}px`,borderRadius:c/2},[`${t}-multiple-words`]:{padding:`0 ${e.paddingXS}px`},[`${t}-dot`]:{zIndex:e.badgeZIndex,width:e.badgeDotSize,minWidth:e.badgeDotSize,height:e.badgeDotSize,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${i}px ${e.badgeShadowColor}`},[`${t}-dot${p}`]:{transition:`background ${u}`},[`${t}-count, ${t}-dot, ${p}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${l}-spin`]:{animationName:yt,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:s,height:s,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{position:"relative",color:e.colorPrimary,backgroundColor:e.colorPrimary,"&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:i,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:gt,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:d,color:e.colorText,fontSize:e.fontSize}}}),h),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:ht,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:pt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:bt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:ft,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${p}-custom-component, ${t}-count`]:{transform:"none"},[`${p}-custom-component, ${p}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[`${p}`]:{overflow:"hidden",[`${p}-only`]:{position:"relative",display:"inline-block",height:e.badgeHeight,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${p}-only-unit`]:{height:e.badgeHeight,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${p}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${p}-custom-component`]:{transform:"translate(-50%, -50%)"}}}),[`${y}`]:{position:"relative"},[`${g}`]:Object.assign(Object.assign(Object.assign(Object.assign({},Ae(e)),{position:"absolute",top:d,padding:`0 ${e.paddingXS}px`,color:e.colorPrimary,lineHeight:`${a}px`,whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${g}-text`]:{color:e.colorTextLightSolid},[`${g}-corner`]:{position:"absolute",top:"100%",width:m,height:m,color:"currentcolor",border:`${m/2}px solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),_),{[`&${g}-placement-end`]:{insetInlineEnd:-m,borderEndEndRadius:0,[`${g}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${g}-placement-start`]:{insetInlineStart:-m,borderEndStartRadius:0,[`${g}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},Ze=Me("Badge",e=>{const{fontSize:t,lineHeight:l,fontSizeSM:o,lineWidth:a,marginXS:i,colorBorderBg:c}=e,u=Math.round(t*l),s=a,d="auto",m=u-2*s,p=e.colorBgContainer,g="normal",y=o,h=e.colorError,_=e.colorErrorHover,b=t,f=o/2,$=o,x=o/2,A=qe(e,{badgeFontHeight:u,badgeShadowSize:s,badgeZIndex:d,badgeHeight:m,badgeTextColor:p,badgeFontWeight:g,badgeFontSize:y,badgeColor:h,badgeColorHover:_,badgeShadowColor:c,badgeHeightSm:b,badgeDotSize:f,badgeFontSizeSm:$,badgeStatusSize:x,badgeProcessingDuration:"1.2s",badgeRibbonOffset:i,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"});return[kt(A)]}),$t=e=>{let{className:t,prefixCls:l,style:o,color:a,children:i,text:c,placement:u="end"}=e;const{getPrefixCls:s,direction:d}=r.useContext(U),m=s("ribbon",l),p=De(a,!1),g=R(m,`${m}-placement-${u}`,{[`${m}-rtl`]:d==="rtl",[`${m}-color-${a}`]:p},t),[y,h]=Ze(m),_={},b={};return a&&!p&&(_.background=a,b.color=a),y(r.createElement("div",{className:R(`${m}-wrapper`,h)},i,r.createElement("div",{className:R(g,h),style:Object.assign(Object.assign({},_),o)},r.createElement("span",{className:`${m}-text`},c),r.createElement("div",{className:`${m}-corner`,style:b}))))},Ct=$t;function Re(e){let{prefixCls:t,value:l,current:o,offset:a=0}=e,i;return a&&(i={position:"absolute",top:`${a}00%`,left:0}),r.createElement("span",{style:i,className:R(`${t}-only-unit`,{current:o})},l)}function St(e,t,l){let o=e,a=0;for(;(o+10)%10!==t;)o+=l,a+=l;return a}function _t(e){const{prefixCls:t,count:l,value:o}=e,a=Number(o),i=Math.abs(l),[c,u]=r.useState(a),[s,d]=r.useState(i),m=()=>{u(a),d(i)};r.useEffect(()=>{const y=setTimeout(()=>{m()},1e3);return()=>{clearTimeout(y)}},[a]);let p,g;if(c===a||Number.isNaN(a)||Number.isNaN(c))p=[r.createElement(Re,Object.assign({},e,{key:a,current:!0}))],g={transition:"none"};else{p=[];const y=a+10,h=[];for(let f=a;f<=y;f+=1)h.push(f);const _=h.findIndex(f=>f%10===c);p=h.map((f,$)=>{const x=f%10;return r.createElement(Re,Object.assign({},e,{key:f,value:x,offset:$-_,current:$===_}))});const b=s<i?1:-1;g={transform:`translateY(${-St(c,a,b)}00%)`}}return r.createElement("span",{className:`${t}-only`,style:g,onTransitionEnd:m},p)}var vt=globalThis&&globalThis.__rest||function(e,t){var l={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(l[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(l[o[a]]=e[o[a]]);return l};const xt=r.forwardRef((e,t)=>{var{prefixCls:l,count:o,className:a,motionClassName:i,style:c,title:u,show:s,component:d="sup",children:m}=e,p=vt(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]);const{getPrefixCls:g}=r.useContext(U),y=g("scroll-number",l),h=Object.assign(Object.assign({},p),{"data-show":s,style:c,className:R(y,a,i),title:u});let _=o;if(o&&Number(o)%1===0){const b=String(o).split("");_=b.map((f,$)=>r.createElement(_t,{prefixCls:y,count:Number(o),value:f,key:b.length-$}))}return c&&c.borderColor&&(h.style=Object.assign(Object.assign({},c),{boxShadow:`0 0 0 1px ${c.borderColor} inset`})),m?Le(m,b=>({className:R(`${y}-custom-component`,b==null?void 0:b.className,i)})):r.createElement(d,Object.assign({},h,{ref:t}),_)}),Nt=xt;var wt=globalThis&&globalThis.__rest||function(e,t){var l={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(l[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(l[o[a]]=e[o[a]]);return l};const At=(e,t)=>{const{prefixCls:l,scrollNumberPrefixCls:o,children:a,status:i,text:c,color:u,count:s=null,overflowCount:d=99,dot:m=!1,size:p="default",title:g,offset:y,style:h,className:_,rootClassName:b,showZero:f=!1}=e,$=wt(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","showZero"]),{getPrefixCls:x,direction:A}=r.useContext(U),C=x("badge",l),[E,O]=Ze(C),v=s>d?`${d}+`:s,S=v==="0"||v===0,N=s===null||S&&!f,I=(i!=null||u!=null)&&N,P=m&&!S,w=P?"":v,T=r.useMemo(()=>(w==null||w===""||S&&!f)&&!P,[w,S,f,P]),V=r.useRef(s);T||(V.current=s);const X=V.current,xe=r.useRef(w);T||(xe.current=w);const ge=xe.current,Ne=r.useRef(P);T||(Ne.current=P);const le=r.useMemo(()=>{if(!y)return Object.assign({},h);const z={marginTop:y[1]};return A==="rtl"?z.left=parseInt(y[0],10):z.right=-parseInt(y[0],10),Object.assign(Object.assign({},z),h)},[A,y,h]),Qe=g??(typeof X=="string"||typeof X=="number"?X:void 0),et=T||!c?null:r.createElement("span",{className:`${C}-status-text`},c),tt=!X||typeof X!="object"?void 0:Le(X,z=>({style:Object.assign(Object.assign({},le),z.style)})),ae=De(u,!1),nt=R({[`${C}-status-dot`]:I,[`${C}-status-${i}`]:!!i,[`${C}-color-${u}`]:ae}),he={};u&&!ae&&(he.color=u,he.background=u);const we=R(C,{[`${C}-status`]:I,[`${C}-not-a-wrapper`]:!a,[`${C}-rtl`]:A==="rtl"},_,b,O);if(!a&&I){const z=le.color;return E(r.createElement("span",Object.assign({},$,{className:we,style:le}),r.createElement("span",{className:nt,style:he}),c&&r.createElement("span",{style:{color:z},className:`${C}-status-text`},c)))}return E(r.createElement("span",Object.assign({ref:t},$,{className:we}),a,r.createElement(rt,{visible:!T,motionName:`${C}-zoom`,motionAppear:!1,motionDeadline:1e3},z=>{let{className:ot,ref:lt}=z;const at=x("scroll-number",o),pe=Ne.current,it=R({[`${C}-dot`]:pe,[`${C}-count`]:!pe,[`${C}-count-sm`]:p==="small",[`${C}-multiple-words`]:!pe&&ge&&ge.toString().length>1,[`${C}-status-${i}`]:!!i,[`${C}-color-${u}`]:ae});let ie=Object.assign({},le);return u&&!ae&&(ie=ie||{},ie.background=u),r.createElement(Nt,{prefixCls:at,show:!T,motionClassName:ot,className:it,count:ge,title:Qe,style:ie,key:"scrollNumber",ref:lt},tt)}),et))},Xe=r.forwardRef(At);Xe.Ribbon=Ct;const Mn=Xe,Et=e=>{const{prefixCls:t,className:l,style:o,size:a,shape:i}=e,c=R({[`${t}-lg`]:a==="large",[`${t}-sm`]:a==="small"}),u=R({[`${t}-circle`]:i==="circle",[`${t}-square`]:i==="square",[`${t}-round`]:i==="round"}),s=r.useMemo(()=>typeof a=="number"?{width:a,height:a,lineHeight:`${a}px`}:{},[a]);return r.createElement("span",{className:R(t,c,u,l),style:Object.assign(Object.assign({},s),o)})},ue=Et,Ot=new Z("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),me=e=>({height:e,lineHeight:`${e}px`}),Y=e=>Object.assign({width:e},me(e)),It=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Ot,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),be=e=>Object.assign({width:e*5,minWidth:e*5},me(e)),Rt=e=>{const{skeletonAvatarCls:t,gradientFromColor:l,controlHeight:o,controlHeightLG:a,controlHeightSM:i}=e;return{[`${t}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:l},Y(o)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},Y(a)),[`${t}${t}-sm`]:Object.assign({},Y(i))}},Tt=e=>{const{controlHeight:t,borderRadiusSM:l,skeletonInputCls:o,controlHeightLG:a,controlHeightSM:i,gradientFromColor:c}=e;return{[`${o}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:c,borderRadius:l},be(t)),[`${o}-lg`]:Object.assign({},be(a)),[`${o}-sm`]:Object.assign({},be(i))}},Te=e=>Object.assign({width:e},me(e)),jt=e=>{const{skeletonImageCls:t,imageSizeBase:l,gradientFromColor:o,borderRadiusSM:a}=e;return{[`${t}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:o,borderRadius:a},Te(l*2)),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},Te(l)),{maxWidth:l*4,maxHeight:l*4}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},fe=(e,t,l)=>{const{skeletonButtonCls:o}=e;return{[`${l}${o}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${l}${o}-round`]:{borderRadius:t}}},ye=e=>Object.assign({width:e*2,minWidth:e*2},me(e)),Pt=e=>{const{borderRadiusSM:t,skeletonButtonCls:l,controlHeight:o,controlHeightLG:a,controlHeightSM:i,gradientFromColor:c}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${l}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:c,borderRadius:t,width:o*2,minWidth:o*2},ye(o))},fe(e,o,l)),{[`${l}-lg`]:Object.assign({},ye(a))}),fe(e,a,`${l}-lg`)),{[`${l}-sm`]:Object.assign({},ye(i))}),fe(e,i,`${l}-sm`))},Bt=e=>{const{componentCls:t,skeletonAvatarCls:l,skeletonTitleCls:o,skeletonParagraphCls:a,skeletonButtonCls:i,skeletonInputCls:c,skeletonImageCls:u,controlHeight:s,controlHeightLG:d,controlHeightSM:m,gradientFromColor:p,padding:g,marginSM:y,borderRadius:h,titleHeight:_,blockRadius:b,paragraphLiHeight:f,controlHeightXS:$,paragraphMarginTop:x}=e;return{[`${t}`]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:g,verticalAlign:"top",[`${l}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:p},Y(s)),[`${l}-circle`]:{borderRadius:"50%"},[`${l}-lg`]:Object.assign({},Y(d)),[`${l}-sm`]:Object.assign({},Y(m))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${o}`]:{width:"100%",height:_,background:p,borderRadius:b,[`+ ${a}`]:{marginBlockStart:m}},[`${a}`]:{padding:0,"> li":{width:"100%",height:f,listStyle:"none",background:p,borderRadius:b,"+ li":{marginBlockStart:$}}},[`${a}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${o}, ${a} > li`]:{borderRadius:h}}},[`${t}-with-avatar ${t}-content`]:{[`${o}`]:{marginBlockStart:y,[`+ ${a}`]:{marginBlockStart:x}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},Pt(e)),Rt(e)),Tt(e)),jt(e)),[`${t}${t}-block`]:{width:"100%",[`${i}`]:{width:"100%"},[`${c}`]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${o},
        ${a} > li,
        ${l},
        ${i},
        ${c},
        ${u}
      `]:Object.assign({},It(e))}}},Q=Me("Skeleton",e=>{const{componentCls:t}=e,l=qe(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:e.controlHeight*1.5,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[Bt(l)]},e=>{const{colorFillContent:t,colorFill:l}=e,o=t,a=l;return{color:o,colorGradientEnd:a,gradientFromColor:o,gradientToColor:a,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}},{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Ft=e=>{const{prefixCls:t,className:l,rootClassName:o,active:a,shape:i="circle",size:c="default"}=e,{getPrefixCls:u}=r.useContext(U),s=u("skeleton",t),[d,m]=Q(s),p=_e(e,["prefixCls","className"]),g=R(s,`${s}-element`,{[`${s}-active`]:a},l,o,m);return d(r.createElement("div",{className:g},r.createElement(ue,Object.assign({prefixCls:`${s}-avatar`,shape:i,size:c},p))))},Ht=Ft,Kt=e=>{const{prefixCls:t,className:l,rootClassName:o,active:a,block:i=!1,size:c="default"}=e,{getPrefixCls:u}=r.useContext(U),s=u("skeleton",t),[d,m]=Q(s),p=_e(e,["prefixCls"]),g=R(s,`${s}-element`,{[`${s}-active`]:a,[`${s}-block`]:i},l,o,m);return d(r.createElement("div",{className:g},r.createElement(ue,Object.assign({prefixCls:`${s}-button`,size:c},p))))},Vt=Kt;var zt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const Dt=zt;var Lt=function(t,l){return r.createElement(We,ze({},t,{ref:l,icon:Dt}))};const Mt=r.forwardRef(Lt),qt=e=>{const{prefixCls:t,className:l,rootClassName:o,style:a,active:i,children:c}=e,{getPrefixCls:u}=r.useContext(U),s=u("skeleton",t),[d,m]=Q(s),p=R(s,`${s}-element`,{[`${s}-active`]:i},m,l,o),g=c??r.createElement(Mt,null);return d(r.createElement("div",{className:p},r.createElement("div",{className:R(`${s}-image`,l),style:a},g)))},Wt=qt,Ut="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Gt=e=>{const{prefixCls:t,className:l,rootClassName:o,style:a,active:i}=e,{getPrefixCls:c}=r.useContext(U),u=c("skeleton",t),[s,d]=Q(u),m=R(u,`${u}-element`,{[`${u}-active`]:i},l,o,d);return s(r.createElement("div",{className:m},r.createElement("div",{className:R(`${u}-image`,l),style:a},r.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${u}-image-svg`},r.createElement("path",{d:Ut,className:`${u}-image-path`})))))},Jt=Gt,Zt=e=>{const{prefixCls:t,className:l,rootClassName:o,active:a,block:i,size:c="default"}=e,{getPrefixCls:u}=r.useContext(U),s=u("skeleton",t),[d,m]=Q(s),p=_e(e,["prefixCls"]),g=R(s,`${s}-element`,{[`${s}-active`]:a,[`${s}-block`]:i},l,o,m);return d(r.createElement("div",{className:g},r.createElement(ue,Object.assign({prefixCls:`${s}-input`,size:c},p))))},Xt=Zt,Yt=e=>{const t=u=>{const{width:s,rows:d=2}=e;if(Array.isArray(s))return s[u];if(d-1===u)return s},{prefixCls:l,className:o,style:a,rows:i}=e,c=st(Array(i)).map((u,s)=>r.createElement("li",{key:s,style:{width:t(s)}}));return r.createElement("ul",{className:R(l,o),style:a},c)},Qt=Yt,en=e=>{let{prefixCls:t,className:l,width:o,style:a}=e;return r.createElement("h3",{className:R(t,l),style:Object.assign({width:o},a)})},tn=en;function ke(e){return e&&typeof e=="object"?e:{}}function nn(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function on(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function ln(e,t){const l={};return(!e||!t)&&(l.width="61%"),!e&&t?l.rows=3:l.rows=2,l}const ee=e=>{const{prefixCls:t,loading:l,className:o,rootClassName:a,style:i,children:c,avatar:u=!1,title:s=!0,paragraph:d=!0,active:m,round:p}=e,{getPrefixCls:g,direction:y}=r.useContext(U),h=g("skeleton",t),[_,b]=Q(h);if(l||!("loading"in e)){const f=!!u,$=!!s,x=!!d;let A;if(f){const O=Object.assign(Object.assign({prefixCls:`${h}-avatar`},nn($,x)),ke(u));A=r.createElement("div",{className:`${h}-header`},r.createElement(ue,Object.assign({},O)))}let C;if($||x){let O;if($){const S=Object.assign(Object.assign({prefixCls:`${h}-title`},on(f,x)),ke(s));O=r.createElement(tn,Object.assign({},S))}let v;if(x){const S=Object.assign(Object.assign({prefixCls:`${h}-paragraph`},ln(f,$)),ke(d));v=r.createElement(Qt,Object.assign({},S))}C=r.createElement("div",{className:`${h}-content`},O,v)}const E=R(h,{[`${h}-with-avatar`]:f,[`${h}-active`]:m,[`${h}-rtl`]:y==="rtl",[`${h}-round`]:p},o,a,b);return _(r.createElement("div",{className:E,style:i},A,C))}return typeof c<"u"?c:null};ee.Button=Vt;ee.Avatar=Ht;ee.Input=Xt;ee.Image=Jt;ee.Node=Wt;const an=ee;var rn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z"}}]},name:"dollar",theme:"outlined"};const sn=rn;var cn=function(t,l){return r.createElement(We,ze({},t,{ref:l,icon:sn}))};const qn=r.forwardRef(cn),se=({inputName:e,onChange:t,initialValue:l,editable:o,validateStatus:a})=>{const[i,c]=r.useState(0),u=d=>{c(d)},s=K(d=>{u(d),t&&t(d)},600);return n(j.Item,{name:e,initialValue:l??void 0,style:{marginBottom:"4px"},validateStatus:a,children:n(ve,{className:"custom-input-number",readOnly:o||!1,min:0,step:.01,formatter:d=>d&&d>0?`${d}`.replace(/\B(?=(\d{3})+(?!\d))/g,","):"",parser:d=>{const m=parseFloat(String(d).replace(/[^\d.]/g,""));return isNaN(m)?0:m},value:i,onChange:d=>{s(d)}})})},je={backgroundColor:"#fc0",fontWeight:"700",padding:"5px"},D={borderRight:"1px solid ",padding:"5px"},Pe={borderRight:"1px solid ",textAlign:"center",padding:"5px"},te={borderRight:"1px solid ",textAlign:"right",padding:"5px"},dn={borderRight:"1px solid ",width:"200px",textAlign:"right",padding:"5px"},$e={borderRight:"1px solid ",backgroundColor:"#636f83",padding:"5px"},un=({data:e,form:t,subKey:l,rekapMak:o,calculate:a})=>{const[i,c]=r.useState(0),[u,s]=r.useState(0),[d,m]=r.useState(!1),[p,g]=r.useState(!1),[y,h]=r.useState(!1),[_,b]=r.useState(!1);r.useEffect(()=>{let C=Number(t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_beli_harga${e.subKey}`));C||(C=0);let E=Number(t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`));E||(E=0);const O=C+E;O&&(t.setFieldsValue({[`${e.nomor}_total_harga_calculated`]:O}),x())},[i]),r.useEffect(()=>{x()},[o[e.subKey].produksi,o[e.subKey].beli]),r.useEffect(()=>{const C=t.getFieldValue(`${e.nomor}_beli_harga`)+t.getFieldValue(`${e.nomor}_produksi_harga`);c(C),x(),A()},[]);function f(C){let E=t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`),O=C+E;t.setFieldsValue({[`${e.nomor}_total_harga_calculated`]:O}),c(O),e.type}function $(C){c(parseFloat(String(C)??0)+parseFloat(t.getFieldValue(`${e.nomor}_beli_harga`)||0)),e.type}function x(){const C=t.getFieldValue(`${e.nomor}_total_harga`),E=t.getFieldValue(`${e.nomor}_total_harga_calculated`);if(m(C==E),e.type=="sub"){const O=t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`),v=t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_beli_harga${e.subKey}`);g(v==o[e.subKey].beli),h(O==o[e.subKey].produksi)}}function A(){const C=t.getFieldValue(`${e.nomor}_beli_volume`)+t.getFieldValue(`${e.nomor}_produksi_volume`);s(C);const E=t.getFieldValue(`${e.nomor}_total_volume`);b(E==C)}return k(q,{children:[k("tr",{style:{backgroundColor:e.flagBasket?"#ffffcc":"",borderTop:"1px solid ",borderLeft:"1px solid "},children:[n("td",{style:{...Pe,width:"55px"},children:e.nomor}),k("td",{colSpan:1,style:{...e.type==="sub"?je:D},children:[e.rincian,e.type==="lain"&&n(j.Item,{name:`${e.nomor}_item`,children:n(W,{placeholder:"Sebutkan"})})]}),n("td",{colSpan:1,style:{...e.type==="sub"?je:Pe},children:e.type==="lain"?n(j.Item,{name:`${e.nomor}_satuan`,children:n(W,{placeholder:"Sebutkan"})}):e.satuan}),n("td",{style:{...e.type==="sub"?$e:D},children:e.type==="sub"||n(se,{inputName:`${e.nomor}_beli_volume`,onChange:K(A,400)})}),n("td",{style:{...dn},children:n(H,{inputName:`${e.type==="sub"?"jumlah":""}${e.nomor}_beli_harga${e.subKey}`,onChange:K(f,600),validateStatus:!p&&e.type=="sub"?"error":""})}),n("td",{style:{...e.type==="sub"?$e:D},children:e.type==="sub"||n(se,{inputName:`${e.nomor}_produksi_volume`,onChange:K(A,400)})}),n("td",{style:{...te},children:n(H,{inputName:`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`,onChange:K($,600),validateStatus:!y&&e.type=="sub"?"error":""})}),n("td",{style:e.type==="sub"?$e:D,children:e.type==="sub"||n(se,{inputName:`${e.nomor}_total_volume`,onChange:K(A,400),validateStatus:_?"":"error"})}),n("td",{style:{...te},children:n(H,{inputName:`${e.nomor}_total_harga`,onChange:K(x,600),validateStatus:d?"":"error"})})]}),k("tr",{style:{backgroundColor:e.flagBasket?"#ffffcc":"",borderBottom:"1px solid ",borderRight:"1px solid ",borderLeft:"1px solid "},children:[n("td",{style:D}),n("td",{style:D}),n("td",{style:D}),n("td",{style:D}),k("td",{style:te,children:[" ",e.type==="sub"&&n(M,{color:p?"green":"red",value:o[e.subKey]?o[e.subKey].beli??0:0})]}),n("td",{style:D}),n("td",{style:te,children:e.type==="sub"&&n(M,{color:y?"green":"red",value:o[e.subKey].produksi??0})}),n("td",{style:te,children:e.type!=="sub"&&n(j.Item,{style:{color:_?"green":"red",backgroundColor:"inherit",border:"none",marginRight:"10px"},name:`${e.nomor}_total_volume_calculated`,children:u>0?u:""})}),n("td",{style:D,children:n(H,{style:{color:d?"green":"red",backgroundColor:"inherit",border:"none",cursor:"text"},readOnly:!0,inputName:`${e.nomor}_total_harga_calculated`})})]})]})},{Text:Wn,Title:mn}=oe,gn={borderCollapse:"collapse",width:"100%"},F={borderStyle:"solid",border:"solid 1px black",padding:"5px"},L={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},Ye=({title:e,konten:t,rekapMak:l,calculate:o,form:a})=>(e="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN, BAHAN MINUMAN, DAN ROKOK SEMINGGU TERAKHIR",k("table",{style:gn,children:[k("thead",{children:[n("tr",{style:{backgroundColor:"#fc0",textAlign:"center"},children:n("th",{style:F,colSpan:10,children:n(B,{direction:"vertical",style:{padding:"25px"},children:n(mn,{level:4,children:e})})})}),k("tr",{children:[n("th",{style:F,rowSpan:2,children:"No Urut"}),n("th",{style:F,rowSpan:2,children:"Rincian"}),n("th",{style:F,rowSpan:2,children:"Satuan standar"}),n("th",{style:F,colSpan:2,children:"Berasal dari pembelian (tunai/bon)"}),n("th",{style:F,colSpan:2,children:"Berasal dari produksi sendiri, pemberian, dsb"}),n("th",{style:F,colSpan:2,children:"Jumlah konsumsi"})]}),k("tr",{children:[n("th",{style:F,children:"Banyaknya (0,00)"}),n("th",{style:F,children:"Nilai (Rp)"}),n("th",{style:F,children:"Banyaknya (0,00)"}),n("th",{style:F,children:"Nilai (Rp)"}),n("th",{style:F,children:"Banyaknya (5) + (7) (0,00)"}),n("th",{style:F,children:"Nilai (6) + (8) (Rp)"})]})]}),k("tbody",{children:[k("tr",{children:[n("td",{width:"55px",style:L,children:"(1)"}),n("td",{style:L,children:"(3)"}),n("td",{width:"80px",style:L,children:"(4)"}),n("td",{width:"100px",style:L,children:"(5)"}),n("td",{style:L,children:"(6)"}),n("td",{width:"100px",style:L,children:"(7)"}),n("td",{style:L,children:"(8)"}),n("td",{width:"100px",style:L,children:"(9)"}),n("td",{style:L,children:"(10)"})]}),t.map((i,c)=>n(un,{data:i,form:a,rekapMak:l,calculate:o},c))]})]})),{Text:hn,Title:Un}=oe,ne=({form:e,rekapMak:t,calculate:l,from:o,to:a,hal:i})=>{const[c,u]=r.useState([]),[s,d]=r.useState(!0);r.useEffect(()=>{(async(g,y)=>{const{data:h}=await J.get(route("api.mak.komoditas.list",{from:g,to:y})),_=h.map(b=>({nomor:b.id,kode_coicop:b.kode_coicop,rincian:b.nama_komoditas,satuan:b.satuan,type:b.type,subKey:b.id_kelompok,flagBasket:b.flag_basket}));u([..._]),d(!1)})(o,a)},[]);const m="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN & MINUMAN SEMINGGU TERAKHIR";return k(B,{direction:"vertical",style:{width:"100%"},children:[k(B,{style:{width:"100%",justifyContent:"end"},direction:"horizontal",children:[n(hn,{children:"Jumlah komoditas bahan makanan dan bahan minuman terisi pada halaman ini"}),n(se,{inputName:`hal${i}_jml_komoditas`})]}),n(Ye,{form:e,konten:s?[]:c,title:m,rekapMak:t,calculate:l}),s&&n(an,{active:!0,paragraph:{rows:10}})]})},Gn=({form:e,onFinish:t,tabContentStyle:l,subTotalHarga:o,calculate:a,rekapMak:i})=>{de.useMessage();function c(u){}return r.useEffect(()=>{},[]),k(j,{form:e,name:"Blok4_1_hal2",onFinish:t,autoComplete:"off",layout:"vertical",onValuesChange:K(a,600),children:[n(j.Item,{name:"id_ruta",hidden:!0,children:n(W,{placeholder:"id rt"})}),n(Ue,{onChange:c,type:"line",style:{backgroundColor:"#fff",padding:"10px"},items:[{label:"Hal 2",key:"1",children:n(ne,{from:1,to:34,hal:2,form:e,calculate:a,rekapMak:i})},{label:"Hal 4",key:"2",children:n(ne,{from:35,hal:4,to:62,form:e,calculate:a,rekapMak:i})},{label:"Hal 6",key:"3",children:n(ne,{from:63,to:94,hal:6,form:e,calculate:a,rekapMak:i})},{label:"Hal 8",key:"4",children:n(ne,{from:95,to:127,hal:8,form:e,calculate:a,rekapMak:i})},{label:"Blok 10",key:"5",children:n(ne,{from:128,to:158,hal:10,form:e,calculate:a,rekapMak:i})}]})]})},{Text:pn,Title:Jn}=oe,Be=({onFinish:e,nomor_art:t,setDaftarArt:l,daftarArt:o,id_ruta:a,id_art:i,calculateKalori:c,konten:u,art:s})=>{const[d]=j.useForm(),[m,p]=r.useState(!0),g=async $=>{try{const x=route("entri.mak.konsumsi_art.store"),{data:A}=await J.patch(x,$,{headers:{"Content-Type":"application/json"}})}catch(x){console.log("error",{error:x})}},y=({subKey:$,jenis:x})=>{const A=`${x}_harga${$}`,C=d.getFieldsValue(),E=Object.entries(C).filter(([S])=>S.endsWith(A)).reduce((S,[,N])=>S+(N||0),0),v=[...o].map(S=>{let N={...S.rekap};return N[$][x]=E,S.id===i?{...S,rekap:N}:S});l(v)},h=K(()=>{const $="beli_harga12",x="beli_harga13",A="produksi_harga12",C="produksi_harga13",E=d.getFieldsValue(),O=Object.entries(E).filter(([w])=>w.endsWith($)&&!w.includes("jumlah")).reduce((w,[,T])=>w+(T||0),0),v=Object.entries(E).filter(([w])=>w.endsWith(x)&&!w.includes("jumlah")).reduce((w,[,T])=>w+(T||0),0),S=Object.entries(E).filter(([w])=>w.endsWith(A)&&!w.includes("jumlah")).reduce((w,[,T])=>w+(T||0),0),N=Object.entries(E).filter(([w])=>w.endsWith(C)&&!w.includes("jumlah")).reduce((w,[,T])=>w+(T||0),0);let I=[...o];const P=I.map(w=>{let T={...w.rekap};return T[12]={beli:O,produksi:S,total:O+S},T[13]={beli:v,produksi:N,total:v+N},w.id===i?{...w,rekap:T}:w});console.log({newDaftarArt:I}),l(P)},600),_=K(()=>d.submit(),3e3),b=K(()=>{h(),_(),c(d.getFieldsValue()).then($=>{let x=[...o];x[t].kalori=$})},3e3);r.useEffect(()=>{(async x=>{p(!0);const{data:A}=await J.get(route("api.mak.konsumsi.art",{id_art:x})),C=[159,192],O=A.map(v=>({[`${C.includes(v.id_komoditas)?"jumlah":""}${v.id_komoditas}_beli_harga${v.id_kelompok}`]:v.harga_beli,[`${C.includes(v.id_komoditas)?"jumlah":""}${v.id_komoditas}_produksi_harga${v.id_kelompok}`]:v.harga_produksi,[`${v.id_komoditas}_total_harga`]:v.harga_total,[`${v.id_komoditas}_item`]:v.item,[`${v.id_komoditas}_satuan`]:v.satuan,[`${v.id_komoditas}_beli_volume`]:v.volume_beli,[`${v.id_komoditas}_produksi_volume`]:v.volume_produksi,[`${v.id_komoditas}_total_volume`]:v.volume_total})).reduce((v,S)=>{for(const N in S)S.hasOwnProperty(N)&&(v[N]=S[N]);return v},{});O[`blok4_31_${t}_id_art`]=x,d.setFieldsValue(O)})(i),p(!0)},[i]),r.useEffect(()=>{d.setFieldsValue({id_ruta:a,id_art:i}),c(d.getFieldsValue()).then($=>{let x=[...o];x[t].kalori=$})},[d]);const f="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN, BAHAN MINUMAN, DAN ROKOK SEMINGGU TERAKHIR";return n(B,{direction:"vertical",style:{width:"100%"},children:k(j,{form:d,name:"Art",onFinish:g,autoComplete:"off",layout:"vertical",onValuesChange:b,children:[k(B,{style:{width:"100%",justifyContent:"end"},direction:"horizontal",children:[n(pn,{children:"Jumlah komoditas bahan makanan,bahan minuman, dan rokok yang terisi pada halaman ini"}),n(j.Item,{style:{margin:"auto"},name:"id_ruta",hidden:!0,children:n(W,{readOnly:!0})}),n(j.Item,{style:{margin:"auto"},name:"id_art",hidden:!0,children:n(W,{readOnly:!0})})]}),n(Ye,{form:d,konten:u,title:f,calculate:y,rekapMak:s.rekap})]})})},{Text:bn,Title:fn}=oe,yn={borderCollapse:"collapse",width:"100%",backgroundColor:"#fff"},Fe={borderStyle:"solid",border:"solid 1px black",padding:"5px"},kn={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},ce=({title:e,subtitle:t,columnsCount:l,columns:o,children:a})=>k("table",{style:yn,children:[n("thead",{style:{backgroundColor:"#fc0",textAlign:"center"},children:n("tr",{children:n("td",{colSpan:l,style:Fe,children:k(B,{direction:"vertical",children:[n(fn,{level:4,children:e}),n(bn,{children:t})]})})})}),k("tbody",{children:[o&&k(q,{children:[n("tr",{children:o.map(i=>n("th",{style:Fe,children:i}))}),n("tr",{children:Array.from(Array(l).keys()).map(i=>k("td",{style:kn,children:["(",i+1,")"]}))})]}),a]})]}),Ce={borderStyle:"solid",border:"solid 1px black",margin:"auto",textAlign:"center",padding:"5px"},Zn=({artForm:e,artFormFinish:t,tabContentStyle:l,daftarArt:o,setDaftarArt:a,calculateKalori:i})=>{const c=S=>{},[u,s]=r.useState("0"),[d,m]=r.useState([]),[p,g]=r.useState([]),[y,h]=r.useState(!1),[_,b]=r.useState(!1),f=r.useRef(1),[$,x]=de.useMessage(),A=async()=>{b(!0);const S=`Art-${f.current++}`;try{const{data:N}=await J.post(route("entri.mak.art.store"),{nama:S,nomor_art:o.length+1,id_ruta:o[0].id_ruta}),I=[...o,{id:N.id,id_ruta:N.id_ruta,nomor_art:f.current++,nama:S,key:S,rekap:{12:{produksi:0,beli:0,total:0},13:{produksi:0,beli:0,total:0}}}];a([...I]),s(S)}catch(N){console.error("Error in add function:",N)}finally{b(!1)}},C=async S=>{const N=e.getFieldValue(`${S}-id_art`);if(S===0){$.open({content:"anggota ruta pertama tidak boleh dihapus,",type:"warning",key:N,duration:3});return}try{const{data:I}=await J.delete(route("entri.mak.art.delete",{id_art:N})),P=o.filter(w=>w.id!==N);a(P),$.open({content:"Berhasil menghapus 1 anggota rumah tangga",type:"success",key:N})}catch(I){console.error("Error in add function:",I),$.open({content:`Terjadi galat ketika menghapus data, tunjukan code ini pada Developer (${I})`,type:"error",key:N,duration:3})}},O=K((S,N,I)=>{const P=[...o];P[S][N]=I.trim(),a(P)},1e3),v=ct.throttle(C,2e3);return r.useEffect(()=>{(async(I,P)=>{const{data:w}=await J.get(route("api.mak.komoditas.list",{from:I,to:P})),T=w.map(V=>({nomor:V.id,kode_coicop:V.kode_coicop,rincian:V.nama_komoditas,satuan:V.satuan,type:V.type,subKey:V.id_kelompok,flagBasket:V.flag_basket}));g([...T])})(159,197),h(!1);const N=o.map((I,P)=>({label:I.nama,key:String(P),children:n(Be,{onFinish:c,nomor_art:I.nomor_art,daftarArt:o,setDaftarArt:a,id_ruta:e.getFieldValue("id_ruta"),art:I,id_art:I.id,calculateKalori:i,konten:p})}));m([...N])},[]),k(B,{direction:"vertical",style:l,children:[x,n(Oe,{type:"primary",onClick:A,children:"Tambah Art"}),k(j,{name:"artForm",form:e,onFinish:t,children:[n(j.Item,{name:"id_ruta",hidden:!0,children:n(W,{})}),n(ce,{title:"DAFTAR ANGGOTA RUMAH TANGGA",columns:["Nomor","Nama Anggota Rumah Tangga","aksi"],columnsCount:3,children:_?n("tr",{children:n("td",{colSpan:3,children:k(B,{style:{width:"100%",justifyContent:"center",marginTop:"30px"},direction:"vertical",children:[n(B,{style:{width:"100%",justifyContent:"center"},children:n(dt,{size:"large"})}),n(B,{style:{width:"100%",justifyContent:"center"},children:"Menambahkan anggota rumah tangga..."})]})})}):o.map((S,N)=>k("tr",{children:[n("td",{style:Ce,children:N+1}),k("td",{style:Ce,children:[n(j.Item,{name:`${N}-id_art`,hidden:!0,children:n(W,{})}),n(j.Item,{name:`${N}-nama`,style:{margin:"auto"},children:n(W,{placeholder:"nama anggota rumah tangga",onChange:I=>O(N,"nama",I.target.value)})})]}),n("td",{style:Ce,children:n(ut,{placement:"topLeft",title:"apakah anda yakin akan menghapus art ini?",description:"hapus anggota rumah tangga",okText:"yakin dong",cancelText:"gajadi",onConfirm:()=>v(N),children:n(Oe,{disabled:N===0,children:"Hapus"})})})]},N))})]}),n(Ue,{style:{backgroundColor:"#fff",padding:"10px"},items:o.map((S,N)=>({label:S.nama,key:String(N),children:n(Be,{onFinish:c,nomor_art:S.nomor_art,daftarArt:o,setDaftarArt:a,id_ruta:S.id_ruta,art:S,id_art:S.id,calculateKalori:i,konten:p})})),type:"line"})]})},He=({art:e,index:t,form:l,tipe:o})=>{const[a,i]=r.useState(!1),[c,u]=r.useState(!1),[s,d]=r.useState(!1),[m,p]=r.useState(!1);function g(){const y=e.rekap[13].beli,h=e.rekap[13].produksi,_=e.rekap[12].beli,b=e.rekap[12].produksi,f=l.getFieldValue(`blok4_31_${o=="individu"?t:"jumlah"}_mak_beli`)??0,$=l.getFieldValue(`blok4_31_${o=="individu"?t:"jumlah"}_mak_produksi`)??0,x=l.getFieldValue(`blok4_31_${o=="individu"?t:"jumlah"}_rokok_beli`)??0,A=l.getFieldValue(`blok4_31_${o=="individu"?t:"jumlah"}_rokok_produksi`)??0;d(y==x),p(h==A),i(_==f),u(b==$)}return r.useEffect(()=>{g()},[e.rekap[12].beli,e.rekap[12].produksi,e.rekap[13].beli,e.rekap[13].produksi]),k("tr",{children:[n("td",{style:Ge,children:o=="individu"?t+1:""}),n("td",{style:Je,children:o=="individu"?k(q,{children:[e.nama,n(j.Item,{name:o=="individu"?`blok4_31_${t}_id_art`:"",label:null,initialValue:o=="individu"?e.id:"",hidden:!0,children:n(W,{readOnly:!0})},`form-item-${t}`)," "]}):"JUMLAH"}),k("td",{style:G,children:[n(H,{inputName:`blok4_31_${o=="individu"?t:"jumlah"}_mak_beli`,initialValue:e.mak_beli,onChange:g,validateStatus:a?"":"error"}),n(M,{color:a?"green":"red",value:e.rekap[12].beli})]}),k("td",{style:G,children:[n(H,{inputName:`blok4_31_${o=="individu"?t:"jumlah"}_mak_produksi`,initialValue:e.mak_produksi,onChange:g,validateStatus:c?"":"error"}),n(M,{color:c?"green":"red",value:e.rekap[12].produksi})]}),k("td",{style:G,children:[n(H,{inputName:`blok4_31_${o=="individu"?t:"jumlah"}_rokok_beli`,initialValue:e.rokok_beli,onChange:g,validateStatus:s?"":"error"}),n(M,{color:s?"green":"red",value:e.rekap[13].beli})]}),k("td",{style:G,children:[n(H,{inputName:`blok4_31_${o=="individu"?t:"jumlah"}_rokok_produksi`,initialValue:e.rokok_produksi,onChange:g,validateStatus:m?"":"error"}),n(M,{color:m?"green":"red",value:e.rekap[13].produksi})]})]})},$n=({rincian:e,index:t,rekapMak:l,form:o,setRekapMak:a})=>{const i=y=>{let h=[...l];h[16].total=y,h[17].total=h[15].total+h[16].total,a(h)},[c,u]=r.useState(!1),[s,d]=r.useState(!1),[m,p]=r.useState(!1);function g(){const y=l[e.id-1].beli,h=l[e.id-1].produksi,_=l[e.id-1].total,b=o.getFieldValue(`blok4_32_${e.id-1}_beli`)??0,f=o.getFieldValue(`blok4_32_${e.id-1}_produksi`)??0,$=o.getFieldValue(`blok4_32_${e.id-1}_total`)??0;u(y==b),d(h==f),p(_==$),e.id==17&&i($)}return r.useEffect(()=>{g()},[l[e.id-1].beli,l[e.id-1].produksi,l[e.id-1].total]),k("tr",{children:[n("td",{style:Ge,children:e.nomor}),n("td",{style:Je,children:e.rincian}),n("td",{style:G,children:e.id<16&&k(q,{children:[n(H,{inputName:`blok4_32_${e.id-1}_beli`,onChange:g,validateStatus:c?"":"error"},t),n(M,{color:c?"green":"red",value:l[e.id-1].beli},e.id)]})}),n("td",{style:G,children:e.id<16&&k(q,{children:[n(H,{inputName:`blok4_32_${e.id-1}_produksi`,onChange:g,validateStatus:s?"":"error"},t),n(M,{color:s?"green":"red",value:l[e.id-1].produksi},e.id)]})}),n("td",{style:G,children:k(q,{children:[n(H,{inputName:`blok4_32_${e.id-1}_total`,onChange:g,validateStatus:m?"":"error"},t),n(M,{color:m?"green":"red",value:l[e.id-1].total},e.id)]})})]})},Xn=({form:e,onFinish:t,tabContentStyle:l,rekapMak:o,setRekapMak:a,daftarArt:i,daftarRincian432:c})=>{const[u,s]=de.useMessage(),[d,m]=r.useState({12:{beli:0,produksi:0,total:0},13:{beli:0,produksi:0,total:0}}),p=g=>{let y=g.reduce((h,_)=>(Object.values(_.rekap).forEach((b,f)=>{h[f]=h[f]||{beli:0,produksi:0,total:0},h[f].beli+=b.beli,h[f].produksi+=b.produksi,h[f].total+=b.total}),h),[]);return{12:y[0],13:y[1]}};return r.useEffect(()=>{let g=p(i);(async()=>{var _;const{data:h}=await J.get(route("entri.mak.art.fetch",{id_ruta:(_=i[0])==null?void 0:_.id_ruta}));h.forEach((b,f)=>{e.setFieldValue(`blok4_31_${f}_id_art`,b.id)})})(),m(g),a(h=>{let _=[...h];return _[12]=g[12],_[13]=g[13],_[14]=_.slice(0,14).reduce((b,f)=>({beli:b.beli+f.beli,produksi:b.produksi+f.produksi,total:b.total+f.total}),{beli:0,produksi:0,total:0}),[..._]})},[i]),n(B,{direction:"vertical",style:l,children:k(j,{form:e,name:"Blok4_3",onFinish:t,autoComplete:"off",layout:"vertical",children:[k(ce,{title:"BLOK IV.3.1. REKAPITULASI PENGELUARAN MAKANAN DAN MINUMAN JADI SERTA ROKOK SELURUH ANGGOTA RUMAH TANGGA (DALAM RUPIAH)",subtitle:"",columns:["No.","Nama ART","Makanan dan Minuman Jadi (Pembelian)","Makanan dan Minuman Jadi (Produksi sendiri, Pemberian, dsb)","Rokok dan Tembaku (Pembelian)","Rokok dan Tembaku (Produksi sendiri, Pemberian, dsb)"],columnsCount:6,children:[i.map((g,y)=>n(He,{art:g,index:y,form:e,tipe:"individu"},y)),i.length>0&&n(He,{art:{rekap:d},index:99,form:e,tipe:"jumlah"},99)]},1),n(mt,{}),n(ce,{title:"BLOK IV.3.2. REKAPITULASI PENGELUARAN MAKANAN, MINUMAN, DAN ROKOK (DALAM RUPIAH)",subtitle:"[Kolom (3) Disalin dari Blok IV.1 Kolom (6), Blok IV.3.1 Kolom (3), atau (5)] dan [Kolom (4) Disalin dari Blok IV.1 Kolom (8), Blok IV.3.1 Kolom (4), atau (6)]",columnsCount:5,columns:["No.","Jenis Pengeluaran","Pembelian Seminggu Terakhir","Produksi Sendiri, Pemberian, dsb., Seminggu Terakhir","Total Seminggu Terakhir [Kolom 3 + Kolom 4]"],children:c.map((g,y)=>n($n,{form:e,rincian:g,index:y,rekapMak:o,setRekapMak:a},y))},2),s]})})},{Text:Cn,Title:Sn}=oe,Ke={borderStyle:"solid",border:"solid 1px black",padding:"5px"},re={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},Ve=({type:e,name:t,options:l,customKey:o,children:a,setValue:i,dependencies:c,rules:u})=>({number:n(j.Item,{name:t,label:null,dependencies:c,rules:u,children:n(ve,{})}),binary:n(Ie,{name:t,options:[{label:"[1] YA",value:1},{label:"[5] TIDAK",value:5}],onChange:i&&(d=>i(d))}),rupiah:n(H,{inputName:t,editable:o===26}),multi:n(Ie,{name:t,options:l??[],onChange:i&&(d=>i(d))})})[e],_n=({props:e,defaultValue:t})=>{const[l,o]=r.useState(t),[a,i]=r.useState([]),c=k(q,{children:[n("td",{style:re,children:e.nomor}),n("td",{style:Ke,children:e.rincian})]});return r.useEffect(()=>{if(e.children){let u=e.children.filter((s,d)=>{let m=!1;return s.dependentValues&&s.dependentValues.forEach(p=>{p==l&&(m=!0)}),m}).map(s=>k("tr",{children:[n("td",{style:re}),n("td",{style:Ke,children:s.rincian}),n("td",{style:re,children:n(Ve,{type:s.type,name:`wtf_${s.nomor}`,options:s.options,customKey:s.id,dependencies:s.dependencies,rules:s.rules},s.nomor)})]},e.id));i(u)}},[l,e.children]),k(q,{children:[k("tr",{style:{backgroundColor:e.id%2===0?" #fffae6":""},children:[c,n("td",{style:re,children:n(Ve,{type:e.type,name:`wtf_${e.id}`,options:e.options,customKey:e.id,children:e.children,setValue:o,dependencies:e.dependencies,rules:e.rules},e.id)})]}),a.map(u=>u)]})},Se=({getFieldValue:e},t,l,o)=>({validator(a,i,c){const u=e(t);let s=!0;return l=="less"?s=i<u:l=="equal"?s=i==u:l=="greater"?s=i>u:l=="less equal"?s=i<=u:l=="greater equal"&&(s=i>=u),s?Promise.resolve():Promise.reject(o)}}),vn=[{id:1,nomor:1,rincian:"Jumlah ART (Blok III Rincian 301)",type:"number",rules:[()=>({validator(e,t,l){return t<1?Promise.reject("Jumlah ART minimal satu"):Promise.resolve()}})]},{id:2,nomor:2,rincian:"Jumlah Balita (R302)",type:"number",dependencies:["wtf_1"],rules:[({getFieldValue:e})=>Se({getFieldValue:e},"wtf_1","less","Jumlah Balita tidak bisa melebihi atau sama dengan jumlah ART")]},{id:3,nomor:3,rincian:"Jumlah ART yang masih bersekolah (R1402=2)",type:"number",rules:[({getFieldValue:e})=>Se({getFieldValue:e},"wtf_1","less equal","Jumlah ART yang bersekolah tidak bisa melebihi jumlah ART")]},{id:4,nomor:4,rincian:"Status Kepemilikan Bangunan Tempat Tinggal (R1901)",type:"multi",options:[{label:"Milik Sendiri",value:1},{label:"Kontrak/Sewa",value:2},{label:"Bebas Sewa",value:3},{label:"Dinas",value:4},{label:"Lainnya",value:99}]},{id:5,nomor:5,rincian:k("span",{children:["Luas Lantai per Kapita (m",n("sup",{children:"2"}),") (R1902)"]}),type:"number"},{id:6,nomor:6,rincian:"Sumber air minum (R1903)",type:"multi",options:[{label:"Air kemasan bermerek",value:1},{label:"Air isi ulang",value:2},{label:"Leding/sumur bor/pompa",value:3},{label:"Lainnya",value:99}]},{id:7,nomor:7,rincian:"Sumber air mandi/cuci/dll (R1904)",type:"multi",options:[{label:"Air kemasan bermerek",value:1},{label:"Air isi ulang",value:2},{label:"Leding/sumur bor/pompa",value:3},{label:"Lainnya",value:99}]},{id:8,nomor:8,rincian:"Apakah tercatat sebagai menerima PKH? (R2003a)",type:"binary",children:[{id:9,nomor:9,rincian:"Penggunaan PKH (R2003b)",type:"multi",dependentValues:[1],options:[{label:"Belanja Pangan",value:1},{label:"Biaya Sekolah",value:2},{label:"Pembayaran Utang/Kredit",value:3},{label:"Lainnya",value:99}]}]},{id:10,nomor:10,rincian:"Apakah ART menerima PIP?",type:"binary",children:[{id:11,nomor:11,dependentValues:[1],rincian:"berapa ART yang menerima PIP? (SD s.d. Kuliah)",type:"number",rules:[({getFieldValue:e})=>Se({getFieldValue:e},"wtf_3","less equal","Jumlah ART yang menerima PIP tidak bisa melebihi ART yang bersekolah")]}]},{id:26,nomor:"",rincian:"Garis Kemiskinan Maret 2024",type:"rupiah"}],Yn=({form:e,onFinish:t,tabContentStyle:l})=>k(B,{direction:"vertical",style:l,children:[n(B,{style:{width:"100%",justifyContent:"space-between"},direction:"horizontal"}),n(j,{form:e,name:"Worksheet",onFinish:t,autoComplete:"off",layout:"vertical",children:k("table",{style:{borderCollapse:"collapse",width:"100%"},children:[n("thead",{style:{backgroundColor:"#fc0",textAlign:"center"},children:n("tr",{children:n("td",{style:{borderStyle:"solid",border:"solid 1px black",padding:"5px"},colSpan:3,children:k(B,{direction:"vertical",children:[k(Sn,{level:4,style:{textTransform:"uppercase"},children:["Isian Worksheet Template"," "]}),n(Cn,{children:"RINCIAN (Lihat Dokumen VSEN24.K)"})]})})})}),n("tbody",{children:vn.map(i=>_n({props:i,defaultValue:e.getFieldValue(`wtf_${i.id}`)}))})]})})]}),Qn=({form:e,onFinish:t,tabContentStyle:l,daftarQc:o})=>{const a={borderStyle:"solid",border:"solid 1px black",padding:"5px"},i={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},[c,u]=de.useMessage(),s=({rincian:d,key:m})=>k("tr",{children:[n("td",{style:{...i,width:"30px"},children:m+1}),n("td",{style:{...a,width:"auto"},children:d.rincian}),n("td",{style:{...a,width:"150px",textAlign:"right"},children:d.id===5?n(q,{children:n(H,{inputName:`blokqc_${d.id}`},m)}):n(B,{direction:"vertical",children:n(j.Item,{name:`blokqc_${d.id}`,label:null,style:{marginBottom:"5px",textAlign:"center"},children:n(ve,{className:"custom-input-number",style:{textAlign:"right",width:"100%"},formatter:p=>{const g=Number(p)??0,y=g.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",");return d.dataType==="decimal"?y:String(g)}},m)})})})]},m);return n(B,{direction:"vertical",style:l,children:k(j,{form:e,name:"Blok4_3",onFinish:t,autoComplete:"off",layout:"vertical",children:[n(ce,{title:"Quality Control",columnsCount:3,columns:["No.","Rincian","Isian"],children:o.map((d,m)=>s({rincian:d,key:m}))},2),u]})})};export{Gn as B,qn as D,Yn as W,Zn as a,Xn as b,Qn as c,Mn as d};
