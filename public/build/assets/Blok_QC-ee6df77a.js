import{e as Ae,r as i,C as W,f as T,h as lt,o as ve,_ as Ve,i as it,a as n,j as $,F as L,c as Z}from"./app-99d6f54e.js";import{K as X,g as Ee,i as ze,c as De,B as Oe}from"./useFlexGapSupport-cdcedcf9.js";import{g as Me,m as Le,A as qe}from"./AntdIcon-069f8aa0.js";import{_ as H}from"./debounce-d266a78a.js";import{S as B}from"./index-fc009cdd.js";import{T as le}from"./index-f35f262a.js";import{m as ue}from"./index-d3d40e08.js";import{F as P}from"./index-d1e9936c.js";import{I as q}from"./index-078d12d2.js";import{T as We}from"./index-b384c841.js";import{R as F}from"./RupiahInput-70f10f15.js";import{T as M}from"./TextRupiah-09ab2db5.js";import{I as _e}from"./index-dee122bc.js";import{S as Ue}from"./Table-ff610d5b.js";import{l as rt}from"./lodash-7d3428d8.js";import{P as st}from"./index-08a0f095.js";import{c as G,a as ee,r as J}from"./CONSTANT-b7a876ac.js";import{D as ct}from"./index-620f7a56.js";import{M as Ie}from"./Blok1_2-0d918b80.js";const dt=new X("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),ut=new X("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),mt=new X("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),gt=new X("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),ht=new X("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),pt=new X("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),bt=e=>{const{componentCls:t,iconCls:a,antCls:o,badgeFontHeight:l,badgeShadowSize:r,badgeHeightSm:c,motionDurationSlow:d,badgeStatusSize:s,marginXS:u,badgeRibbonOffset:h}=e,p=`${o}-scroll-number`,g=`${o}-ribbon`,k=`${o}-ribbon-wrapper`,b=Ee(e,(y,m)=>{let{darkColor:f}=m;return{[`${t}-color-${y}`]:{background:f}}}),S=Ee(e,(y,m)=>{let{darkColor:f}=m;return{[`&${g}-color-${y}`]:{background:f,color:f}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Ae(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{zIndex:e.badgeZIndex,minWidth:e.badgeHeight,height:e.badgeHeight,color:e.badgeTextColor,fontWeight:e.badgeFontWeight,fontSize:e.badgeFontSize,lineHeight:`${e.badgeHeight}px`,whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:e.badgeHeight/2,boxShadow:`0 0 0 ${r}px ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:c,height:c,fontSize:e.badgeFontSizeSm,lineHeight:`${c}px`,borderRadius:c/2},[`${t}-multiple-words`]:{padding:`0 ${e.paddingXS}px`},[`${t}-dot`]:{zIndex:e.badgeZIndex,width:e.badgeDotSize,minWidth:e.badgeDotSize,height:e.badgeDotSize,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${r}px ${e.badgeShadowColor}`},[`${t}-dot${p}`]:{transition:`background ${d}`},[`${t}-count, ${t}-dot, ${p}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${a}-spin`]:{animationName:pt,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:s,height:s,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{position:"relative",color:e.colorPrimary,backgroundColor:e.colorPrimary,"&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:r,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:dt,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:u,color:e.colorText,fontSize:e.fontSize}}}),b),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:ut,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:mt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:gt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:ht,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${p}-custom-component, ${t}-count`]:{transform:"none"},[`${p}-custom-component, ${p}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[`${p}`]:{overflow:"hidden",[`${p}-only`]:{position:"relative",display:"inline-block",height:e.badgeHeight,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${p}-only-unit`]:{height:e.badgeHeight,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${p}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${p}-custom-component`]:{transform:"translate(-50%, -50%)"}}}),[`${k}`]:{position:"relative"},[`${g}`]:Object.assign(Object.assign(Object.assign(Object.assign({},Ae(e)),{position:"absolute",top:u,padding:`0 ${e.paddingXS}px`,color:e.colorPrimary,lineHeight:`${l}px`,whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${g}-text`]:{color:e.colorTextLightSolid},[`${g}-corner`]:{position:"absolute",top:"100%",width:h,height:h,color:"currentcolor",border:`${h/2}px solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),S),{[`&${g}-placement-end`]:{insetInlineEnd:-h,borderEndEndRadius:0,[`${g}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${g}-placement-start`]:{insetInlineStart:-h,borderEndStartRadius:0,[`${g}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},Ge=Me("Badge",e=>{const{fontSize:t,lineHeight:a,fontSizeSM:o,lineWidth:l,marginXS:r,colorBorderBg:c}=e,d=Math.round(t*a),s=l,u="auto",h=d-2*s,p=e.colorBgContainer,g="normal",k=o,b=e.colorError,S=e.colorErrorHover,y=t,m=o/2,f=o,A=o/2,O=Le(e,{badgeFontHeight:d,badgeShadowSize:s,badgeZIndex:u,badgeHeight:h,badgeTextColor:p,badgeFontWeight:g,badgeFontSize:k,badgeColor:b,badgeColorHover:S,badgeShadowColor:c,badgeHeightSm:y,badgeDotSize:m,badgeFontSizeSm:f,badgeStatusSize:A,badgeProcessingDuration:"1.2s",badgeRibbonOffset:r,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"});return[bt(O)]}),ft=e=>{let{className:t,prefixCls:a,style:o,color:l,children:r,text:c,placement:d="end"}=e;const{getPrefixCls:s,direction:u}=i.useContext(W),h=s("ribbon",a),p=ze(l,!1),g=T(h,`${h}-placement-${d}`,{[`${h}-rtl`]:u==="rtl",[`${h}-color-${l}`]:p},t),[k,b]=Ge(h),S={},y={};return l&&!p&&(S.background=l,y.color=l),k(i.createElement("div",{className:T(`${h}-wrapper`,b)},r,i.createElement("div",{className:T(g,b),style:Object.assign(Object.assign({},S),o)},i.createElement("span",{className:`${h}-text`},c),i.createElement("div",{className:`${h}-corner`,style:y}))))},yt=ft;function Re(e){let{prefixCls:t,value:a,current:o,offset:l=0}=e,r;return l&&(r={position:"absolute",top:`${l}00%`,left:0}),i.createElement("span",{style:r,className:T(`${t}-only-unit`,{current:o})},a)}function kt(e,t,a){let o=e,l=0;for(;(o+10)%10!==t;)o+=a,l+=a;return l}function $t(e){const{prefixCls:t,count:a,value:o}=e,l=Number(o),r=Math.abs(a),[c,d]=i.useState(l),[s,u]=i.useState(r),h=()=>{d(l),u(r)};i.useEffect(()=>{const k=setTimeout(()=>{h()},1e3);return()=>{clearTimeout(k)}},[l]);let p,g;if(c===l||Number.isNaN(l)||Number.isNaN(c))p=[i.createElement(Re,Object.assign({},e,{key:l,current:!0}))],g={transition:"none"};else{p=[];const k=l+10,b=[];for(let m=l;m<=k;m+=1)b.push(m);const S=b.findIndex(m=>m%10===c);p=b.map((m,f)=>{const A=m%10;return i.createElement(Re,Object.assign({},e,{key:m,value:A,offset:f-S,current:f===S}))});const y=s<r?1:-1;g={transform:`translateY(${-kt(c,l,y)}00%)`}}return i.createElement("span",{className:`${t}-only`,style:g,onTransitionEnd:h},p)}var Ct=globalThis&&globalThis.__rest||function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]]);return a};const St=i.forwardRef((e,t)=>{var{prefixCls:a,count:o,className:l,motionClassName:r,style:c,title:d,show:s,component:u="sup",children:h}=e,p=Ct(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]);const{getPrefixCls:g}=i.useContext(W),k=g("scroll-number",a),b=Object.assign(Object.assign({},p),{"data-show":s,style:c,className:T(k,l,r),title:d});let S=o;if(o&&Number(o)%1===0){const y=String(o).split("");S=y.map((m,f)=>i.createElement($t,{prefixCls:k,count:Number(o),value:m,key:y.length-f}))}return c&&c.borderColor&&(b.style=Object.assign(Object.assign({},c),{boxShadow:`0 0 0 1px ${c.borderColor} inset`})),h?De(h,y=>({className:T(`${k}-custom-component`,y==null?void 0:y.className,r)})):i.createElement(u,Object.assign({},b,{ref:t}),S)}),vt=St;var _t=globalThis&&globalThis.__rest||function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]]);return a};const Nt=(e,t)=>{const{prefixCls:a,scrollNumberPrefixCls:o,children:l,status:r,text:c,color:d,count:s=null,overflowCount:u=99,dot:h=!1,size:p="default",title:g,offset:k,style:b,className:S,rootClassName:y,showZero:m=!1}=e,f=_t(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","showZero"]),{getPrefixCls:A,direction:O}=i.useContext(W),w=A("badge",a),[E,_]=Ge(w),v=s>u?`${u}+`:s,C=v==="0"||v===0,N=s===null||C&&!m,I=(r!=null||d!=null)&&N,x=h&&!C,R=x?"":v,U=i.useMemo(()=>(R==null||R===""||C&&!m)&&!x,[R,C,m,x]),K=i.useRef(s);U||(K.current=s);const Y=K.current,Ne=i.useRef(R);U||(Ne.current=R);const he=Ne.current,xe=i.useRef(x);U||(xe.current=x);const ie=i.useMemo(()=>{if(!k)return Object.assign({},b);const V={marginTop:k[1]};return O==="rtl"?V.left=parseInt(k[0],10):V.right=-parseInt(k[0],10),Object.assign(Object.assign({},V),b)},[O,k,b]),Xe=g??(typeof Y=="string"||typeof Y=="number"?Y:void 0),Ye=U||!c?null:i.createElement("span",{className:`${w}-status-text`},c),Qe=!Y||typeof Y!="object"?void 0:De(Y,V=>({style:Object.assign(Object.assign({},ie),V.style)})),re=ze(d,!1),et=T({[`${w}-status-dot`]:I,[`${w}-status-${r}`]:!!r,[`${w}-color-${d}`]:re}),pe={};d&&!re&&(pe.color=d,pe.background=d);const we=T(w,{[`${w}-status`]:I,[`${w}-not-a-wrapper`]:!l,[`${w}-rtl`]:O==="rtl"},S,y,_);if(!l&&I){const V=ie.color;return E(i.createElement("span",Object.assign({},f,{className:we,style:ie}),i.createElement("span",{className:et,style:pe}),c&&i.createElement("span",{style:{color:V},className:`${w}-status-text`},c)))}return E(i.createElement("span",Object.assign({ref:t},f,{className:we}),l,i.createElement(lt,{visible:!U,motionName:`${w}-zoom`,motionAppear:!1,motionDeadline:1e3},V=>{let{className:tt,ref:nt}=V;const ot=A("scroll-number",o),be=xe.current,at=T({[`${w}-dot`]:be,[`${w}-count`]:!be,[`${w}-count-sm`]:p==="small",[`${w}-multiple-words`]:!be&&he&&he.toString().length>1,[`${w}-status-${r}`]:!!r,[`${w}-color-${d}`]:re});let se=Object.assign({},ie);return d&&!re&&(se=se||{},se.background=d),i.createElement(vt,{prefixCls:ot,show:!U,motionClassName:tt,className:at,count:he,title:Xe,style:se,key:"scrollNumber",ref:nt},Qe)}),Ye))},Je=i.forwardRef(Nt);Je.Ribbon=yt;const Dn=Je,xt=e=>{const{prefixCls:t,className:a,style:o,size:l,shape:r}=e,c=T({[`${t}-lg`]:l==="large",[`${t}-sm`]:l==="small"}),d=T({[`${t}-circle`]:r==="circle",[`${t}-square`]:r==="square",[`${t}-round`]:r==="round"}),s=i.useMemo(()=>typeof l=="number"?{width:l,height:l,lineHeight:`${l}px`}:{},[l]);return i.createElement("span",{className:T(t,c,d,a),style:Object.assign(Object.assign({},s),o)})},me=xt,wt=new X("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),ge=e=>({height:e,lineHeight:`${e}px`}),Q=e=>Object.assign({width:e},ge(e)),At=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:wt,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),fe=e=>Object.assign({width:e*5,minWidth:e*5},ge(e)),Et=e=>{const{skeletonAvatarCls:t,gradientFromColor:a,controlHeight:o,controlHeightLG:l,controlHeightSM:r}=e;return{[`${t}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:a},Q(o)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},Q(l)),[`${t}${t}-sm`]:Object.assign({},Q(r))}},Ot=e=>{const{controlHeight:t,borderRadiusSM:a,skeletonInputCls:o,controlHeightLG:l,controlHeightSM:r,gradientFromColor:c}=e;return{[`${o}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:c,borderRadius:a},fe(t)),[`${o}-lg`]:Object.assign({},fe(l)),[`${o}-sm`]:Object.assign({},fe(r))}},Te=e=>Object.assign({width:e},ge(e)),It=e=>{const{skeletonImageCls:t,imageSizeBase:a,gradientFromColor:o,borderRadiusSM:l}=e;return{[`${t}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:o,borderRadius:l},Te(a*2)),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},Te(a)),{maxWidth:a*4,maxHeight:a*4}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},ye=(e,t,a)=>{const{skeletonButtonCls:o}=e;return{[`${a}${o}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${a}${o}-round`]:{borderRadius:t}}},ke=e=>Object.assign({width:e*2,minWidth:e*2},ge(e)),Rt=e=>{const{borderRadiusSM:t,skeletonButtonCls:a,controlHeight:o,controlHeightLG:l,controlHeightSM:r,gradientFromColor:c}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${a}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:c,borderRadius:t,width:o*2,minWidth:o*2},ke(o))},ye(e,o,a)),{[`${a}-lg`]:Object.assign({},ke(l))}),ye(e,l,`${a}-lg`)),{[`${a}-sm`]:Object.assign({},ke(r))}),ye(e,r,`${a}-sm`))},Tt=e=>{const{componentCls:t,skeletonAvatarCls:a,skeletonTitleCls:o,skeletonParagraphCls:l,skeletonButtonCls:r,skeletonInputCls:c,skeletonImageCls:d,controlHeight:s,controlHeightLG:u,controlHeightSM:h,gradientFromColor:p,padding:g,marginSM:k,borderRadius:b,titleHeight:S,blockRadius:y,paragraphLiHeight:m,controlHeightXS:f,paragraphMarginTop:A}=e;return{[`${t}`]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:g,verticalAlign:"top",[`${a}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:p},Q(s)),[`${a}-circle`]:{borderRadius:"50%"},[`${a}-lg`]:Object.assign({},Q(u)),[`${a}-sm`]:Object.assign({},Q(h))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${o}`]:{width:"100%",height:S,background:p,borderRadius:y,[`+ ${l}`]:{marginBlockStart:h}},[`${l}`]:{padding:0,"> li":{width:"100%",height:m,listStyle:"none",background:p,borderRadius:y,"+ li":{marginBlockStart:f}}},[`${l}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${o}, ${l} > li`]:{borderRadius:b}}},[`${t}-with-avatar ${t}-content`]:{[`${o}`]:{marginBlockStart:k,[`+ ${l}`]:{marginBlockStart:A}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},Rt(e)),Et(e)),Ot(e)),It(e)),[`${t}${t}-block`]:{width:"100%",[`${r}`]:{width:"100%"},[`${c}`]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${o},
        ${l} > li,
        ${a},
        ${r},
        ${c},
        ${d}
      `]:Object.assign({},At(e))}}},te=Me("Skeleton",e=>{const{componentCls:t}=e,a=Le(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:e.controlHeight*1.5,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[Tt(a)]},e=>{const{colorFillContent:t,colorFill:a}=e,o=t,l=a;return{color:o,colorGradientEnd:l,gradientFromColor:o,gradientToColor:l,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}},{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Pt=e=>{const{prefixCls:t,className:a,rootClassName:o,active:l,shape:r="circle",size:c="default"}=e,{getPrefixCls:d}=i.useContext(W),s=d("skeleton",t),[u,h]=te(s),p=ve(e,["prefixCls","className"]),g=T(s,`${s}-element`,{[`${s}-active`]:l},a,o,h);return u(i.createElement("div",{className:g},i.createElement(me,Object.assign({prefixCls:`${s}-avatar`,shape:r,size:c},p))))},Bt=Pt,jt=e=>{const{prefixCls:t,className:a,rootClassName:o,active:l,block:r=!1,size:c="default"}=e,{getPrefixCls:d}=i.useContext(W),s=d("skeleton",t),[u,h]=te(s),p=ve(e,["prefixCls"]),g=T(s,`${s}-element`,{[`${s}-active`]:l,[`${s}-block`]:r},a,o,h);return u(i.createElement("div",{className:g},i.createElement(me,Object.assign({prefixCls:`${s}-button`,size:c},p))))},Ft=jt;var Ht={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const Kt=Ht;var Vt=function(t,a){return i.createElement(qe,Ve({},t,{ref:a,icon:Kt}))};const zt=i.forwardRef(Vt),Dt=e=>{const{prefixCls:t,className:a,rootClassName:o,style:l,active:r,children:c}=e,{getPrefixCls:d}=i.useContext(W),s=d("skeleton",t),[u,h]=te(s),p=T(s,`${s}-element`,{[`${s}-active`]:r},h,a,o),g=c??i.createElement(zt,null);return u(i.createElement("div",{className:p},i.createElement("div",{className:T(`${s}-image`,a),style:l},g)))},Mt=Dt,Lt="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",qt=e=>{const{prefixCls:t,className:a,rootClassName:o,style:l,active:r}=e,{getPrefixCls:c}=i.useContext(W),d=c("skeleton",t),[s,u]=te(d),h=T(d,`${d}-element`,{[`${d}-active`]:r},a,o,u);return s(i.createElement("div",{className:h},i.createElement("div",{className:T(`${d}-image`,a),style:l},i.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${d}-image-svg`},i.createElement("path",{d:Lt,className:`${d}-image-path`})))))},Wt=qt,Ut=e=>{const{prefixCls:t,className:a,rootClassName:o,active:l,block:r,size:c="default"}=e,{getPrefixCls:d}=i.useContext(W),s=d("skeleton",t),[u,h]=te(s),p=ve(e,["prefixCls"]),g=T(s,`${s}-element`,{[`${s}-active`]:l,[`${s}-block`]:r},a,o,h);return u(i.createElement("div",{className:g},i.createElement(me,Object.assign({prefixCls:`${s}-input`,size:c},p))))},Gt=Ut,Jt=e=>{const t=d=>{const{width:s,rows:u=2}=e;if(Array.isArray(s))return s[d];if(u-1===d)return s},{prefixCls:a,className:o,style:l,rows:r}=e,c=it(Array(r)).map((d,s)=>i.createElement("li",{key:s,style:{width:t(s)}}));return i.createElement("ul",{className:T(a,o),style:l},c)},Zt=Jt,Xt=e=>{let{prefixCls:t,className:a,width:o,style:l}=e;return i.createElement("h3",{className:T(t,a),style:Object.assign({width:o},l)})},Yt=Xt;function $e(e){return e&&typeof e=="object"?e:{}}function Qt(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function en(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function tn(e,t){const a={};return(!e||!t)&&(a.width="61%"),!e&&t?a.rows=3:a.rows=2,a}const ne=e=>{const{prefixCls:t,loading:a,className:o,rootClassName:l,style:r,children:c,avatar:d=!1,title:s=!0,paragraph:u=!0,active:h,round:p}=e,{getPrefixCls:g,direction:k}=i.useContext(W),b=g("skeleton",t),[S,y]=te(b);if(a||!("loading"in e)){const m=!!d,f=!!s,A=!!u;let O;if(m){const _=Object.assign(Object.assign({prefixCls:`${b}-avatar`},Qt(f,A)),$e(d));O=i.createElement("div",{className:`${b}-header`},i.createElement(me,Object.assign({},_)))}let w;if(f||A){let _;if(f){const C=Object.assign(Object.assign({prefixCls:`${b}-title`},en(m,A)),$e(s));_=i.createElement(Yt,Object.assign({},C))}let v;if(A){const C=Object.assign(Object.assign({prefixCls:`${b}-paragraph`},tn(m,f)),$e(u));v=i.createElement(Zt,Object.assign({},C))}w=i.createElement("div",{className:`${b}-content`},_,v)}const E=T(b,{[`${b}-with-avatar`]:m,[`${b}-active`]:h,[`${b}-rtl`]:k==="rtl",[`${b}-round`]:p},o,l,y);return S(i.createElement("div",{className:E,style:r},O,w))}return typeof c<"u"?c:null};ne.Button=Ft;ne.Avatar=Bt;ne.Input=Gt;ne.Image=Wt;ne.Node=Mt;const nn=ne;var on={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z"}}]},name:"dollar",theme:"outlined"};const an=on;var ln=function(t,a){return i.createElement(qe,Ve({},t,{ref:a,icon:an}))};const Mn=i.forwardRef(ln),ce=({inputName:e,onChange:t,initialValue:a,editable:o,validateStatus:l})=>{const[r,c]=i.useState(0),d=u=>{c(u)},s=H(u=>{d(u),t&&t(u)},600);return n(P.Item,{name:e,initialValue:a??void 0,style:{marginBottom:"4px"},validateStatus:l,children:n(_e,{className:"custom-input-number",readOnly:o||!1,min:0,step:.01,formatter:u=>u&&u>0?`${u}`.replace(/\B(?=(\d{3})+(?!\d))/g,","):"",parser:u=>{const h=parseFloat(String(u).replace(/[^\d.]/g,""));return isNaN(h)?0:h},value:r,onChange:u=>{s(u)}})})},Pe={backgroundColor:"#fc0",fontWeight:"700",padding:"5px"},z={borderRight:"1px solid ",padding:"5px"},Be={borderRight:"1px solid ",textAlign:"center",padding:"5px"},oe={borderRight:"1px solid ",textAlign:"right",padding:"5px"},rn={borderRight:"1px solid ",width:"200px",textAlign:"right",padding:"5px"},Ce={borderRight:"1px solid ",backgroundColor:"#636f83",padding:"5px"},sn=({data:e,form:t,subKey:a,rekapMak:o,calculate:l})=>{const[r,c]=i.useState(0),[d,s]=i.useState(0),[u,h]=i.useState(!1),[p,g]=i.useState(!1),[k,b]=i.useState(!1),[S,y]=i.useState(!1),m=`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`,f=`${e.type==="sub"?"jumlah":""}${e.nomor}_beli_harga${e.subKey}`,A=`${e.nomor}_total_harga`;i.useEffect(()=>{let v=Number(t.getFieldValue(f));v||(v=0);let C=Number(t.getFieldValue(m));C||(C=0);const N=v+C;N&&(t.setFieldsValue({[`${e.nomor}_total_harga_calculated`]:N}),E())},[r]),i.useEffect(()=>{},[t.getFieldValue(f)]),i.useEffect(()=>{E()},[o[e.subKey].produksi,o[e.subKey].beli]),i.useEffect(()=>{E(),_()},[]);function O(v){let C=t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`),N=v+C;t.setFieldsValue({[`${e.nomor}_total_harga_calculated`]:N}),c(N),e.type}function w(v){c(parseFloat(String(v)??0)+parseFloat(t.getFieldValue(`${e.nomor}_beli_harga`)||0)),e.type}function E(){const v=t.getFieldValue(`${e.nomor}_total_harga`),C=Number(t.getFieldValue(f))??0+Number(t.getFieldValue(m))??0;if(h(v==C),e.type=="sub"){const N=t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`),I=t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_beli_harga${e.subKey}`);g(I==o[e.subKey].beli),b(N==o[e.subKey].produksi)}}function _(){const v=t.getFieldValue(`${e.nomor}_beli_volume`)+t.getFieldValue(`${e.nomor}_produksi_volume`);s(v);const C=t.getFieldValue(`${e.nomor}_total_volume`);y(C==v)}return $(L,{children:[$("tr",{style:{backgroundColor:e.flagBasket?"#ffffcc":"",borderTop:"1px solid ",borderLeft:"1px solid "},children:[n("td",{style:{...Be,width:"55px"},children:e.nomor}),$("td",{colSpan:1,style:{...e.type==="sub"?Pe:z},children:[e.rincian,e.type==="lain"&&n(P.Item,{name:`${e.nomor}_item`,children:n(q,{placeholder:"Sebutkan"})})]}),n("td",{colSpan:1,style:{...e.type==="sub"?Pe:Be},children:e.type==="lain"?n(P.Item,{name:`${e.nomor}_satuan`,children:n(q,{placeholder:"Sebutkan"})}):e.satuan}),n("td",{style:{...e.type==="sub"?Ce:z},children:e.type==="sub"||n(ce,{inputName:`${e.nomor}_beli_volume`,onChange:H(_,400)})}),n("td",{style:{...rn},children:n(F,{inputName:f,onChange:H(O,600),validateStatus:!p&&e.type=="sub"?"error":""})}),n("td",{style:{...e.type==="sub"?Ce:z},children:e.type==="sub"||n(ce,{inputName:`${e.nomor}_produksi_volume`,onChange:H(_,400)})}),n("td",{style:{...oe},children:n(F,{inputName:m,onChange:H(w,600),validateStatus:!k&&e.type=="sub"?"error":""})}),n("td",{style:e.type==="sub"?Ce:z,children:e.type==="sub"||n(ce,{inputName:`${e.nomor}_total_volume`,onChange:H(_,400),validateStatus:S?"":"error"})}),n("td",{style:{...oe},children:n(F,{inputName:A,onChange:H(E,600),validateStatus:u?"":"error"})})]}),$("tr",{style:{backgroundColor:e.flagBasket?"#ffffcc":"",borderBottom:"1px solid ",borderRight:"1px solid ",borderLeft:"1px solid "},children:[n("td",{style:z}),n("td",{style:z}),n("td",{style:z}),n("td",{style:z}),$("td",{style:oe,children:[" ",e.type==="sub"&&n(M,{color:p?"green":"red",value:o[e.subKey]?o[e.subKey].beli??0:0})]}),n("td",{style:z}),n("td",{style:oe,children:e.type==="sub"&&n(M,{color:k?"green":"red",value:o[e.subKey].produksi??0})}),n("td",{style:oe,children:e.type!=="sub"&&n(P.Item,{style:{color:S?"green":"red",backgroundColor:"inherit",border:"none",marginRight:"10px"},name:`${e.nomor}_total_volume_calculated`,children:d>0?d:""})}),n("td",{style:z,children:n(F,{style:{color:u?"green":"red",backgroundColor:"inherit",border:"none",cursor:"text"},readOnly:!0,inputName:`${e.nomor}_total_harga_calculated`})})]})]})},{Text:Ln,Title:cn}=le,dn={borderCollapse:"collapse",width:"100%"},j={borderStyle:"solid",border:"solid 1px black",padding:"5px"},D={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},Ze=({title:e,konten:t,rekapMak:a,calculate:o,form:l})=>(e="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN, BAHAN MINUMAN, DAN ROKOK SEMINGGU TERAKHIR",$("table",{style:dn,children:[$("thead",{children:[n("tr",{style:{backgroundColor:"#fc0",textAlign:"center"},children:n("th",{style:j,colSpan:10,children:n(B,{direction:"vertical",style:{padding:"25px"},children:n(cn,{level:4,children:e})})})}),$("tr",{children:[n("th",{style:j,rowSpan:2,children:"No Urut"}),n("th",{style:j,rowSpan:2,children:"Rincian"}),n("th",{style:j,rowSpan:2,children:"Satuan standar"}),n("th",{style:j,colSpan:2,children:"Berasal dari pembelian (tunai/bon)"}),n("th",{style:j,colSpan:2,children:"Berasal dari produksi sendiri, pemberian, dsb"}),n("th",{style:j,colSpan:2,children:"Jumlah konsumsi"})]}),$("tr",{children:[n("th",{style:j,children:"Banyaknya (0,00)"}),n("th",{style:j,children:"Nilai (Rp)"}),n("th",{style:j,children:"Banyaknya (0,00)"}),n("th",{style:j,children:"Nilai (Rp)"}),n("th",{style:j,children:"Banyaknya (5) + (7) (0,00)"}),n("th",{style:j,children:"Nilai (6) + (8) (Rp)"})]})]}),$("tbody",{children:[$("tr",{children:[n("td",{width:"55px",style:D,children:"(1)"}),n("td",{style:D,children:"(3)"}),n("td",{width:"80px",style:D,children:"(4)"}),n("td",{width:"100px",style:D,children:"(5)"}),n("td",{style:D,children:"(6)"}),n("td",{width:"100px",style:D,children:"(7)"}),n("td",{style:D,children:"(8)"}),n("td",{width:"100px",style:D,children:"(9)"}),n("td",{style:D,children:"(10)"})]}),t.map((r,c)=>n(sn,{data:r,form:l,rekapMak:a,calculate:o},c))]})]})),{Text:un,Title:qn}=le,ae=({form:e,rekapMak:t,calculate:a,from:o,to:l,hal:r})=>{const[c,d]=i.useState([]),[s,u]=i.useState(!0);i.useEffect(()=>{(async(g,k)=>{const{data:b}=await Z.get(route("api.mak.komoditas.list",{from:g,to:k})),S=b.map(y=>({nomor:y.id,kode_coicop:y.kode_coicop,rincian:y.nama_komoditas,satuan:y.satuan,type:y.type,subKey:y.id_kelompok,flagBasket:y.flag_basket}));d([...S]),u(!1)})(o,l)},[]);const h="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN & MINUMAN SEMINGGU TERAKHIR";return $(B,{direction:"vertical",style:{width:"100%"},children:[$(B,{style:{width:"100%",justifyContent:"end"},direction:"horizontal",children:[n(un,{children:"Jumlah komoditas bahan makanan dan bahan minuman terisi pada halaman ini"}),n(ce,{inputName:`hal${r}_jml_komoditas`})]}),n(Ze,{form:e,konten:s?[]:c,title:h,rekapMak:t,calculate:a}),s&&n(nn,{active:!0,paragraph:{rows:10}})]})},Wn=({form:e,onFinish:t,tabContentStyle:a,subTotalHarga:o,calculate:l,rekapMak:r})=>{ue.useMessage();function c(d){}return i.useEffect(()=>{},[]),$(P,{form:e,name:"Blok4_1_hal2",onFinish:t,autoComplete:"off",layout:"vertical",onValuesChange:H(l,600),children:[n(P.Item,{name:"id_ruta",hidden:!0,children:n(q,{placeholder:"id rt"})}),n(We,{onChange:c,type:"line",style:{backgroundColor:"#fff",padding:"10px"},items:[{label:"Hal 2",key:"1",children:n(ae,{from:1,to:34,hal:2,form:e,calculate:l,rekapMak:r})},{label:"Hal 4",key:"2",children:n(ae,{from:35,hal:4,to:62,form:e,calculate:l,rekapMak:r})},{label:"Hal 6",key:"3",children:n(ae,{from:63,to:94,hal:6,form:e,calculate:l,rekapMak:r})},{label:"Hal 8",key:"4",children:n(ae,{from:95,to:127,hal:8,form:e,calculate:l,rekapMak:r})},{label:"Blok 10",key:"5",children:n(ae,{from:128,to:158,hal:10,form:e,calculate:l,rekapMak:r})}]})]})},{Text:mn,Title:Un}=le,je=({onFinish:e,nomor_art:t,setDaftarArt:a,daftarArt:o,id_ruta:l,id_art:r,calculateKalori:c,konten:d,art:s})=>{const[u]=P.useForm(),[h,p]=i.useState(!1),g=async m=>{try{p(!0);const f=route("entri.mak.konsumsi_art.store"),{data:A}=await Z.patch(f,m,{headers:{"Content-Type":"application/json"}})}catch(f){console.log("error",{error:f})}finally{p(!1)}},k=({subKey:m,jenis:f})=>{const A=`${f}_harga${m}`,O=u.getFieldsValue(),w=Object.entries(O).filter(([v])=>v.endsWith(A)).reduce((v,[,C])=>v+(C||0),0),_=[...o].map(v=>{let C={...v.rekap};return C[m][f]=w,v.id===r?{...v,rekap:C}:v});a(_)},b=H(()=>{const m="beli_harga12",f="beli_harga13",A="produksi_harga12",O="produksi_harga13",w=u.getFieldsValue(),E=Object.entries(w).filter(([x])=>x.endsWith(m)&&!x.includes("jumlah")).reduce((x,[,R])=>x+(R||0),0),_=Object.entries(w).filter(([x])=>x.endsWith(f)&&!x.includes("jumlah")).reduce((x,[,R])=>x+(R||0),0),v=Object.entries(w).filter(([x])=>x.endsWith(A)&&!x.includes("jumlah")).reduce((x,[,R])=>x+(R||0),0),C=Object.entries(w).filter(([x])=>x.endsWith(O)&&!x.includes("jumlah")).reduce((x,[,R])=>x+(R||0),0),I=[...o].map(x=>{let R={...x.rekap};return R[12]={beli:E,produksi:v,total:E+v},R[13]={beli:_,produksi:C,total:_+C},x.id===r?{...x,rekap:R}:x});a(I)},600),S=H(()=>{b(),u.submit(),c(u.getFieldsValue()).then(m=>{let f=[...o];f[t].kalori=m})},1e3);i.useEffect(()=>{(async f=>{p(!0);const{data:A}=await Z.get(route("api.mak.konsumsi.art",{id_art:f})),O=[159,192],E=A.map(_=>({[`${O.includes(_.id_komoditas)?"jumlah":""}${_.id_komoditas}_beli_harga${_.id_kelompok}`]:_.harga_beli,[`${O.includes(_.id_komoditas)?"jumlah":""}${_.id_komoditas}_produksi_harga${_.id_kelompok}`]:_.harga_produksi,[`${_.id_komoditas}_total_harga`]:_.harga_total,[`${_.id_komoditas}_item`]:_.item,[`${_.id_komoditas}_satuan`]:_.satuan,[`${_.id_komoditas}_beli_volume`]:_.volume_beli,[`${_.id_komoditas}_produksi_volume`]:_.volume_produksi,[`${_.id_komoditas}_total_volume`]:_.volume_total})).reduce((_,v)=>{for(const C in v)v.hasOwnProperty(C)&&(_[C]=v[C]);return _},{});E[`blok4_31_${t}_id_art`]=f,u.setFieldsValue(E),p(!1)})(r)},[r]),i.useEffect(()=>{u.setFieldsValue({id_ruta:l,id_art:r}),c(u.getFieldsValue()).then(m=>{let f=[...o];f[t].kalori=m})},[u]);const y="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN, BAHAN MINUMAN, DAN ROKOK SEMINGGU TERAKHIR";return n(B,{direction:"vertical",style:{width:"100%"},children:$(P,{form:u,name:"Art",onFinish:g,autoComplete:"off",layout:"vertical",onValuesChange:S,children:[$(B,{style:{width:"100%",justifyContent:"space-between"},direction:"horizontal",children:[$(B,{style:{display:h?"":"none"},children:["Menyimpan... ",n(Ue,{})]}),$(B,{children:[n(mn,{children:"Jumlah komoditas bahan makanan,bahan minuman, dan rokok yang terisi pada halaman ini"}),n(P.Item,{style:{margin:"auto"},name:"id_ruta",hidden:!0,children:n(q,{readOnly:!0})}),n(P.Item,{style:{margin:"auto"},name:"id_art",hidden:!0,children:n(q,{readOnly:!0})})]})]}),n(Ze,{form:u,konten:d,title:y,calculate:k,rekapMak:s.rekap})]})})},{Text:gn,Title:hn}=le,pn={borderCollapse:"collapse",width:"100%",backgroundColor:"#fff"},Fe={borderStyle:"solid",border:"solid 1px black",padding:"5px"},bn={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},de=({title:e,subtitle:t,columnsCount:a,columns:o,children:l})=>$("table",{style:pn,children:[n("thead",{style:{backgroundColor:"#fc0",textAlign:"center"},children:n("tr",{children:n("td",{colSpan:a,style:Fe,children:$(B,{direction:"vertical",children:[n(hn,{level:4,children:e}),n(gn,{children:t})]})})})}),$("tbody",{children:[o&&$(L,{children:[n("tr",{children:o.map(r=>n("th",{style:Fe,children:r}))}),n("tr",{children:Array.from(Array(a).keys()).map(r=>$("td",{style:bn,children:["(",r+1,")"]}))})]}),l]})]}),Se={borderStyle:"solid",border:"solid 1px black",margin:"auto",textAlign:"center",padding:"5px"},Gn=({artForm:e,artFormFinish:t,tabContentStyle:a,daftarArt:o,setDaftarArt:l,calculateKalori:r})=>{const c=C=>{},[d,s]=i.useState("0"),[u,h]=i.useState([]),[p,g]=i.useState([]),[k,b]=i.useState(!1),[S,y]=i.useState(!1),m=i.useRef(1),[f,A]=ue.useMessage(),O=async()=>{y(!0);const C=`Art-${m.current++}`;try{const{data:N}=await Z.post(route("entri.mak.art.store"),{nama:C,nomor_art:o.length+1,id_ruta:o[0].id_ruta}),I=[...o,{id:N.id,id_ruta:N.id_ruta,nomor_art:m.current++,nama:C,key:C,rekap:{12:{produksi:0,beli:0,total:0},13:{produksi:0,beli:0,total:0}}}];l([...I]),s(C)}catch(N){console.error("Error in add function:",N)}finally{y(!1)}},w=async C=>{const N=e.getFieldValue(`${C}-id_art`);if(C===0){f.open({content:"anggota ruta pertama tidak boleh dihapus,",type:"warning",key:N,duration:3});return}try{const{data:I}=await Z.delete(route("entri.mak.art.delete",{id_art:N})),x=o.filter(R=>R.id!==N);l(x),f.open({content:"Berhasil menghapus 1 anggota rumah tangga",type:"success",key:N})}catch(I){console.error("Error in add function:",I),f.open({content:`Terjadi galat ketika menghapus data, tunjukan code ini pada Developer (${I})`,type:"error",key:N,duration:3})}},_=H((C,N,I)=>{const x=[...o];x[C][N]=I.trim(),l(x)},1e3),v=rt.throttle(w,2e3);return i.useEffect(()=>{(async(I,x)=>{const{data:R}=await Z.get(route("api.mak.komoditas.list",{from:I,to:x})),U=R.map(K=>({nomor:K.id,kode_coicop:K.kode_coicop,rincian:K.nama_komoditas,satuan:K.satuan,type:K.type,subKey:K.id_kelompok,flagBasket:K.flag_basket}));g([...U])})(159,197),b(!1);const N=o.map((I,x)=>({label:I.nama,key:String(x),children:n(je,{onFinish:c,nomor_art:I.nomor_art,daftarArt:o,setDaftarArt:l,id_ruta:e.getFieldValue("id_ruta"),art:I,id_art:I.id,calculateKalori:r,konten:p})}));h([...N])},[]),$(B,{direction:"vertical",style:a,children:[A,n(Oe,{type:"primary",onClick:O,children:"Tambah Art"}),$(P,{name:"artForm",form:e,onFinish:t,children:[n(P.Item,{name:"id_ruta",hidden:!0,children:n(q,{})}),n(de,{title:"DAFTAR ANGGOTA RUMAH TANGGA",columns:["Nomor","Nama Anggota Rumah Tangga","aksi"],columnsCount:3,children:S?n("tr",{children:n("td",{colSpan:3,children:$(B,{style:{width:"100%",justifyContent:"center",marginTop:"30px"},direction:"vertical",children:[n(B,{style:{width:"100%",justifyContent:"center"},children:n(Ue,{size:"large"})}),n(B,{style:{width:"100%",justifyContent:"center"},children:"Menambahkan anggota rumah tangga..."})]})})}):o.map((C,N)=>$("tr",{children:[n("td",{style:Se,children:N+1}),$("td",{style:Se,children:[n(P.Item,{name:`${N}-id_art`,hidden:!0,children:n(q,{})}),n(P.Item,{name:`${N}-nama`,style:{margin:"auto"},children:n(q,{placeholder:"nama anggota rumah tangga",onChange:I=>_(N,"nama",I.target.value)})})]}),n("td",{style:Se,children:n(st,{placement:"topLeft",title:"apakah anda yakin akan menghapus art ini?",description:"hapus anggota rumah tangga",okText:"yakin dong",cancelText:"gajadi",onConfirm:()=>v(N),children:n(Oe,{disabled:N===0,children:"Hapus"})})})]},N))})]}),n(We,{style:{backgroundColor:"#fff",padding:"10px"},items:o.map((C,N)=>({label:C.nama,key:String(N),children:n(je,{onFinish:c,nomor_art:C.nomor_art,daftarArt:o,setDaftarArt:l,id_ruta:C.id_ruta,art:C,id_art:C.id,calculateKalori:r,konten:p})})),type:"line"})]})},He=({art:e,index:t,form:a,tipe:o})=>{const[l,r]=i.useState(!1),[c,d]=i.useState(!1),[s,u]=i.useState(!1),[h,p]=i.useState(!1);function g(){const k=e.rekap[13].beli,b=e.rekap[13].produksi,S=e.rekap[12].beli,y=e.rekap[12].produksi,m=a.getFieldValue(`blok4_31_${o=="individu"?t:"jumlah"}_mak_beli`)??0,f=a.getFieldValue(`blok4_31_${o=="individu"?t:"jumlah"}_mak_produksi`)??0,A=a.getFieldValue(`blok4_31_${o=="individu"?t:"jumlah"}_rokok_beli`)??0,O=a.getFieldValue(`blok4_31_${o=="individu"?t:"jumlah"}_rokok_produksi`)??0;u(k==A),p(b==O),r(S==m),d(y==f)}return i.useEffect(()=>{g()},[e.rekap[12].beli,e.rekap[12].produksi,e.rekap[13].beli,e.rekap[13].produksi]),$("tr",{children:[n("td",{style:G,children:o=="individu"?t+1:""}),n("td",{style:ee,children:o=="individu"?$(L,{children:[e.nama,n(P.Item,{name:o=="individu"?`blok4_31_${t}_id_art`:"",label:null,initialValue:o=="individu"?e.id:"",hidden:!0,children:n(q,{readOnly:!0})},`form-item-${t}`)," "]}):"JUMLAH"}),$("td",{style:J,children:[n(F,{inputName:`blok4_31_${o=="individu"?t:"jumlah"}_mak_beli`,initialValue:e.mak_beli,onChange:g,validateStatus:l?"":"error"}),n(M,{color:l?"green":"red",value:e.rekap[12].beli})]}),$("td",{style:J,children:[n(F,{inputName:`blok4_31_${o=="individu"?t:"jumlah"}_mak_produksi`,initialValue:e.mak_produksi,onChange:g,validateStatus:c?"":"error"}),n(M,{color:c?"green":"red",value:e.rekap[12].produksi})]}),$("td",{style:J,children:[n(F,{inputName:`blok4_31_${o=="individu"?t:"jumlah"}_rokok_beli`,initialValue:e.rokok_beli,onChange:g,validateStatus:s?"":"error"}),n(M,{color:s?"green":"red",value:e.rekap[13].beli})]}),$("td",{style:J,children:[n(F,{inputName:`blok4_31_${o=="individu"?t:"jumlah"}_rokok_produksi`,initialValue:e.rokok_produksi,onChange:g,validateStatus:h?"":"error"}),n(M,{color:h?"green":"red",value:e.rekap[13].produksi})]})]})},fn=({rincian:e,index:t,rekapMak:a,form:o,setRekapMak:l})=>{const r=k=>{let b=[...a];b[16].total=k,b[17].total=b[15].total+b[16].total,l(b)},[c,d]=i.useState(!1),[s,u]=i.useState(!1),[h,p]=i.useState(!1);function g(){const k=a[e.id-1].beli,b=a[e.id-1].produksi,S=a[e.id-1].total,y=o.getFieldValue(`blok4_32_${e.id-1}_beli`)??0,m=o.getFieldValue(`blok4_32_${e.id-1}_produksi`)??0,f=o.getFieldValue(`blok4_32_${e.id-1}_total`)??0;d(k==y),u(b==m),p(S==f),e.id==17&&r(f)}return i.useEffect(()=>{g()},[a[e.id-1].beli,a[e.id-1].produksi,a[e.id-1].total]),$("tr",{children:[n("td",{style:G,children:e.nomor}),n("td",{style:ee,children:e.rincian}),n("td",{style:J,children:e.id<16&&$(L,{children:[n(F,{inputName:`blok4_32_${e.id-1}_beli`,onChange:g,validateStatus:c?"":"error"},t),n(M,{color:c?"green":"red",value:a[e.id-1].beli},e.id)]})}),n("td",{style:J,children:e.id<16&&$(L,{children:[n(F,{inputName:`blok4_32_${e.id-1}_produksi`,onChange:g,validateStatus:s?"":"error"},t),n(M,{color:s?"green":"red",value:a[e.id-1].produksi},e.id)]})}),n("td",{style:J,children:$(L,{children:[n(F,{inputName:`blok4_32_${e.id-1}_total`,onChange:g,validateStatus:h?"":"error"},t),n(M,{color:h?"green":"red",value:a[e.id-1].total},e.id)]})})]})},Jn=({form:e,onFinish:t,tabContentStyle:a,rekapMak:o,setRekapMak:l,daftarArt:r,daftarRincian432:c})=>{const[d,s]=ue.useMessage(),[u,h]=i.useState({12:{beli:0,produksi:0,total:0},13:{beli:0,produksi:0,total:0}}),p=g=>{let k=g.reduce((b,S)=>(Object.values(S.rekap).forEach((y,m)=>{b[m]=b[m]||{beli:0,produksi:0,total:0},b[m].beli+=y.beli,b[m].produksi+=y.produksi,b[m].total+=y.total}),b),[]);return{12:k[0],13:k[1]}};return i.useEffect(()=>{let g=p(r);(async()=>{var S;const{data:b}=await Z.get(route("entri.mak.art.fetch",{id_ruta:(S=r[0])==null?void 0:S.id_ruta}));b.forEach((y,m)=>{e.setFieldValue(`blok4_31_${m}_id_art`,y.id)})})(),h(g),l(b=>{let S=[...b];return S[12]=g[12],S[13]=g[13],S[14]=S.slice(0,14).reduce((y,m)=>({beli:y.beli+m.beli,produksi:y.produksi+m.produksi,total:y.total+m.total}),{beli:0,produksi:0,total:0}),[...S]})},[r]),n(B,{direction:"vertical",style:a,children:$(P,{form:e,name:"Blok4_3",onFinish:t,autoComplete:"off",layout:"vertical",children:[$(de,{title:"BLOK IV.3.1. REKAPITULASI PENGELUARAN MAKANAN DAN MINUMAN JADI SERTA ROKOK SELURUH ANGGOTA RUMAH TANGGA (DALAM RUPIAH)",subtitle:"",columns:["No.","Nama ART","Makanan dan Minuman Jadi (Pembelian)","Makanan dan Minuman Jadi (Produksi sendiri, Pemberian, dsb)","Rokok dan Tembaku (Pembelian)","Rokok dan Tembaku (Produksi sendiri, Pemberian, dsb)"],columnsCount:6,children:[r.map((g,k)=>n(He,{art:g,index:k,form:e,tipe:"individu"},k)),r.length>0&&n(He,{art:{rekap:u},index:99,form:e,tipe:"jumlah"},99)]},1),n(ct,{}),n(de,{title:"BLOK IV.3.2. REKAPITULASI PENGELUARAN MAKANAN, MINUMAN, DAN ROKOK (DALAM RUPIAH)",subtitle:"[Kolom (3) Disalin dari Blok IV.1 Kolom (6), Blok IV.3.1 Kolom (3), atau (5)] dan [Kolom (4) Disalin dari Blok IV.1 Kolom (8), Blok IV.3.1 Kolom (4), atau (6)]",columnsCount:5,columns:["No.","Jenis Pengeluaran","Pembelian Seminggu Terakhir","Produksi Sendiri, Pemberian, dsb., Seminggu Terakhir","Total Seminggu Terakhir [Kolom 3 + Kolom 4]"],children:c.map((g,k)=>n(fn,{form:e,rincian:g,index:k,rekapMak:o,setRekapMak:l},k))},2),s]})})},Ke=({type:e,name:t,options:a,customKey:o,children:l,setValue:r,dependencies:c,rules:d})=>{const[s,u]=i.useState(""),[h,p]=i.useState(""),[g,k]=i.useState(!1),b=({getFieldValue:m},f,A,O,w,E)=>({validator(_,v,C){if(w&&(E=m(w)),!E)return u("Validasi error, contact admin!"),p(O),k(!1),Promise.resolve();let N=!0;return f=="less"?N=v<E:f=="equal"?N=v==E:f=="greater"?N=v>E:f=="less equal"?N=v<=E:f=="greater equal"&&(N=v>=E),console.log({value:v,dependentValue:E,test:N,ruleName:f}),v==null||N?(u(""),p(""),k(!1),Promise.resolve()):(u(A),p(O),k(!0),Promise.resolve())}});let S=[];if(d){const{ruleName:m,message:f,status:A,dependentName:O,dependentValue:w}=d;S=[({getFieldValue:E})=>b({getFieldValue:E},m,f,A,O,w)]}else S=[];return{number:n(P.Item,{name:t,label:null,dependencies:c,rules:S,validateStatus:h,help:s,hasFeedback:g,children:n(_e,{})}),binary:n(Ie,{name:t,options:[{label:"[1] YA",value:1},{label:"[5] TIDAK",value:5}],onChange:r&&(m=>r(m))}),rupiah:n(F,{inputName:t,editable:o===26}),multi:n(Ie,{name:t,options:a??[],onChange:r&&(m=>r(m))})}[e]},yn=({props:e,defaultValue:t})=>{const[a,o]=i.useState(t),[l,r]=i.useState([]),c=$(L,{children:[n("td",{style:G,children:e.nomor}),n("td",{style:ee,children:e.rincian})]});return i.useEffect(()=>{if(e.children){let d=e.children.filter((s,u)=>{let h=!1;return s.dependentValues&&s.dependentValues.forEach(p=>{p==a&&(h=!0)}),h}).map(s=>$("tr",{children:[n("td",{style:G}),n("td",{style:ee,children:s.rincian}),n("td",{style:G,children:n(Ke,{type:s.type,name:`wtf_${s.nomor}`,options:s.options,customKey:s.id,dependencies:s.dependencies,rules:s.rules},s.nomor)})]},e.id));r(d)}},[a,e.children]),$(L,{children:[$("tr",{style:{backgroundColor:e.id%2===0?" #fffae6":""},children:[c,n("td",{style:G,children:n(Ke,{type:e.type,name:`wtf_${e.id}`,options:e.options,customKey:e.id,children:e.children,setValue:o,dependencies:e.dependencies,rules:e.rules},e.id)})]}),l.map(d=>d)]})},{Text:kn,Title:$n}=le,Cn=[{id:1,nomor:1,rincian:"Jumlah ART (Blok III Rincian 301)",type:"number",rules:{ruleName:"greater equal",message:"Jumlah ART minimal satu",status:"error",dependentValue:1}},{id:2,nomor:2,rincian:"Jumlah Balita (R302)",type:"number",dependencies:["wtf_1"],rules:{ruleName:"less",message:"Jumlah Balita tidak boleh sama atau lebih dari jumlah ART",status:"error",dependentName:"wtf_1"}},{id:3,nomor:3,rincian:"Jumlah ART yang masih bersekolah (R1402=2)",type:"number",rules:{ruleName:"less equal",message:"Jumlah ART yang bersekolah tidak bisa melebihi jumlah ART",status:"error",dependentName:"wtf_1"}},{id:4,nomor:4,rincian:"Status Kepemilikan Bangunan Tempat Tinggal (R1901)",type:"multi",options:[{label:"Milik Sendiri",value:1},{label:"Kontrak/Sewa",value:2},{label:"Bebas Sewa",value:3},{label:"Dinas",value:4},{label:"Lainnya",value:99}]},{id:5,nomor:5,rincian:$("span",{children:["Luas Lantai per Kapita (m",n("sup",{children:"2"}),") (R1902)"]}),type:"number"},{id:6,nomor:6,rincian:"Sumber air minum (R1903)",type:"multi",options:[{label:"Air kemasan bermerek",value:1},{label:"Air isi ulang",value:2},{label:"Leding/sumur bor/pompa",value:3},{label:"Lainnya",value:99}]},{id:7,nomor:7,rincian:"Sumber air mandi/cuci/dll (R1904)",type:"multi",options:[{label:"Air kemasan bermerek",value:1},{label:"Air isi ulang",value:2},{label:"Leding/sumur bor/pompa",value:3},{label:"Lainnya",value:99}]},{id:8,nomor:8,rincian:"Apakah tercatat sebagai menerima PKH? (R2003a)",type:"binary",children:[{id:9,nomor:9,rincian:"Penggunaan PKH (R2003b)",type:"multi",dependentValues:[1],options:[{label:"Belanja Pangan",value:1},{label:"Biaya Sekolah",value:2},{label:"Pembayaran Utang/Kredit",value:3},{label:"Lainnya",value:99}]}]},{id:10,nomor:10,rincian:"Apakah ART menerima PIP?",type:"binary",children:[{id:11,nomor:11,dependentValues:[1],rincian:"berapa ART yang menerima PIP? (SD s.d. Kuliah)",type:"number",rules:{ruleName:"less equal",message:"Jumlah ART yang menerima PIP tidak bisa melebihi ART yang bersekolah",status:"warning",dependentName:"wtf_3"}}]},{id:26,nomor:"",rincian:"Garis Kemiskinan Maret 2024",type:"rupiah"}],Zn=({form:e,onFinish:t,tabContentStyle:a})=>$(B,{direction:"vertical",style:a,children:[n(B,{style:{width:"100%",justifyContent:"space-between"},direction:"horizontal"}),n(P,{form:e,name:"Worksheet",onFinish:t,autoComplete:"off",layout:"vertical",children:$("table",{style:{borderCollapse:"collapse",width:"100%"},children:[n("thead",{style:{backgroundColor:"#fc0",textAlign:"center"},children:n("tr",{children:n("td",{style:{borderStyle:"solid",border:"solid 1px black",padding:"5px"},colSpan:3,children:$(B,{direction:"vertical",children:[$($n,{level:4,style:{textTransform:"uppercase"},children:["Isian Worksheet Template"," "]}),n(kn,{children:"RINCIAN (Lihat Dokumen VSEN24.K)"})]})})})}),n("tbody",{children:Cn.map((r,c)=>n(yn,{props:r,defaultValue:e.getFieldValue(`wtf_${r.id}`)},c))})]})})]}),Sn=({rincian:e,row_index:t})=>$("tr",{style:{backgroundColor:e.editable?"#ffffcc":""},children:[n("td",{style:{...G,width:"30px"},children:t+1}),n("td",{style:{...ee,width:"auto"},children:e.rincian}),n("td",{style:{...ee,width:"150px",textAlign:"right"},children:e.id===5?n(L,{children:n(F,{inputName:`blokqc_${e.id}`},t)}):n(B,{direction:"vertical",children:n(P.Item,{name:`blokqc_${e.id}`,label:null,style:{marginBottom:"5px",textAlign:"center"},rules:e.rules,children:n(_e,{className:"custom-input-number",style:{textAlign:"right",width:"100%"},formatter:a=>{const o=Number(a)??0,l=o.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",");return e.dataType==="decimal"?l:String(o)}},t)})})})]},t),Xn=({form:e,onFinish:t,tabContentStyle:a,daftarQc:o})=>{const[l,r]=ue.useMessage();return n(B,{direction:"vertical",style:a,children:$(P,{form:e,name:"Blok4_3",onFinish:t,autoComplete:"off",layout:"vertical",children:[n(de,{title:"Quality Control",columnsCount:3,columns:["No.","Rincian","Isian"],children:o.map((c,d)=>n(Sn,{row_index:d,rincian:c},d))},2),r]})})};export{Wn as B,Mn as D,Zn as W,Gn as a,Jn as b,Xn as c,Dn as d};
