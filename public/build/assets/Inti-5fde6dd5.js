import{r as l,i as _,j as n,F as v,a,b as S,g as p,c as g}from"./app-e4c0373a.js";import{A as D}from"./AuthenticatedLayout-44da130b.js";import{E}from"./EntriIntiSearch-f69801d0.js";import{l as P}from"./lodash-8ec4aa93.js";import{F as $}from"./index-48211e2c.js";import{m as j}from"./index-8ef62069.js";import{S as u}from"./index-c5e6a5b8.js";import{B as h}from"./index-dfc0fd1d.js";import{A as w}from"./AntdIcon-afd26e9a.js";import{T}from"./Table-d60d420f.js";import{E as V,D as A}from"./EditFilled-e1e54b1b.js";import{P as B}from"./index-ce431e94.js";import"./Sider-dc1ae08f.js";import"./LeftOutlined-afb6c5bd.js";import"./index-0939f339.js";import"./useForceUpdate-e1e6d3ff.js";import"./responsiveObserver-2bf891d6.js";import"./EllipsisOutlined-70edf86c.js";import"./Overflow-cda08727.js";import"./Keyframes-f3b01d4a.js";import"./useFlexGapSupport-95c54203.js";import"./KeyCode-6413d982.js";import"./EditOutlined-0f9afd6f.js";import"./index-c5cb5dc2.js";import"./index-ef5c41f7.js";import"./index-2d296126.js";import"./pickAttrs-afa7e219.js";import"./TextArea-3d18e405.js";import"./CheckOutlined-b439785a.js";import"./CloseOutlined-4c670781.js";import"./index-5588b2d3.js";import"./EyeOutlined-586f8865.js";import"./ReloadOutlined-95d06b7a.js";import"./ExclamationCircleFilled-de59073a.js";import"./InfoCircleFilled-83407cbf.js";import"./styleChecker-6f819655.js";import"./addEventListener-96c9f86c.js";import"./Dropdown-bc5e882c.js";import"./ActionButton-e86323ad.js";var O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};const M=O;var N=function(s,d){return l.createElement(w,_({},s,{ref:d,icon:M}))};const H=l.forwardRef(N),K=({data_susenas:r,nks:s,kode_kabkot:d,semester:k})=>{l.useEffect(()=>{console.log({semester:k}),s&&d&&i.setFieldsValue({nks:s,kode_kabkot:d,semester:k}),r.length>0&&c(r)},[]);const[i]=$.useForm(),[f,c]=l.useState([]),[o,y]=j.useMessage(),x=async t=>{o.open({type:"loading",key:"cari",content:"Memuat Data"});try{const e=route("api.entri.mak",t),{data:m}=await g.get(e);c(m.data),o.open({type:"success",key:"cari",content:"Berhasil mengambil data"})}catch{o.open({type:"error",key:"cari",content:"Oops terjadi kesalahan, silahkan hubungi admin"})}},b=async t=>{try{const{data:e}=await g.delete(route("entri.mak.delete",{id_ruta:t}));o.open({content:"Berhasil menghapus 1 anggota rumah tangga",type:"success",key:"hapus-ruta"}),p.get(route("entri",{kode_kabkot:i.getFieldValue("kode_kabkot"),nks:i.getFieldValue("nks")}))}catch(e){o.open({content:`Terjadi galat ketika menghapus data, tunjukan code ini pada Developer (${e})`,type:"error",key:"hapus-ruta",duration:3})}},F=P.throttle(b,2e3),C={clean:"green",error:"red",warning:"rgb(255, 204, 0)",entri:"#fff"},I=[{title:"No",dataIndex:"id",key:"id",render:(t,e,m)=>m+1},{title:"Kecamatan",dataIndex:"kec",key:"kec",render:(t,e)=>`[${e.kode_kec}] ${e.kec}`},{title:"Desa",dataIndex:"desa",key:"desa",render:(t,e)=>`[${e.kode_desa}] ${e.desa}`},{title:"Blok Sensus",dataIndex:"kode_bs4",key:"kode_bs4"},{title:"No Urut Sampel",dataIndex:"r109",key:"r109"},{title:"Nama KRT",dataIndex:"r110",key:"r110"},{title:"Alamat",dataIndex:"r111",key:"r111"},{title:"Nama PML",dataIndex:"nama_lengkap",key:"nama_lengkap"},{title:"Status",dataIndex:"status_dok",key:"status_dok",render:t=>a(u,{style:{backgroundColor:C[t],fontWeight:600,color:"#fff",padding:"5px 10px",borderRadius:"5px"},children:t})},{title:"Entri",dataIndex:"entri",key:"entri",render:(t,e)=>n(h,{type:"primary",onClick:()=>p.get(`${route("entri.mak.edit",{id:e.id})}`),children:[a(V,{})," entri"]})},{title:"Delete",dataIndex:"entri",key:"entri",render:(t,e)=>a(B,{placement:"topLeft",title:"apakah anda yakin akan menghapus ruta ini?",description:"hapus anggota rumah tangga",okText:"yakin dong",cancelText:"nyanda",onConfirm:()=>F(e.id),children:n(h,{type:"default",children:[a(A,{})," hapus"]})})}];return n(v,{children:[y,a(S,{title:"Entri Kuesioner Inti"}),n(u,{style:{backgroundColor:"#fff",width:"100%",minHeight:"300px",padding:"10px 15px"},direction:"vertical",children:[a(E,{setDataSource:c,form:i,onFinish:x}),a(u,{style:{width:"100%",justifyContent:"end"},children:n(h,{type:"primary",disabled:!i.getFieldValue("nks"),onClick:()=>{try{p.visit(route("entri.mak.create",i.getFieldsValue()))}catch{console.log("hoho")}},children:[a(H,{})," Tambah Ruta"]})}),a(T,{dataSource:f,columns:I}),";"]})]})};K.layout=r=>a(D,{user:r.props.auth.user,header:a("h2",{className:"",children:"Dashboard"}),selectedKey:"entri",children:r});export{K as default};
