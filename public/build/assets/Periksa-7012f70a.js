import{r as d,a as o,j as c,F as f,b as S}from"./app-cade510b.js";import{A as j}from"./AuthenticatedLayout-2e91c2e1.js";import{T as u}from"./TextRupiah-f2720f0c.js";import{c as r}from"./ColumnSorter-93532ebd.js";import{S as b}from"./index-efbdf8f9.js";import{B as g}from"./index-beeaf8d9.js";import{T as I}from"./Table-675fb605.js";import{T}from"./index-821a731c.js";import{E as v}from"./ExportOutlined-ea482430.js";import"./Sider-26ba9cdb.js";import"./AntdIcon-da8305e3.js";import"./LeftOutlined-a53789c4.js";import"./index-c911b603.js";import"./useForceUpdate-a75d9b98.js";import"./responsiveObserver-bed5db2e.js";import"./EllipsisOutlined-7069c36e.js";import"./Overflow-133b988e.js";import"./Keyframes-24838d9a.js";import"./useFlexGapSupport-8646280d.js";import"./KeyCode-6413d982.js";import"./EditOutlined-229e823d.js";import"./index-e3d5dafc.js";import"./index-af8f5ca6.js";import"./styleChecker-9cc21804.js";import"./pickAttrs-01b563d9.js";import"./addEventListener-61db0605.js";import"./index-f9258c5c.js";import"./TextArea-9a7525ca.js";import"./CloseCircleFilled-a13e8288.js";import"./CheckOutlined-c54abbe5.js";import"./CloseOutlined-0d8c520e.js";import"./index-b9cc14aa.js";import"./EyeOutlined-a718312b.js";import"./Dropdown-531b1aaa.js";import"./Title-821d3901.js";const{Title:B}=T,C=(a,n)=>{const l=a.map(i=>i.title).join(";")+`
`+n.map(i=>a.map(s=>i[s.dataIndex]).join(";")).join(`
`),m=new Blob([l],{type:"text/csv"}),e=document.createElement("a");e.href=URL.createObjectURL(m),e.download="export.csv",document.body.appendChild(e),e.click(),document.body.removeChild(e)},N=({data:a})=>{const[n,l]=d.useState([]);d.useEffect(()=>{l(a)},[]);const m=r("jumlah_art"),e=r("nks"),i=r("r109"),s=r("blok4_32_15_total"),_=r("blok4_32_16_total"),h=r("blokqc_sum"),x=r("blokqc_3"),k=new Set,p=[{title:"Kode Kabupaten/Kota",dataIndex:"kode_kabkot",key:"kode_kabkot",filters:n.filter(t=>!k.has(t.kode_kabkot)&&k.add(t.kode_kabkot)).map(t=>({text:t.kode_kabkot,value:t.kode_kabkot})),onFilter:(t,y)=>y.kode_kabkot===t},{title:"NKS",dataIndex:"nks",key:"nks",sorter:e},{title:"Nomor Urut Sampel Rumah Tangga",dataIndex:"r109",key:"r109",sorter:i},{title:"Jumlah Art",dataIndex:"jumlah_art",key:"jumlah_art",sorter:m},{title:"Jumlah Pengeluaran Makanan (Blok IV.3.2 rincian 16)",dataIndex:"blok4_32_15_total",key:"blok4_32_15_total",render:t=>o(u,{color:"#000",value:t??0}),sorter:s},{title:"Jumlah Pengeluaran Non Makanan (Blok IV.3.2 rincian 17)",dataIndex:"blok4_32_16_total",key:"blok4_32_16_total",render:t=>o(u,{color:"#000",value:t??0}),sorter:_},{title:"Jumlah Komoditas Bahan Makanan + Makanan Jadi/Rokok (Blok QC No. 3 + 4)",dataIndex:"blokqc_sum",key:"blokqc_sum",sorter:h},{title:"Jumlah Komoditas Non Makanan (Blok QC No. 5)",dataIndex:"blokqc_3",key:"blokqc_3",sorter:x}];return c(f,{children:[o(S,{title:"Periksa"}),o(B,{level:2,children:"Progress pendataan menurut Ruta "}),o(b,{style:{marginBottom:"10px",marginTop:"10px",width:"100%",justifyContent:"end"},children:c(g,{type:"primary",onClick:()=>C(p,n),children:[o(v,{}),"Export as CSV"]})}),o(b,{style:{backgroundColor:"#fff",width:"100%",minHeight:"300px",padding:"10px 15px"},direction:"vertical",children:o(I,{columns:p,dataSource:n,scroll:{x:"100%"}})})]})};N.layout=a=>o(j,{user:a.props.auth.user,header:o("h2",{className:"",children:"Periksa"}),selectedKey:"periksa",children:a});export{N as default};
