import{r as p,j as r,F as b,a as t,b as x,g as d,c as S}from"./app-56f5b824.js";import{A}from"./AuthenticatedLayout-741b04e4.js";import{A as F,S as w,B as j}from"./Blok1_2-84233b74.js";import{F as B}from"./index-2acae938.js";import{m as C}from"./index-fbef3bc5.js";import{S as m}from"./index-e6c450f2.js";import{B as l}from"./TextArea-aff3433e.js";import"./Sider-aa9a0c67.js";import"./AntdIcon-b59394c2.js";import"./index-50c92398.js";import"./KeyCode-6413d982.js";import"./index-00c0544c.js";import"./debounce-15aaa20b.js";import"./index-abd961d1.js";import"./addEventListener-cf8e0a30.js";import"./CheckOutlined-23dfc838.js";import"./CloseOutlined-fd6c9ab0.js";import"./index-b88856cf.js";import"./index-b879bfca.js";import"./index-d68dbd21.js";import"./index-405575dd.js";import"./index-970db40a.js";const _=({identitas_wilayah:o,semester:u})=>{const h={backgroundColor:"#fff",paddingLeft:"10px",paddingRight:"10px",paddingBottom:"15px",width:"100%"},[i]=B.useForm(),[n,k]=p.useState(null),[L,y]=p.useState([{id_ruta:"",id_art:"",nama:"Art-0",key:"Art-0",rekap:[{produksi:0,beli:0,total:0},{produksi:0,beli:0,total:0}]}]),[a,g]=C.useMessage(),f=async e=>{a.open({type:"loading",key:"cari",content:"Menyimpan data..."});try{const c=route("entri.mak.store");e.semester=u;const{data:s}=await S.post(c,e,{headers:{"Content-Type":"application/json"}});if(s.status==="error"){a.open({type:"error",key:"cari",content:s.message});return}a.open({type:"success",key:"cari",content:"Berhasil menyimpan"}),d.get(route("entri.mak.edit",{id:s.id}))}catch{a.open({type:"error",key:"cari",content:"Oops terjadi kesalahan, silahkan hubungi admin"})}};return r(b,{children:[g,t(x,{title:"Entri Kuesioner Inti"}),r(m,{style:{width:"100%",minHeight:"300px",padding:"10px 15px"},direction:"vertical",children:[t(m,{children:r(l,{onClick:()=>d.get(route("entri",{kode_kabkot:i.getFieldValue("kode_kabkot"),nks:i.getFieldValue("nks")})),children:[t(F,{})," Kembali"]})}),r(m,{direction:"horizontal",style:{width:"100%",justifyContent:"end"},children:["Last Saved :",(n==null?void 0:n.toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}))||"Never",r(l,{onClick:async()=>{try{const[e]=await Promise.all([i.submit()]);k(new Date)}catch(e){console.error("Error submitting forms:",e)}},children:[t(w,{})," Simpan"]})]}),t(j,{tabContentStyle:h,form:i,onFinish:f,setDaftarArt:y,editable:!0,identitas_wilayah:o})]})]})};_.layout=o=>t(A,{user:o.props.auth.user,header:t("h2",{className:"",children:"Dashboard"}),selectedKey:"entri",children:o});export{_ as default};
