import{e as Ae,r,C as W,f as I,h as st,o as _e,_ as ze,i as ct,a as n,j as k,F as L,c as J}from"./app-f345a554.js";import{K as Z,g as Ee,i as De,c as Me,B as Oe}from"./useFlexGapSupport-082b9dcd.js";import{g as Le,m as qe,A as We}from"./AntdIcon-b72ae16a.js";import{_ as H}from"./debounce-bcba8e83.js";import{S as P}from"./index-833ea33d.js";import{T as oe}from"./index-8cb260c7.js";import{m as de}from"./index-7ee0a360.js";import{F as T}from"./index-907cbbf9.js";import{I as q}from"./index-09023541.js";import{T as Ue}from"./index-89665dd5.js";import{R as F}from"./RupiahInput-0c03d8b7.js";import{T as M}from"./TextRupiah-d29ba56b.js";import{I as ve}from"./index-0796e3aa.js";import{S as Ge}from"./Table-0625b115.js";import{l as dt}from"./lodash-43cb9dd6.js";import{P as ut}from"./index-e29b2c34.js";import{c as Je,a as Ze,r as G}from"./CONSTANT-b7a876ac.js";import{D as mt}from"./index-0e761046.js";import{M as Ie}from"./Blok1_2-8039caf4.js";const gt=new Z("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),ht=new Z("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),pt=new Z("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),bt=new Z("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),ft=new Z("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),yt=new Z("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),kt=e=>{const{componentCls:t,iconCls:a,antCls:o,badgeFontHeight:l,badgeShadowSize:i,badgeHeightSm:c,motionDurationSlow:u,badgeStatusSize:s,marginXS:d,badgeRibbonOffset:m}=e,p=`${o}-scroll-number`,g=`${o}-ribbon`,$=`${o}-ribbon-wrapper`,b=Ee(e,(f,h)=>{let{darkColor:y}=h;return{[`${t}-color-${f}`]:{background:y}}}),S=Ee(e,(f,h)=>{let{darkColor:y}=h;return{[`&${g}-color-${f}`]:{background:y,color:y}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},Ae(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{zIndex:e.badgeZIndex,minWidth:e.badgeHeight,height:e.badgeHeight,color:e.badgeTextColor,fontWeight:e.badgeFontWeight,fontSize:e.badgeFontSize,lineHeight:`${e.badgeHeight}px`,whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:e.badgeHeight/2,boxShadow:`0 0 0 ${i}px ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:c,height:c,fontSize:e.badgeFontSizeSm,lineHeight:`${c}px`,borderRadius:c/2},[`${t}-multiple-words`]:{padding:`0 ${e.paddingXS}px`},[`${t}-dot`]:{zIndex:e.badgeZIndex,width:e.badgeDotSize,minWidth:e.badgeDotSize,height:e.badgeDotSize,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${i}px ${e.badgeShadowColor}`},[`${t}-dot${p}`]:{transition:`background ${u}`},[`${t}-count, ${t}-dot, ${p}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${a}-spin`]:{animationName:yt,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:s,height:s,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{position:"relative",color:e.colorPrimary,backgroundColor:e.colorPrimary,"&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:i,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:gt,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:d,color:e.colorText,fontSize:e.fontSize}}}),b),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:ht,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:pt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:bt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:ft,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${p}-custom-component, ${t}-count`]:{transform:"none"},[`${p}-custom-component, ${p}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[`${p}`]:{overflow:"hidden",[`${p}-only`]:{position:"relative",display:"inline-block",height:e.badgeHeight,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${p}-only-unit`]:{height:e.badgeHeight,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${p}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${p}-custom-component`]:{transform:"translate(-50%, -50%)"}}}),[`${$}`]:{position:"relative"},[`${g}`]:Object.assign(Object.assign(Object.assign(Object.assign({},Ae(e)),{position:"absolute",top:d,padding:`0 ${e.paddingXS}px`,color:e.colorPrimary,lineHeight:`${l}px`,whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${g}-text`]:{color:e.colorTextLightSolid},[`${g}-corner`]:{position:"absolute",top:"100%",width:m,height:m,color:"currentcolor",border:`${m/2}px solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),S),{[`&${g}-placement-end`]:{insetInlineEnd:-m,borderEndEndRadius:0,[`${g}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${g}-placement-start`]:{insetInlineStart:-m,borderEndStartRadius:0,[`${g}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},Xe=Le("Badge",e=>{const{fontSize:t,lineHeight:a,fontSizeSM:o,lineWidth:l,marginXS:i,colorBorderBg:c}=e,u=Math.round(t*a),s=l,d="auto",m=u-2*s,p=e.colorBgContainer,g="normal",$=o,b=e.colorError,S=e.colorErrorHover,f=t,h=o/2,y=o,A=o/2,R=qe(e,{badgeFontHeight:u,badgeShadowSize:s,badgeZIndex:d,badgeHeight:m,badgeTextColor:p,badgeFontWeight:g,badgeFontSize:$,badgeColor:b,badgeColorHover:S,badgeShadowColor:c,badgeHeightSm:f,badgeDotSize:h,badgeFontSizeSm:y,badgeStatusSize:A,badgeProcessingDuration:"1.2s",badgeRibbonOffset:i,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"});return[kt(R)]}),$t=e=>{let{className:t,prefixCls:a,style:o,color:l,children:i,text:c,placement:u="end"}=e;const{getPrefixCls:s,direction:d}=r.useContext(W),m=s("ribbon",a),p=De(l,!1),g=I(m,`${m}-placement-${u}`,{[`${m}-rtl`]:d==="rtl",[`${m}-color-${l}`]:p},t),[$,b]=Xe(m),S={},f={};return l&&!p&&(S.background=l,f.color=l),$(r.createElement("div",{className:I(`${m}-wrapper`,b)},i,r.createElement("div",{className:I(g,b),style:Object.assign(Object.assign({},S),o)},r.createElement("span",{className:`${m}-text`},c),r.createElement("div",{className:`${m}-corner`,style:f}))))},Ct=$t;function Re(e){let{prefixCls:t,value:a,current:o,offset:l=0}=e,i;return l&&(i={position:"absolute",top:`${l}00%`,left:0}),r.createElement("span",{style:i,className:I(`${t}-only-unit`,{current:o})},a)}function St(e,t,a){let o=e,l=0;for(;(o+10)%10!==t;)o+=a,l+=a;return l}function _t(e){const{prefixCls:t,count:a,value:o}=e,l=Number(o),i=Math.abs(a),[c,u]=r.useState(l),[s,d]=r.useState(i),m=()=>{u(l),d(i)};r.useEffect(()=>{const $=setTimeout(()=>{m()},1e3);return()=>{clearTimeout($)}},[l]);let p,g;if(c===l||Number.isNaN(l)||Number.isNaN(c))p=[r.createElement(Re,Object.assign({},e,{key:l,current:!0}))],g={transition:"none"};else{p=[];const $=l+10,b=[];for(let h=l;h<=$;h+=1)b.push(h);const S=b.findIndex(h=>h%10===c);p=b.map((h,y)=>{const A=h%10;return r.createElement(Re,Object.assign({},e,{key:h,value:A,offset:y-S,current:y===S}))});const f=s<i?1:-1;g={transform:`translateY(${-St(c,l,f)}00%)`}}return r.createElement("span",{className:`${t}-only`,style:g,onTransitionEnd:m},p)}var vt=globalThis&&globalThis.__rest||function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]]);return a};const Nt=r.forwardRef((e,t)=>{var{prefixCls:a,count:o,className:l,motionClassName:i,style:c,title:u,show:s,component:d="sup",children:m}=e,p=vt(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]);const{getPrefixCls:g}=r.useContext(W),$=g("scroll-number",a),b=Object.assign(Object.assign({},p),{"data-show":s,style:c,className:I($,l,i),title:u});let S=o;if(o&&Number(o)%1===0){const f=String(o).split("");S=f.map((h,y)=>r.createElement(_t,{prefixCls:$,count:Number(o),value:h,key:f.length-y}))}return c&&c.borderColor&&(b.style=Object.assign(Object.assign({},c),{boxShadow:`0 0 0 1px ${c.borderColor} inset`})),m?Me(m,f=>({className:I(`${$}-custom-component`,f==null?void 0:f.className,i)})):r.createElement(d,Object.assign({},b,{ref:t}),S)}),xt=Nt;var wt=globalThis&&globalThis.__rest||function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]]);return a};const At=(e,t)=>{const{prefixCls:a,scrollNumberPrefixCls:o,children:l,status:i,text:c,color:u,count:s=null,overflowCount:d=99,dot:m=!1,size:p="default",title:g,offset:$,style:b,className:S,rootClassName:f,showZero:h=!1}=e,y=wt(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","showZero"]),{getPrefixCls:A,direction:R}=r.useContext(W),w=A("badge",a),[j,_]=Xe(w),N=s>d?`${d}+`:s,C=N==="0"||N===0,x=s===null||C&&!h,E=(i!=null||u!=null)&&x,v=m&&!C,O=v?"":N,U=r.useMemo(()=>(O==null||O===""||C&&!h)&&!v,[O,C,h,v]),V=r.useRef(s);U||(V.current=s);const X=V.current,Ne=r.useRef(O);U||(Ne.current=O);const ge=Ne.current,xe=r.useRef(v);U||(xe.current=v);const ae=r.useMemo(()=>{if(!$)return Object.assign({},b);const K={marginTop:$[1]};return R==="rtl"?K.left=parseInt($[0],10):K.right=-parseInt($[0],10),Object.assign(Object.assign({},K),b)},[R,$,b]),et=g??(typeof X=="string"||typeof X=="number"?X:void 0),tt=U||!c?null:r.createElement("span",{className:`${w}-status-text`},c),nt=!X||typeof X!="object"?void 0:Me(X,K=>({style:Object.assign(Object.assign({},ae),K.style)})),le=De(u,!1),ot=I({[`${w}-status-dot`]:E,[`${w}-status-${i}`]:!!i,[`${w}-color-${u}`]:le}),he={};u&&!le&&(he.color=u,he.background=u);const we=I(w,{[`${w}-status`]:E,[`${w}-not-a-wrapper`]:!l,[`${w}-rtl`]:R==="rtl"},S,f,_);if(!l&&E){const K=ae.color;return j(r.createElement("span",Object.assign({},y,{className:we,style:ae}),r.createElement("span",{className:ot,style:he}),c&&r.createElement("span",{style:{color:K},className:`${w}-status-text`},c)))}return j(r.createElement("span",Object.assign({ref:t},y,{className:we}),l,r.createElement(st,{visible:!U,motionName:`${w}-zoom`,motionAppear:!1,motionDeadline:1e3},K=>{let{className:at,ref:lt}=K;const it=A("scroll-number",o),pe=xe.current,rt=I({[`${w}-dot`]:pe,[`${w}-count`]:!pe,[`${w}-count-sm`]:p==="small",[`${w}-multiple-words`]:!pe&&ge&&ge.toString().length>1,[`${w}-status-${i}`]:!!i,[`${w}-color-${u}`]:le});let ie=Object.assign({},ae);return u&&!le&&(ie=ie||{},ie.background=u),r.createElement(xt,{prefixCls:it,show:!U,motionClassName:at,className:rt,count:ge,title:et,style:ie,key:"scrollNumber",ref:lt},nt)}),tt))},Ye=r.forwardRef(At);Ye.Ribbon=Ct;const Ln=Ye,Et=e=>{const{prefixCls:t,className:a,style:o,size:l,shape:i}=e,c=I({[`${t}-lg`]:l==="large",[`${t}-sm`]:l==="small"}),u=I({[`${t}-circle`]:i==="circle",[`${t}-square`]:i==="square",[`${t}-round`]:i==="round"}),s=r.useMemo(()=>typeof l=="number"?{width:l,height:l,lineHeight:`${l}px`}:{},[l]);return r.createElement("span",{className:I(t,c,u,a),style:Object.assign(Object.assign({},s),o)})},ue=Et,Ot=new Z("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),me=e=>({height:e,lineHeight:`${e}px`}),Y=e=>Object.assign({width:e},me(e)),It=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Ot,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),be=e=>Object.assign({width:e*5,minWidth:e*5},me(e)),Rt=e=>{const{skeletonAvatarCls:t,gradientFromColor:a,controlHeight:o,controlHeightLG:l,controlHeightSM:i}=e;return{[`${t}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:a},Y(o)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},Y(l)),[`${t}${t}-sm`]:Object.assign({},Y(i))}},Tt=e=>{const{controlHeight:t,borderRadiusSM:a,skeletonInputCls:o,controlHeightLG:l,controlHeightSM:i,gradientFromColor:c}=e;return{[`${o}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:c,borderRadius:a},be(t)),[`${o}-lg`]:Object.assign({},be(l)),[`${o}-sm`]:Object.assign({},be(i))}},Te=e=>Object.assign({width:e},me(e)),Pt=e=>{const{skeletonImageCls:t,imageSizeBase:a,gradientFromColor:o,borderRadiusSM:l}=e;return{[`${t}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:o,borderRadius:l},Te(a*2)),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},Te(a)),{maxWidth:a*4,maxHeight:a*4}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},fe=(e,t,a)=>{const{skeletonButtonCls:o}=e;return{[`${a}${o}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${a}${o}-round`]:{borderRadius:t}}},ye=e=>Object.assign({width:e*2,minWidth:e*2},me(e)),jt=e=>{const{borderRadiusSM:t,skeletonButtonCls:a,controlHeight:o,controlHeightLG:l,controlHeightSM:i,gradientFromColor:c}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${a}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:c,borderRadius:t,width:o*2,minWidth:o*2},ye(o))},fe(e,o,a)),{[`${a}-lg`]:Object.assign({},ye(l))}),fe(e,l,`${a}-lg`)),{[`${a}-sm`]:Object.assign({},ye(i))}),fe(e,i,`${a}-sm`))},Bt=e=>{const{componentCls:t,skeletonAvatarCls:a,skeletonTitleCls:o,skeletonParagraphCls:l,skeletonButtonCls:i,skeletonInputCls:c,skeletonImageCls:u,controlHeight:s,controlHeightLG:d,controlHeightSM:m,gradientFromColor:p,padding:g,marginSM:$,borderRadius:b,titleHeight:S,blockRadius:f,paragraphLiHeight:h,controlHeightXS:y,paragraphMarginTop:A}=e;return{[`${t}`]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:g,verticalAlign:"top",[`${a}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:p},Y(s)),[`${a}-circle`]:{borderRadius:"50%"},[`${a}-lg`]:Object.assign({},Y(d)),[`${a}-sm`]:Object.assign({},Y(m))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${o}`]:{width:"100%",height:S,background:p,borderRadius:f,[`+ ${l}`]:{marginBlockStart:m}},[`${l}`]:{padding:0,"> li":{width:"100%",height:h,listStyle:"none",background:p,borderRadius:f,"+ li":{marginBlockStart:y}}},[`${l}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${o}, ${l} > li`]:{borderRadius:b}}},[`${t}-with-avatar ${t}-content`]:{[`${o}`]:{marginBlockStart:$,[`+ ${l}`]:{marginBlockStart:A}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},jt(e)),Rt(e)),Tt(e)),Pt(e)),[`${t}${t}-block`]:{width:"100%",[`${i}`]:{width:"100%"},[`${c}`]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${o},
        ${l} > li,
        ${a},
        ${i},
        ${c},
        ${u}
      `]:Object.assign({},It(e))}}},Q=Le("Skeleton",e=>{const{componentCls:t}=e,a=qe(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:e.controlHeight*1.5,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[Bt(a)]},e=>{const{colorFillContent:t,colorFill:a}=e,o=t,l=a;return{color:o,colorGradientEnd:l,gradientFromColor:o,gradientToColor:l,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}},{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Ft=e=>{const{prefixCls:t,className:a,rootClassName:o,active:l,shape:i="circle",size:c="default"}=e,{getPrefixCls:u}=r.useContext(W),s=u("skeleton",t),[d,m]=Q(s),p=_e(e,["prefixCls","className"]),g=I(s,`${s}-element`,{[`${s}-active`]:l},a,o,m);return d(r.createElement("div",{className:g},r.createElement(ue,Object.assign({prefixCls:`${s}-avatar`,shape:i,size:c},p))))},Ht=Ft,Vt=e=>{const{prefixCls:t,className:a,rootClassName:o,active:l,block:i=!1,size:c="default"}=e,{getPrefixCls:u}=r.useContext(W),s=u("skeleton",t),[d,m]=Q(s),p=_e(e,["prefixCls"]),g=I(s,`${s}-element`,{[`${s}-active`]:l,[`${s}-block`]:i},a,o,m);return d(r.createElement("div",{className:g},r.createElement(ue,Object.assign({prefixCls:`${s}-button`,size:c},p))))},Kt=Vt;var zt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const Dt=zt;var Mt=function(t,a){return r.createElement(We,ze({},t,{ref:a,icon:Dt}))};const Lt=r.forwardRef(Mt),qt=e=>{const{prefixCls:t,className:a,rootClassName:o,style:l,active:i,children:c}=e,{getPrefixCls:u}=r.useContext(W),s=u("skeleton",t),[d,m]=Q(s),p=I(s,`${s}-element`,{[`${s}-active`]:i},m,a,o),g=c??r.createElement(Lt,null);return d(r.createElement("div",{className:p},r.createElement("div",{className:I(`${s}-image`,a),style:l},g)))},Wt=qt,Ut="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Gt=e=>{const{prefixCls:t,className:a,rootClassName:o,style:l,active:i}=e,{getPrefixCls:c}=r.useContext(W),u=c("skeleton",t),[s,d]=Q(u),m=I(u,`${u}-element`,{[`${u}-active`]:i},a,o,d);return s(r.createElement("div",{className:m},r.createElement("div",{className:I(`${u}-image`,a),style:l},r.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${u}-image-svg`},r.createElement("path",{d:Ut,className:`${u}-image-path`})))))},Jt=Gt,Zt=e=>{const{prefixCls:t,className:a,rootClassName:o,active:l,block:i,size:c="default"}=e,{getPrefixCls:u}=r.useContext(W),s=u("skeleton",t),[d,m]=Q(s),p=_e(e,["prefixCls"]),g=I(s,`${s}-element`,{[`${s}-active`]:l,[`${s}-block`]:i},a,o,m);return d(r.createElement("div",{className:g},r.createElement(ue,Object.assign({prefixCls:`${s}-input`,size:c},p))))},Xt=Zt,Yt=e=>{const t=u=>{const{width:s,rows:d=2}=e;if(Array.isArray(s))return s[u];if(d-1===u)return s},{prefixCls:a,className:o,style:l,rows:i}=e,c=ct(Array(i)).map((u,s)=>r.createElement("li",{key:s,style:{width:t(s)}}));return r.createElement("ul",{className:I(a,o),style:l},c)},Qt=Yt,en=e=>{let{prefixCls:t,className:a,width:o,style:l}=e;return r.createElement("h3",{className:I(t,a),style:Object.assign({width:o},l)})},tn=en;function ke(e){return e&&typeof e=="object"?e:{}}function nn(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function on(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function an(e,t){const a={};return(!e||!t)&&(a.width="61%"),!e&&t?a.rows=3:a.rows=2,a}const ee=e=>{const{prefixCls:t,loading:a,className:o,rootClassName:l,style:i,children:c,avatar:u=!1,title:s=!0,paragraph:d=!0,active:m,round:p}=e,{getPrefixCls:g,direction:$}=r.useContext(W),b=g("skeleton",t),[S,f]=Q(b);if(a||!("loading"in e)){const h=!!u,y=!!s,A=!!d;let R;if(h){const _=Object.assign(Object.assign({prefixCls:`${b}-avatar`},nn(y,A)),ke(u));R=r.createElement("div",{className:`${b}-header`},r.createElement(ue,Object.assign({},_)))}let w;if(y||A){let _;if(y){const C=Object.assign(Object.assign({prefixCls:`${b}-title`},on(h,A)),ke(s));_=r.createElement(tn,Object.assign({},C))}let N;if(A){const C=Object.assign(Object.assign({prefixCls:`${b}-paragraph`},an(h,y)),ke(d));N=r.createElement(Qt,Object.assign({},C))}w=r.createElement("div",{className:`${b}-content`},_,N)}const j=I(b,{[`${b}-with-avatar`]:h,[`${b}-active`]:m,[`${b}-rtl`]:$==="rtl",[`${b}-round`]:p},o,l,f);return S(r.createElement("div",{className:j,style:i},R,w))}return typeof c<"u"?c:null};ee.Button=Kt;ee.Avatar=Ht;ee.Input=Xt;ee.Image=Jt;ee.Node=Wt;const ln=ee;var rn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z"}}]},name:"dollar",theme:"outlined"};const sn=rn;var cn=function(t,a){return r.createElement(We,ze({},t,{ref:a,icon:sn}))};const qn=r.forwardRef(cn),se=({inputName:e,onChange:t,initialValue:a,editable:o,validateStatus:l})=>{const[i,c]=r.useState(0),u=d=>{c(d)},s=H(d=>{u(d),t&&t(d)},600);return n(T.Item,{name:e,initialValue:a??void 0,style:{marginBottom:"4px"},validateStatus:l,children:n(ve,{className:"custom-input-number",readOnly:o||!1,min:0,step:.01,formatter:d=>d&&d>0?`${d}`.replace(/\B(?=(\d{3})+(?!\d))/g,","):"",parser:d=>{const m=parseFloat(String(d).replace(/[^\d.]/g,""));return isNaN(m)?0:m},value:i,onChange:d=>{s(d)}})})},Pe={backgroundColor:"#fc0",fontWeight:"700",padding:"5px"},z={borderRight:"1px solid ",padding:"5px"},je={borderRight:"1px solid ",textAlign:"center",padding:"5px"},te={borderRight:"1px solid ",textAlign:"right",padding:"5px"},dn={borderRight:"1px solid ",width:"200px",textAlign:"right",padding:"5px"},$e={borderRight:"1px solid ",backgroundColor:"#636f83",padding:"5px"},un=({data:e,form:t,subKey:a,rekapMak:o,calculate:l})=>{const[i,c]=r.useState(0),[u,s]=r.useState(0),[d,m]=r.useState(!1),[p,g]=r.useState(!1),[$,b]=r.useState(!1),[S,f]=r.useState(!1),h=`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`,y=`${e.type==="sub"?"jumlah":""}${e.nomor}_beli_harga${e.subKey}`,A=`${e.nomor}_total_harga`;r.useEffect(()=>{let N=Number(t.getFieldValue(y));N||(N=0);let C=Number(t.getFieldValue(h));C||(C=0);const x=N+C;x&&(t.setFieldsValue({[`${e.nomor}_total_harga_calculated`]:x}),j())},[i]),r.useEffect(()=>{},[t.getFieldValue(y)]),r.useEffect(()=>{j()},[o[e.subKey].produksi,o[e.subKey].beli]),r.useEffect(()=>{j(),_()},[]);function R(N){let C=t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`),x=N+C;t.setFieldsValue({[`${e.nomor}_total_harga_calculated`]:x}),c(x),e.type}function w(N){c(parseFloat(String(N)??0)+parseFloat(t.getFieldValue(`${e.nomor}_beli_harga`)||0)),e.type}function j(){const N=t.getFieldValue(`${e.nomor}_total_harga`),C=Number(t.getFieldValue(y))??0+Number(t.getFieldValue(h))??0;if(m(N==C),e.type=="sub"){const x=t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`),E=t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_beli_harga${e.subKey}`);g(E==o[e.subKey].beli),b(x==o[e.subKey].produksi)}}function _(){const N=t.getFieldValue(`${e.nomor}_beli_volume`)+t.getFieldValue(`${e.nomor}_produksi_volume`);s(N);const C=t.getFieldValue(`${e.nomor}_total_volume`);f(C==N)}return k(L,{children:[k("tr",{style:{backgroundColor:e.flagBasket?"#ffffcc":"",borderTop:"1px solid ",borderLeft:"1px solid "},children:[n("td",{style:{...je,width:"55px"},children:e.nomor}),k("td",{colSpan:1,style:{...e.type==="sub"?Pe:z},children:[e.rincian,e.type==="lain"&&n(T.Item,{name:`${e.nomor}_item`,children:n(q,{placeholder:"Sebutkan"})})]}),n("td",{colSpan:1,style:{...e.type==="sub"?Pe:je},children:e.type==="lain"?n(T.Item,{name:`${e.nomor}_satuan`,children:n(q,{placeholder:"Sebutkan"})}):e.satuan}),n("td",{style:{...e.type==="sub"?$e:z},children:e.type==="sub"||n(se,{inputName:`${e.nomor}_beli_volume`,onChange:H(_,400)})}),n("td",{style:{...dn},children:n(F,{inputName:y,onChange:H(R,600),validateStatus:!p&&e.type=="sub"?"error":""})}),n("td",{style:{...e.type==="sub"?$e:z},children:e.type==="sub"||n(se,{inputName:`${e.nomor}_produksi_volume`,onChange:H(_,400)})}),n("td",{style:{...te},children:n(F,{inputName:h,onChange:H(w,600),validateStatus:!$&&e.type=="sub"?"error":""})}),n("td",{style:e.type==="sub"?$e:z,children:e.type==="sub"||n(se,{inputName:`${e.nomor}_total_volume`,onChange:H(_,400),validateStatus:S?"":"error"})}),n("td",{style:{...te},children:n(F,{inputName:A,onChange:H(j,600),validateStatus:d?"":"error"})})]}),k("tr",{style:{backgroundColor:e.flagBasket?"#ffffcc":"",borderBottom:"1px solid ",borderRight:"1px solid ",borderLeft:"1px solid "},children:[n("td",{style:z}),n("td",{style:z}),n("td",{style:z}),n("td",{style:z}),k("td",{style:te,children:[" ",e.type==="sub"&&n(M,{color:p?"green":"red",value:o[e.subKey]?o[e.subKey].beli??0:0})]}),n("td",{style:z}),n("td",{style:te,children:e.type==="sub"&&n(M,{color:$?"green":"red",value:o[e.subKey].produksi??0})}),n("td",{style:te,children:e.type!=="sub"&&n(T.Item,{style:{color:S?"green":"red",backgroundColor:"inherit",border:"none",marginRight:"10px"},name:`${e.nomor}_total_volume_calculated`,children:u>0?u:""})}),n("td",{style:z,children:n(F,{style:{color:d?"green":"red",backgroundColor:"inherit",border:"none",cursor:"text"},readOnly:!0,inputName:`${e.nomor}_total_harga_calculated`})})]})]})},{Text:Wn,Title:mn}=oe,gn={borderCollapse:"collapse",width:"100%"},B={borderStyle:"solid",border:"solid 1px black",padding:"5px"},D={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},Qe=({title:e,konten:t,rekapMak:a,calculate:o,form:l})=>(e="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN, BAHAN MINUMAN, DAN ROKOK SEMINGGU TERAKHIR",k("table",{style:gn,children:[k("thead",{children:[n("tr",{style:{backgroundColor:"#fc0",textAlign:"center"},children:n("th",{style:B,colSpan:10,children:n(P,{direction:"vertical",style:{padding:"25px"},children:n(mn,{level:4,children:e})})})}),k("tr",{children:[n("th",{style:B,rowSpan:2,children:"No Urut"}),n("th",{style:B,rowSpan:2,children:"Rincian"}),n("th",{style:B,rowSpan:2,children:"Satuan standar"}),n("th",{style:B,colSpan:2,children:"Berasal dari pembelian (tunai/bon)"}),n("th",{style:B,colSpan:2,children:"Berasal dari produksi sendiri, pemberian, dsb"}),n("th",{style:B,colSpan:2,children:"Jumlah konsumsi"})]}),k("tr",{children:[n("th",{style:B,children:"Banyaknya (0,00)"}),n("th",{style:B,children:"Nilai (Rp)"}),n("th",{style:B,children:"Banyaknya (0,00)"}),n("th",{style:B,children:"Nilai (Rp)"}),n("th",{style:B,children:"Banyaknya (5) + (7) (0,00)"}),n("th",{style:B,children:"Nilai (6) + (8) (Rp)"})]})]}),k("tbody",{children:[k("tr",{children:[n("td",{width:"55px",style:D,children:"(1)"}),n("td",{style:D,children:"(3)"}),n("td",{width:"80px",style:D,children:"(4)"}),n("td",{width:"100px",style:D,children:"(5)"}),n("td",{style:D,children:"(6)"}),n("td",{width:"100px",style:D,children:"(7)"}),n("td",{style:D,children:"(8)"}),n("td",{width:"100px",style:D,children:"(9)"}),n("td",{style:D,children:"(10)"})]}),t.map((i,c)=>n(un,{data:i,form:l,rekapMak:a,calculate:o},c))]})]})),{Text:hn,Title:Un}=oe,ne=({form:e,rekapMak:t,calculate:a,from:o,to:l,hal:i})=>{const[c,u]=r.useState([]),[s,d]=r.useState(!0);r.useEffect(()=>{(async(g,$)=>{const{data:b}=await J.get(route("api.mak.komoditas.list",{from:g,to:$})),S=b.map(f=>({nomor:f.id,kode_coicop:f.kode_coicop,rincian:f.nama_komoditas,satuan:f.satuan,type:f.type,subKey:f.id_kelompok,flagBasket:f.flag_basket}));u([...S]),d(!1)})(o,l)},[]);const m="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN & MINUMAN SEMINGGU TERAKHIR";return k(P,{direction:"vertical",style:{width:"100%"},children:[k(P,{style:{width:"100%",justifyContent:"end"},direction:"horizontal",children:[n(hn,{children:"Jumlah komoditas bahan makanan dan bahan minuman terisi pada halaman ini"}),n(se,{inputName:`hal${i}_jml_komoditas`})]}),n(Qe,{form:e,konten:s?[]:c,title:m,rekapMak:t,calculate:a}),s&&n(ln,{active:!0,paragraph:{rows:10}})]})},Gn=({form:e,onFinish:t,tabContentStyle:a,subTotalHarga:o,calculate:l,rekapMak:i})=>{de.useMessage();function c(u){}return r.useEffect(()=>{},[]),k(T,{form:e,name:"Blok4_1_hal2",onFinish:t,autoComplete:"off",layout:"vertical",onValuesChange:H(l,600),children:[n(T.Item,{name:"id_ruta",hidden:!0,children:n(q,{placeholder:"id rt"})}),n(Ue,{onChange:c,type:"line",style:{backgroundColor:"#fff",padding:"10px"},items:[{label:"Hal 2",key:"1",children:n(ne,{from:1,to:34,hal:2,form:e,calculate:l,rekapMak:i})},{label:"Hal 4",key:"2",children:n(ne,{from:35,hal:4,to:62,form:e,calculate:l,rekapMak:i})},{label:"Hal 6",key:"3",children:n(ne,{from:63,to:94,hal:6,form:e,calculate:l,rekapMak:i})},{label:"Hal 8",key:"4",children:n(ne,{from:95,to:127,hal:8,form:e,calculate:l,rekapMak:i})},{label:"Blok 10",key:"5",children:n(ne,{from:128,to:158,hal:10,form:e,calculate:l,rekapMak:i})}]})]})},{Text:pn,Title:Jn}=oe,Be=({onFinish:e,nomor_art:t,setDaftarArt:a,daftarArt:o,id_ruta:l,id_art:i,calculateKalori:c,konten:u,art:s})=>{const[d]=T.useForm(),[m,p]=r.useState(!1),g=async h=>{try{p(!0);const y=route("entri.mak.konsumsi_art.store"),{data:A}=await J.patch(y,h,{headers:{"Content-Type":"application/json"}})}catch(y){console.log("error",{error:y})}finally{p(!1)}},$=({subKey:h,jenis:y})=>{const A=`${y}_harga${h}`,R=d.getFieldsValue(),w=Object.entries(R).filter(([N])=>N.endsWith(A)).reduce((N,[,C])=>N+(C||0),0),_=[...o].map(N=>{let C={...N.rekap};return C[h][y]=w,N.id===i?{...N,rekap:C}:N});a(_)},b=H(()=>{const h="beli_harga12",y="beli_harga13",A="produksi_harga12",R="produksi_harga13",w=d.getFieldsValue(),j=Object.entries(w).filter(([v])=>v.endsWith(h)&&!v.includes("jumlah")).reduce((v,[,O])=>v+(O||0),0),_=Object.entries(w).filter(([v])=>v.endsWith(y)&&!v.includes("jumlah")).reduce((v,[,O])=>v+(O||0),0),N=Object.entries(w).filter(([v])=>v.endsWith(A)&&!v.includes("jumlah")).reduce((v,[,O])=>v+(O||0),0),C=Object.entries(w).filter(([v])=>v.endsWith(R)&&!v.includes("jumlah")).reduce((v,[,O])=>v+(O||0),0),E=[...o].map(v=>{let O={...v.rekap};return O[12]={beli:j,produksi:N,total:j+N},O[13]={beli:_,produksi:C,total:_+C},v.id===i?{...v,rekap:O}:v});a(E)},600),S=H(()=>{b(),d.submit(),c(d.getFieldsValue()).then(h=>{let y=[...o];y[t].kalori=h})},1e3);r.useEffect(()=>{(async y=>{p(!0);const{data:A}=await J.get(route("api.mak.konsumsi.art",{id_art:y})),R=[159,192],j=A.map(_=>({[`${R.includes(_.id_komoditas)?"jumlah":""}${_.id_komoditas}_beli_harga${_.id_kelompok}`]:_.harga_beli,[`${R.includes(_.id_komoditas)?"jumlah":""}${_.id_komoditas}_produksi_harga${_.id_kelompok}`]:_.harga_produksi,[`${_.id_komoditas}_total_harga`]:_.harga_total,[`${_.id_komoditas}_item`]:_.item,[`${_.id_komoditas}_satuan`]:_.satuan,[`${_.id_komoditas}_beli_volume`]:_.volume_beli,[`${_.id_komoditas}_produksi_volume`]:_.volume_produksi,[`${_.id_komoditas}_total_volume`]:_.volume_total})).reduce((_,N)=>{for(const C in N)N.hasOwnProperty(C)&&(_[C]=N[C]);return _},{});j[`blok4_31_${t}_id_art`]=y,d.setFieldsValue(j),p(!1)})(i)},[i]),r.useEffect(()=>{d.setFieldsValue({id_ruta:l,id_art:i}),c(d.getFieldsValue()).then(h=>{let y=[...o];y[t].kalori=h})},[d]);const f="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN, BAHAN MINUMAN, DAN ROKOK SEMINGGU TERAKHIR";return n(P,{direction:"vertical",style:{width:"100%"},children:k(T,{form:d,name:"Art",onFinish:g,autoComplete:"off",layout:"vertical",onValuesChange:S,children:[k(P,{style:{width:"100%",justifyContent:"space-between"},direction:"horizontal",children:[k(P,{style:{display:m?"":"none"},children:["Menyimpan... ",n(Ge,{})]}),k(P,{children:[n(pn,{children:"Jumlah komoditas bahan makanan,bahan minuman, dan rokok yang terisi pada halaman ini"}),n(T.Item,{style:{margin:"auto"},name:"id_ruta",hidden:!0,children:n(q,{readOnly:!0})}),n(T.Item,{style:{margin:"auto"},name:"id_art",hidden:!0,children:n(q,{readOnly:!0})})]})]}),n(Qe,{form:d,konten:u,title:f,calculate:$,rekapMak:s.rekap})]})})},{Text:bn,Title:fn}=oe,yn={borderCollapse:"collapse",width:"100%",backgroundColor:"#fff"},Fe={borderStyle:"solid",border:"solid 1px black",padding:"5px"},kn={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},ce=({title:e,subtitle:t,columnsCount:a,columns:o,children:l})=>k("table",{style:yn,children:[n("thead",{style:{backgroundColor:"#fc0",textAlign:"center"},children:n("tr",{children:n("td",{colSpan:a,style:Fe,children:k(P,{direction:"vertical",children:[n(fn,{level:4,children:e}),n(bn,{children:t})]})})})}),k("tbody",{children:[o&&k(L,{children:[n("tr",{children:o.map(i=>n("th",{style:Fe,children:i}))}),n("tr",{children:Array.from(Array(a).keys()).map(i=>k("td",{style:kn,children:["(",i+1,")"]}))})]}),l]})]}),Ce={borderStyle:"solid",border:"solid 1px black",margin:"auto",textAlign:"center",padding:"5px"},Zn=({artForm:e,artFormFinish:t,tabContentStyle:a,daftarArt:o,setDaftarArt:l,calculateKalori:i})=>{const c=C=>{},[u,s]=r.useState("0"),[d,m]=r.useState([]),[p,g]=r.useState([]),[$,b]=r.useState(!1),[S,f]=r.useState(!1),h=r.useRef(1),[y,A]=de.useMessage(),R=async()=>{f(!0);const C=`Art-${h.current++}`;try{const{data:x}=await J.post(route("entri.mak.art.store"),{nama:C,nomor_art:o.length+1,id_ruta:o[0].id_ruta}),E=[...o,{id:x.id,id_ruta:x.id_ruta,nomor_art:h.current++,nama:C,key:C,rekap:{12:{produksi:0,beli:0,total:0},13:{produksi:0,beli:0,total:0}}}];l([...E]),s(C)}catch(x){console.error("Error in add function:",x)}finally{f(!1)}},w=async C=>{const x=e.getFieldValue(`${C}-id_art`);if(C===0){y.open({content:"anggota ruta pertama tidak boleh dihapus,",type:"warning",key:x,duration:3});return}try{const{data:E}=await J.delete(route("entri.mak.art.delete",{id_art:x})),v=o.filter(O=>O.id!==x);l(v),y.open({content:"Berhasil menghapus 1 anggota rumah tangga",type:"success",key:x})}catch(E){console.error("Error in add function:",E),y.open({content:`Terjadi galat ketika menghapus data, tunjukan code ini pada Developer (${E})`,type:"error",key:x,duration:3})}},_=H((C,x,E)=>{const v=[...o];v[C][x]=E.trim(),l(v)},1e3),N=dt.throttle(w,2e3);return r.useEffect(()=>{(async(E,v)=>{const{data:O}=await J.get(route("api.mak.komoditas.list",{from:E,to:v})),U=O.map(V=>({nomor:V.id,kode_coicop:V.kode_coicop,rincian:V.nama_komoditas,satuan:V.satuan,type:V.type,subKey:V.id_kelompok,flagBasket:V.flag_basket}));g([...U])})(159,197),b(!1);const x=o.map((E,v)=>({label:E.nama,key:String(v),children:n(Be,{onFinish:c,nomor_art:E.nomor_art,daftarArt:o,setDaftarArt:l,id_ruta:e.getFieldValue("id_ruta"),art:E,id_art:E.id,calculateKalori:i,konten:p})}));m([...x])},[]),k(P,{direction:"vertical",style:a,children:[A,n(Oe,{type:"primary",onClick:R,children:"Tambah Art"}),k(T,{name:"artForm",form:e,onFinish:t,children:[n(T.Item,{name:"id_ruta",hidden:!0,children:n(q,{})}),n(ce,{title:"DAFTAR ANGGOTA RUMAH TANGGA",columns:["Nomor","Nama Anggota Rumah Tangga","aksi"],columnsCount:3,children:S?n("tr",{children:n("td",{colSpan:3,children:k(P,{style:{width:"100%",justifyContent:"center",marginTop:"30px"},direction:"vertical",children:[n(P,{style:{width:"100%",justifyContent:"center"},children:n(Ge,{size:"large"})}),n(P,{style:{width:"100%",justifyContent:"center"},children:"Menambahkan anggota rumah tangga..."})]})})}):o.map((C,x)=>k("tr",{children:[n("td",{style:Ce,children:x+1}),k("td",{style:Ce,children:[n(T.Item,{name:`${x}-id_art`,hidden:!0,children:n(q,{})}),n(T.Item,{name:`${x}-nama`,style:{margin:"auto"},children:n(q,{placeholder:"nama anggota rumah tangga",onChange:E=>_(x,"nama",E.target.value)})})]}),n("td",{style:Ce,children:n(ut,{placement:"topLeft",title:"apakah anda yakin akan menghapus art ini?",description:"hapus anggota rumah tangga",okText:"yakin dong",cancelText:"gajadi",onConfirm:()=>N(x),children:n(Oe,{disabled:x===0,children:"Hapus"})})})]},x))})]}),n(Ue,{style:{backgroundColor:"#fff",padding:"10px"},items:o.map((C,x)=>({label:C.nama,key:String(x),children:n(Be,{onFinish:c,nomor_art:C.nomor_art,daftarArt:o,setDaftarArt:l,id_ruta:C.id_ruta,art:C,id_art:C.id,calculateKalori:i,konten:p})})),type:"line"})]})},He=({art:e,index:t,form:a,tipe:o})=>{const[l,i]=r.useState(!1),[c,u]=r.useState(!1),[s,d]=r.useState(!1),[m,p]=r.useState(!1);function g(){const $=e.rekap[13].beli,b=e.rekap[13].produksi,S=e.rekap[12].beli,f=e.rekap[12].produksi,h=a.getFieldValue(`blok4_31_${o=="individu"?t:"jumlah"}_mak_beli`)??0,y=a.getFieldValue(`blok4_31_${o=="individu"?t:"jumlah"}_mak_produksi`)??0,A=a.getFieldValue(`blok4_31_${o=="individu"?t:"jumlah"}_rokok_beli`)??0,R=a.getFieldValue(`blok4_31_${o=="individu"?t:"jumlah"}_rokok_produksi`)??0;d($==A),p(b==R),i(S==h),u(f==y)}return r.useEffect(()=>{g()},[e.rekap[12].beli,e.rekap[12].produksi,e.rekap[13].beli,e.rekap[13].produksi]),k("tr",{children:[n("td",{style:Je,children:o=="individu"?t+1:""}),n("td",{style:Ze,children:o=="individu"?k(L,{children:[e.nama,n(T.Item,{name:o=="individu"?`blok4_31_${t}_id_art`:"",label:null,initialValue:o=="individu"?e.id:"",hidden:!0,children:n(q,{readOnly:!0})},`form-item-${t}`)," "]}):"JUMLAH"}),k("td",{style:G,children:[n(F,{inputName:`blok4_31_${o=="individu"?t:"jumlah"}_mak_beli`,initialValue:e.mak_beli,onChange:g,validateStatus:l?"":"error"}),n(M,{color:l?"green":"red",value:e.rekap[12].beli})]}),k("td",{style:G,children:[n(F,{inputName:`blok4_31_${o=="individu"?t:"jumlah"}_mak_produksi`,initialValue:e.mak_produksi,onChange:g,validateStatus:c?"":"error"}),n(M,{color:c?"green":"red",value:e.rekap[12].produksi})]}),k("td",{style:G,children:[n(F,{inputName:`blok4_31_${o=="individu"?t:"jumlah"}_rokok_beli`,initialValue:e.rokok_beli,onChange:g,validateStatus:s?"":"error"}),n(M,{color:s?"green":"red",value:e.rekap[13].beli})]}),k("td",{style:G,children:[n(F,{inputName:`blok4_31_${o=="individu"?t:"jumlah"}_rokok_produksi`,initialValue:e.rokok_produksi,onChange:g,validateStatus:m?"":"error"}),n(M,{color:m?"green":"red",value:e.rekap[13].produksi})]})]})},$n=({rincian:e,index:t,rekapMak:a,form:o,setRekapMak:l})=>{const i=$=>{let b=[...a];b[16].total=$,b[17].total=b[15].total+b[16].total,l(b)},[c,u]=r.useState(!1),[s,d]=r.useState(!1),[m,p]=r.useState(!1);function g(){const $=a[e.id-1].beli,b=a[e.id-1].produksi,S=a[e.id-1].total,f=o.getFieldValue(`blok4_32_${e.id-1}_beli`)??0,h=o.getFieldValue(`blok4_32_${e.id-1}_produksi`)??0,y=o.getFieldValue(`blok4_32_${e.id-1}_total`)??0;u($==f),d(b==h),p(S==y),e.id==17&&i(y)}return r.useEffect(()=>{g()},[a[e.id-1].beli,a[e.id-1].produksi,a[e.id-1].total]),k("tr",{children:[n("td",{style:Je,children:e.nomor}),n("td",{style:Ze,children:e.rincian}),n("td",{style:G,children:e.id<16&&k(L,{children:[n(F,{inputName:`blok4_32_${e.id-1}_beli`,onChange:g,validateStatus:c?"":"error"},t),n(M,{color:c?"green":"red",value:a[e.id-1].beli},e.id)]})}),n("td",{style:G,children:e.id<16&&k(L,{children:[n(F,{inputName:`blok4_32_${e.id-1}_produksi`,onChange:g,validateStatus:s?"":"error"},t),n(M,{color:s?"green":"red",value:a[e.id-1].produksi},e.id)]})}),n("td",{style:G,children:k(L,{children:[n(F,{inputName:`blok4_32_${e.id-1}_total`,onChange:g,validateStatus:m?"":"error"},t),n(M,{color:m?"green":"red",value:a[e.id-1].total},e.id)]})})]})},Xn=({form:e,onFinish:t,tabContentStyle:a,rekapMak:o,setRekapMak:l,daftarArt:i,daftarRincian432:c})=>{const[u,s]=de.useMessage(),[d,m]=r.useState({12:{beli:0,produksi:0,total:0},13:{beli:0,produksi:0,total:0}}),p=g=>{let $=g.reduce((b,S)=>(Object.values(S.rekap).forEach((f,h)=>{b[h]=b[h]||{beli:0,produksi:0,total:0},b[h].beli+=f.beli,b[h].produksi+=f.produksi,b[h].total+=f.total}),b),[]);return{12:$[0],13:$[1]}};return r.useEffect(()=>{let g=p(i);(async()=>{var S;const{data:b}=await J.get(route("entri.mak.art.fetch",{id_ruta:(S=i[0])==null?void 0:S.id_ruta}));b.forEach((f,h)=>{e.setFieldValue(`blok4_31_${h}_id_art`,f.id)})})(),m(g),l(b=>{let S=[...b];return S[12]=g[12],S[13]=g[13],S[14]=S.slice(0,14).reduce((f,h)=>({beli:f.beli+h.beli,produksi:f.produksi+h.produksi,total:f.total+h.total}),{beli:0,produksi:0,total:0}),[...S]})},[i]),n(P,{direction:"vertical",style:a,children:k(T,{form:e,name:"Blok4_3",onFinish:t,autoComplete:"off",layout:"vertical",children:[k(ce,{title:"BLOK IV.3.1. REKAPITULASI PENGELUARAN MAKANAN DAN MINUMAN JADI SERTA ROKOK SELURUH ANGGOTA RUMAH TANGGA (DALAM RUPIAH)",subtitle:"",columns:["No.","Nama ART","Makanan dan Minuman Jadi (Pembelian)","Makanan dan Minuman Jadi (Produksi sendiri, Pemberian, dsb)","Rokok dan Tembaku (Pembelian)","Rokok dan Tembaku (Produksi sendiri, Pemberian, dsb)"],columnsCount:6,children:[i.map((g,$)=>n(He,{art:g,index:$,form:e,tipe:"individu"},$)),i.length>0&&n(He,{art:{rekap:d},index:99,form:e,tipe:"jumlah"},99)]},1),n(mt,{}),n(ce,{title:"BLOK IV.3.2. REKAPITULASI PENGELUARAN MAKANAN, MINUMAN, DAN ROKOK (DALAM RUPIAH)",subtitle:"[Kolom (3) Disalin dari Blok IV.1 Kolom (6), Blok IV.3.1 Kolom (3), atau (5)] dan [Kolom (4) Disalin dari Blok IV.1 Kolom (8), Blok IV.3.1 Kolom (4), atau (6)]",columnsCount:5,columns:["No.","Jenis Pengeluaran","Pembelian Seminggu Terakhir","Produksi Sendiri, Pemberian, dsb., Seminggu Terakhir","Total Seminggu Terakhir [Kolom 3 + Kolom 4]"],children:c.map((g,$)=>n($n,{form:e,rincian:g,index:$,rekapMak:o,setRekapMak:l},$))},2),s]})})},{Text:Cn,Title:Sn}=oe,Ve={borderStyle:"solid",border:"solid 1px black",padding:"5px"},re={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},Ke=({type:e,name:t,options:a,customKey:o,children:l,setValue:i,dependencies:c,rules:u})=>({number:n(T.Item,{name:t,label:null,dependencies:c,rules:u,children:n(ve,{})}),binary:n(Ie,{name:t,options:[{label:"[1] YA",value:1},{label:"[5] TIDAK",value:5}],onChange:i&&(d=>i(d))}),rupiah:n(F,{inputName:t,editable:o===26}),multi:n(Ie,{name:t,options:a??[],onChange:i&&(d=>i(d))})})[e],_n=({props:e,defaultValue:t})=>{const[a,o]=r.useState(t),[l,i]=r.useState([]),c=k(L,{children:[n("td",{style:re,children:e.nomor}),n("td",{style:Ve,children:e.rincian})]});return r.useEffect(()=>{if(e.children){let u=e.children.filter((s,d)=>{let m=!1;return s.dependentValues&&s.dependentValues.forEach(p=>{p==a&&(m=!0)}),m}).map(s=>k("tr",{children:[n("td",{style:re}),n("td",{style:Ve,children:s.rincian}),n("td",{style:re,children:n(Ke,{type:s.type,name:`wtf_${s.nomor}`,options:s.options,customKey:s.id,dependencies:s.dependencies,rules:s.rules},s.nomor)})]},e.id));i(u)}},[a,e.children]),k(L,{children:[k("tr",{style:{backgroundColor:e.id%2===0?" #fffae6":""},children:[c,n("td",{style:re,children:n(Ke,{type:e.type,name:`wtf_${e.id}`,options:e.options,customKey:e.id,children:e.children,setValue:o,dependencies:e.dependencies,rules:e.rules},e.id)})]}),l.map(u=>u)]})},Se=({getFieldValue:e},t,a,o)=>({validator(l,i,c){const u=e(t);let s=!0;return a=="less"?s=i<u:a=="equal"?s=i==u:a=="greater"?s=i>u:a=="less equal"?s=i<=u:a=="greater equal"&&(s=i>=u),s?Promise.resolve():Promise.reject(o)}}),vn=[{id:1,nomor:1,rincian:"Jumlah ART (Blok III Rincian 301)",type:"number",rules:[()=>({validator(e,t,a){return t<1?Promise.reject("Jumlah ART minimal satu"):Promise.resolve()}})]},{id:2,nomor:2,rincian:"Jumlah Balita (R302)",type:"number",dependencies:["wtf_1"],rules:[({getFieldValue:e})=>Se({getFieldValue:e},"wtf_1","less","Jumlah Balita tidak bisa melebihi atau sama dengan jumlah ART")]},{id:3,nomor:3,rincian:"Jumlah ART yang masih bersekolah (R1402=2)",type:"number",rules:[({getFieldValue:e})=>Se({getFieldValue:e},"wtf_1","less equal","Jumlah ART yang bersekolah tidak bisa melebihi jumlah ART")]},{id:4,nomor:4,rincian:"Status Kepemilikan Bangunan Tempat Tinggal (R1901)",type:"multi",options:[{label:"Milik Sendiri",value:1},{label:"Kontrak/Sewa",value:2},{label:"Bebas Sewa",value:3},{label:"Dinas",value:4},{label:"Lainnya",value:99}]},{id:5,nomor:5,rincian:k("span",{children:["Luas Lantai per Kapita (m",n("sup",{children:"2"}),") (R1902)"]}),type:"number"},{id:6,nomor:6,rincian:"Sumber air minum (R1903)",type:"multi",options:[{label:"Air kemasan bermerek",value:1},{label:"Air isi ulang",value:2},{label:"Leding/sumur bor/pompa",value:3},{label:"Lainnya",value:99}]},{id:7,nomor:7,rincian:"Sumber air mandi/cuci/dll (R1904)",type:"multi",options:[{label:"Air kemasan bermerek",value:1},{label:"Air isi ulang",value:2},{label:"Leding/sumur bor/pompa",value:3},{label:"Lainnya",value:99}]},{id:8,nomor:8,rincian:"Apakah tercatat sebagai menerima PKH? (R2003a)",type:"binary",children:[{id:9,nomor:9,rincian:"Penggunaan PKH (R2003b)",type:"multi",dependentValues:[1],options:[{label:"Belanja Pangan",value:1},{label:"Biaya Sekolah",value:2},{label:"Pembayaran Utang/Kredit",value:3},{label:"Lainnya",value:99}]}]},{id:10,nomor:10,rincian:"Apakah ART menerima PIP?",type:"binary",children:[{id:11,nomor:11,dependentValues:[1],rincian:"berapa ART yang menerima PIP? (SD s.d. Kuliah)",type:"number",rules:[({getFieldValue:e})=>Se({getFieldValue:e},"wtf_3","less equal","Jumlah ART yang menerima PIP tidak bisa melebihi ART yang bersekolah")]}]},{id:26,nomor:"",rincian:"Garis Kemiskinan Maret 2024",type:"rupiah"}],Yn=({form:e,onFinish:t,tabContentStyle:a})=>k(P,{direction:"vertical",style:a,children:[n(P,{style:{width:"100%",justifyContent:"space-between"},direction:"horizontal"}),n(T,{form:e,name:"Worksheet",onFinish:t,autoComplete:"off",layout:"vertical",children:k("table",{style:{borderCollapse:"collapse",width:"100%"},children:[n("thead",{style:{backgroundColor:"#fc0",textAlign:"center"},children:n("tr",{children:n("td",{style:{borderStyle:"solid",border:"solid 1px black",padding:"5px"},colSpan:3,children:k(P,{direction:"vertical",children:[k(Sn,{level:4,style:{textTransform:"uppercase"},children:["Isian Worksheet Template"," "]}),n(Cn,{children:"RINCIAN (Lihat Dokumen VSEN24.K)"})]})})})}),n("tbody",{children:vn.map(i=>_n({props:i,defaultValue:e.getFieldValue(`wtf_${i.id}`)}))})]})})]}),Qn=({form:e,onFinish:t,tabContentStyle:a,daftarQc:o})=>{const l={borderStyle:"solid",border:"solid 1px black",padding:"5px"},i={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},[c,u]=de.useMessage(),s=({rincian:d,key:m})=>k("tr",{children:[n("td",{style:{...i,width:"30px"},children:m+1}),n("td",{style:{...l,width:"auto"},children:d.rincian}),n("td",{style:{...l,width:"150px",textAlign:"right"},children:d.id===5?n(L,{children:n(F,{inputName:`blokqc_${d.id}`},m)}):n(P,{direction:"vertical",children:n(T.Item,{name:`blokqc_${d.id}`,label:null,style:{marginBottom:"5px",textAlign:"center"},children:n(ve,{className:"custom-input-number",style:{textAlign:"right",width:"100%"},formatter:p=>{const g=Number(p)??0,$=g.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",");return d.dataType==="decimal"?$:String(g)}},m)})})})]},m);return n(P,{direction:"vertical",style:a,children:k(T,{form:e,name:"Blok4_3",onFinish:t,autoComplete:"off",layout:"vertical",children:[n(ce,{title:"Quality Control",columnsCount:3,columns:["No.","Rincian","Isian"],children:o.map((d,m)=>s({rincian:d,key:m}))},2),u]})})};export{Gn as B,qn as D,Yn as W,Zn as a,Xn as b,Qn as c,Ln as d};
