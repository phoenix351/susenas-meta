import{e as G,r as o,C as Ae,o as $t,_ as ue,f as kt,h as se,i as qe,k as Ra,l as ce,m as X,n as St,w as jt,u as Na,t as Ea,p as oa,s as wa,v as ra,x as Ta,a as i,j as g,c as oe,F as _e,b as Ia,g as ut}from"./app-894b5060.js";import{D as Pa,A as Ma}from"./AuthenticatedLayout-d969d3a6.js";import{_ as Te,M as Dt,S as Ba,B as La}from"./Blok1_2-ea00faa8.js";import{F}from"./index-a83d82f4.js";import{I as je}from"./index-96abc4dc.js";import{S as J}from"./index-4d0eaef9.js";import{T as Ce}from"./index-cb4cc7f4.js";import{K as Oa,u as Ka,a as ja,R as Vt,i as Da,b as Ht,g as Va,I as fe,B as Ee}from"./index-19dce762.js";import{g as la,m as sa,A as Je}from"./AntdIcon-675c8209.js";import{m as De}from"./index-ae587b3c.js";import{K as ve,C as Ha}from"./KeyCode-3783f810.js";import{E as za,M as Fa,i as zt,a as Ga}from"./index-2754962a.js";import{D as Ua,S as Wa,T as qa}from"./Table-c9e1a9b1.js";import{l as Xa}from"./lodash-27380d56.js";import{P as Ja,R as Ya}from"./ReloadOutlined-a44938ac.js";import{M as Qa}from"./Modal-d169d559.js";import"./Sider-e74e5ed0.js";import"./index-a18f84bc.js";import"./index-e59ab217.js";import"./addEventListener-e888a729.js";import"./index-3f3c12db.js";import"./index-1413fd2b.js";const Za=e=>{const{prefixCls:t,className:a,style:n,size:r,shape:s}=e,d=G({[`${t}-lg`]:r==="large",[`${t}-sm`]:r==="small"}),c=G({[`${t}-circle`]:s==="circle",[`${t}-square`]:s==="square",[`${t}-round`]:s==="round"}),l=o.useMemo(()=>typeof r=="number"?{width:r,height:r,lineHeight:`${r}px`}:{},[r]);return o.createElement("span",{className:G(t,d,c,a),style:Object.assign(Object.assign({},l),n)})},Ye=Za,en=new Oa("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),Qe=e=>({height:e,lineHeight:`${e}px`}),we=e=>Object.assign({width:e},Qe(e)),tn=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:en,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),pt=e=>Object.assign({width:e*5,minWidth:e*5},Qe(e)),an=e=>{const{skeletonAvatarCls:t,gradientFromColor:a,controlHeight:n,controlHeightLG:r,controlHeightSM:s}=e;return{[`${t}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:a},we(n)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},we(r)),[`${t}${t}-sm`]:Object.assign({},we(s))}},nn=e=>{const{controlHeight:t,borderRadiusSM:a,skeletonInputCls:n,controlHeightLG:r,controlHeightSM:s,gradientFromColor:d}=e;return{[`${n}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:d,borderRadius:a},pt(t)),[`${n}-lg`]:Object.assign({},pt(r)),[`${n}-sm`]:Object.assign({},pt(s))}},Ft=e=>Object.assign({width:e},Qe(e)),on=e=>{const{skeletonImageCls:t,imageSizeBase:a,gradientFromColor:n,borderRadiusSM:r}=e;return{[`${t}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:n,borderRadius:r},Ft(a*2)),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},Ft(a)),{maxWidth:a*4,maxHeight:a*4}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},mt=(e,t,a)=>{const{skeletonButtonCls:n}=e;return{[`${a}${n}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${a}${n}-round`]:{borderRadius:t}}},ht=e=>Object.assign({width:e*2,minWidth:e*2},Qe(e)),rn=e=>{const{borderRadiusSM:t,skeletonButtonCls:a,controlHeight:n,controlHeightLG:r,controlHeightSM:s,gradientFromColor:d}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${a}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:d,borderRadius:t,width:n*2,minWidth:n*2},ht(n))},mt(e,n,a)),{[`${a}-lg`]:Object.assign({},ht(r))}),mt(e,r,`${a}-lg`)),{[`${a}-sm`]:Object.assign({},ht(s))}),mt(e,s,`${a}-sm`))},ln=e=>{const{componentCls:t,skeletonAvatarCls:a,skeletonTitleCls:n,skeletonParagraphCls:r,skeletonButtonCls:s,skeletonInputCls:d,skeletonImageCls:c,controlHeight:l,controlHeightLG:b,controlHeightSM:k,gradientFromColor:v,padding:x,marginSM:A,borderRadius:m,titleHeight:N,blockRadius:P,paragraphLiHeight:p,controlHeightXS:h,paragraphMarginTop:f}=e;return{[`${t}`]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:x,verticalAlign:"top",[`${a}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:v},we(l)),[`${a}-circle`]:{borderRadius:"50%"},[`${a}-lg`]:Object.assign({},we(b)),[`${a}-sm`]:Object.assign({},we(k))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${n}`]:{width:"100%",height:N,background:v,borderRadius:P,[`+ ${r}`]:{marginBlockStart:k}},[`${r}`]:{padding:0,"> li":{width:"100%",height:p,listStyle:"none",background:v,borderRadius:P,"+ li":{marginBlockStart:h}}},[`${r}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${n}, ${r} > li`]:{borderRadius:m}}},[`${t}-with-avatar ${t}-content`]:{[`${n}`]:{marginBlockStart:A,[`+ ${r}`]:{marginBlockStart:f}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},rn(e)),an(e)),nn(e)),on(e)),[`${t}${t}-block`]:{width:"100%",[`${s}`]:{width:"100%"},[`${d}`]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${n},
        ${r} > li,
        ${a},
        ${s},
        ${d},
        ${c}
      `]:Object.assign({},tn(e))}}},Ie=la("Skeleton",e=>{const{componentCls:t}=e,a=sa(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:e.controlHeight*1.5,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[ln(a)]},e=>{const{colorFillContent:t,colorFill:a}=e,n=t,r=a;return{color:n,colorGradientEnd:r,gradientFromColor:n,gradientToColor:r,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}},{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),sn=e=>{const{prefixCls:t,className:a,rootClassName:n,active:r,shape:s="circle",size:d="default"}=e,{getPrefixCls:c}=o.useContext(Ae),l=c("skeleton",t),[b,k]=Ie(l),v=$t(e,["prefixCls","className"]),x=G(l,`${l}-element`,{[`${l}-active`]:r},a,n,k);return b(o.createElement("div",{className:x},o.createElement(Ye,Object.assign({prefixCls:`${l}-avatar`,shape:s,size:d},v))))},cn=sn,dn=e=>{const{prefixCls:t,className:a,rootClassName:n,active:r,block:s=!1,size:d="default"}=e,{getPrefixCls:c}=o.useContext(Ae),l=c("skeleton",t),[b,k]=Ie(l),v=$t(e,["prefixCls"]),x=G(l,`${l}-element`,{[`${l}-active`]:r,[`${l}-block`]:s},a,n,k);return b(o.createElement("div",{className:x},o.createElement(Ye,Object.assign({prefixCls:`${l}-button`,size:d},v))))},un=dn;var pn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const mn=pn;var hn=function(t,a){return o.createElement(Je,ue({},t,{ref:a,icon:mn}))};const bn=o.forwardRef(hn),gn=e=>{const{prefixCls:t,className:a,rootClassName:n,style:r,active:s,children:d}=e,{getPrefixCls:c}=o.useContext(Ae),l=c("skeleton",t),[b,k]=Ie(l),v=G(l,`${l}-element`,{[`${l}-active`]:s},k,a,n),x=d??o.createElement(bn,null);return b(o.createElement("div",{className:v},o.createElement("div",{className:G(`${l}-image`,a),style:r},x)))},vn=gn,fn="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",yn=e=>{const{prefixCls:t,className:a,rootClassName:n,style:r,active:s}=e,{getPrefixCls:d}=o.useContext(Ae),c=d("skeleton",t),[l,b]=Ie(c),k=G(c,`${c}-element`,{[`${c}-active`]:s},a,n,b);return l(o.createElement("div",{className:k},o.createElement("div",{className:G(`${c}-image`,a),style:r},o.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${c}-image-svg`},o.createElement("path",{d:fn,className:`${c}-image-path`})))))},kn=yn,$n=e=>{const{prefixCls:t,className:a,rootClassName:n,active:r,block:s,size:d="default"}=e,{getPrefixCls:c}=o.useContext(Ae),l=c("skeleton",t),[b,k]=Ie(l),v=$t(e,["prefixCls"]),x=G(l,`${l}-element`,{[`${l}-active`]:r,[`${l}-block`]:s},a,n,k);return b(o.createElement("div",{className:x},o.createElement(Ye,Object.assign({prefixCls:`${l}-input`,size:d},v))))},Sn=$n,_n=e=>{const t=c=>{const{width:l,rows:b=2}=e;if(Array.isArray(l))return l[c];if(b-1===c)return l},{prefixCls:a,className:n,style:r,rows:s}=e,d=kt(Array(s)).map((c,l)=>o.createElement("li",{key:l,style:{width:t(l)}}));return o.createElement("ul",{className:G(a,n),style:r},d)},xn=_n,An=e=>{let{prefixCls:t,className:a,width:n,style:r}=e;return o.createElement("h3",{className:G(t,a),style:Object.assign({width:n},r)})},Cn=An;function bt(e){return e&&typeof e=="object"?e:{}}function Rn(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Nn(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function En(e,t){const a={};return(!e||!t)&&(a.width="61%"),!e&&t?a.rows=3:a.rows=2,a}const Pe=e=>{const{prefixCls:t,loading:a,className:n,rootClassName:r,style:s,children:d,avatar:c=!1,title:l=!0,paragraph:b=!0,active:k,round:v}=e,{getPrefixCls:x,direction:A}=o.useContext(Ae),m=x("skeleton",t),[N,P]=Ie(m);if(a||!("loading"in e)){const p=!!c,h=!!l,f=!!b;let C;if(p){const $=Object.assign(Object.assign({prefixCls:`${m}-avatar`},Rn(h,f)),bt(c));C=o.createElement("div",{className:`${m}-header`},o.createElement(Ye,Object.assign({},$)))}let E;if(h||f){let $;if(h){const u=Object.assign(Object.assign({prefixCls:`${m}-title`},Nn(p,f)),bt(l));$=o.createElement(Cn,Object.assign({},u))}let y;if(f){const u=Object.assign(Object.assign({prefixCls:`${m}-paragraph`},En(p,h)),bt(b));y=o.createElement(xn,Object.assign({},u))}E=o.createElement("div",{className:`${m}-content`},$,y)}const R=G(m,{[`${m}-with-avatar`]:p,[`${m}-active`]:k,[`${m}-rtl`]:A==="rtl",[`${m}-round`]:v},n,r,P);return N(o.createElement("div",{className:R,style:s},C,E))}return typeof d<"u"?d:null};Pe.Button=un;Pe.Avatar=cn;Pe.Input=Sn;Pe.Image=kn;Pe.Node=vn;const ca=Pe;var wn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const Tn=wn;var In=function(t,a){return o.createElement(Je,ue({},t,{ref:a,icon:Tn}))};const Pn=o.forwardRef(In),Ze=o.createContext(null);var da=o.forwardRef(function(e,t){var a=e.prefixCls,n=e.className,r=e.style,s=e.id,d=e.active,c=e.tabKey,l=e.children;return o.createElement("div",{id:s&&"".concat(s,"-panel-").concat(c),role:"tabpanel",tabIndex:d?0:-1,"aria-labelledby":s&&"".concat(s,"-tab-").concat(c),"aria-hidden":!d,style:r,className:G(a,d&&"".concat(a,"-active"),n),ref:t},l)}),Mn=["key","forceRender","style","className"];function Bn(e){var t=e.id,a=e.activeKey,n=e.animated,r=e.tabPosition,s=e.destroyInactiveTabPane,d=o.useContext(Ze),c=d.prefixCls,l=d.tabs,b=n.tabPane,k="".concat(c,"-tabpane");return o.createElement("div",{className:G("".concat(c,"-content-holder"))},o.createElement("div",{className:G("".concat(c,"-content"),"".concat(c,"-content-").concat(r),se({},"".concat(c,"-content-animated"),b))},l.map(function(v){var x=v.key,A=v.forceRender,m=v.style,N=v.className,P=qe(v,Mn),p=x===a;return o.createElement(Ra,ue({key:x,visible:p,forceRender:A,removeOnLeave:!!s,leavedClassName:"".concat(k,"-hidden")},n.tabPaneMotion),function(h,f){var C=h.style,E=h.className;return o.createElement(da,ue({},P,{prefixCls:k,id:t,tabKey:x,animated:b,active:p,style:ce(ce({},m),C),className:G(N,E),ref:f}))})})))}var Gt={width:0,height:0,left:0,top:0};function Ln(e,t,a){return o.useMemo(function(){for(var n,r=new Map,s=t.get((n=e[0])===null||n===void 0?void 0:n.key)||Gt,d=s.left+s.width,c=0;c<e.length;c+=1){var l=e[c].key,b=t.get(l);if(!b){var k;b=t.get((k=e[c-1])===null||k===void 0?void 0:k.key)||Gt}var v=r.get(l)||ce({},b);v.right=d-v.left-v.width,r.set(l,v)}return r},[e.map(function(n){return n.key}).join("_"),t,a])}function Ut(e,t){var a=o.useRef(e),n=o.useState({}),r=X(n,2),s=r[1];function d(c){var l=typeof c=="function"?c(a.current):c;l!==a.current&&t(l,a.current),a.current=l,s({})}return[a.current,d]}var On=.1,Wt=.01,Ue=20,qt=Math.pow(.995,Ue);function Kn(e,t){var a=o.useState(),n=X(a,2),r=n[0],s=n[1],d=o.useState(0),c=X(d,2),l=c[0],b=c[1],k=o.useState(0),v=X(k,2),x=v[0],A=v[1],m=o.useState(),N=X(m,2),P=N[0],p=N[1],h=o.useRef();function f(u){var S=u.touches[0],_=S.screenX,w=S.screenY;s({x:_,y:w}),window.clearInterval(h.current)}function C(u){if(r){u.preventDefault();var S=u.touches[0],_=S.screenX,w=S.screenY;s({x:_,y:w});var K=_-r.x,V=w-r.y;t(K,V);var L=Date.now();b(L),A(L-l),p({x:K,y:V})}}function E(){if(r&&(s(null),p(null),P)){var u=P.x/x,S=P.y/x,_=Math.abs(u),w=Math.abs(S);if(Math.max(_,w)<On)return;var K=u,V=S;h.current=window.setInterval(function(){if(Math.abs(K)<Wt&&Math.abs(V)<Wt){window.clearInterval(h.current);return}K*=qt,V*=qt,t(K*Ue,V*Ue)},Ue)}}var R=o.useRef();function $(u){var S=u.deltaX,_=u.deltaY,w=0,K=Math.abs(S),V=Math.abs(_);K===V?w=R.current==="x"?S:_:K>V?(w=S,R.current="x"):(w=_,R.current="y"),t(-w,-w)&&u.preventDefault()}var y=o.useRef(null);y.current={onTouchStart:f,onTouchMove:C,onTouchEnd:E,onWheel:$},o.useEffect(function(){function u(K){y.current.onTouchStart(K)}function S(K){y.current.onTouchMove(K)}function _(K){y.current.onTouchEnd(K)}function w(K){y.current.onWheel(K)}return document.addEventListener("touchmove",S,{passive:!1}),document.addEventListener("touchend",_,{passive:!1}),e.current.addEventListener("touchstart",u,{passive:!1}),e.current.addEventListener("wheel",w),function(){document.removeEventListener("touchmove",S),document.removeEventListener("touchend",_)}},[])}function ua(e){var t=o.useState(0),a=X(t,2),n=a[0],r=a[1],s=o.useRef(0),d=o.useRef();return d.current=e,Ka(function(){var c;(c=d.current)===null||c===void 0||c.call(d)},[n]),function(){s.current===n&&(s.current+=1,r(s.current))}}function jn(e){var t=o.useRef([]),a=o.useState({}),n=X(a,2),r=n[1],s=o.useRef(typeof e=="function"?e():e),d=ua(function(){var l=s.current;t.current.forEach(function(b){l=b(l)}),t.current=[],s.current=l,r({})});function c(l){t.current.push(l),d()}return[s.current,c]}var Xt={width:0,height:0,left:0,top:0,right:0};function Dn(e,t,a,n,r,s,d){var c=d.tabs,l=d.tabPosition,b=d.rtl,k,v,x;return["top","bottom"].includes(l)?(k="width",v=b?"right":"left",x=Math.abs(a)):(k="height",v="top",x=-a),o.useMemo(function(){if(!c.length)return[0,0];for(var A=c.length,m=A,N=0;N<A;N+=1){var P=e.get(c[N].key)||Xt;if(P[v]+P[k]>x+t){m=N-1;break}}for(var p=0,h=A-1;h>=0;h-=1){var f=e.get(c[h].key)||Xt;if(f[v]<x){p=h+1;break}}return p>=m?[0,0]:[p,m]},[e,t,n,r,s,x,l,c.map(function(A){return A.key}).join("_"),b])}function Jt(e){var t;return e instanceof Map?(t={},e.forEach(function(a,n){t[n]=a})):t=e,JSON.stringify(t)}var Vn="TABS_DQ";function pa(e){return String(e).replace(/"/g,Vn)}function Hn(e,t){var a=e.prefixCls,n=e.editable,r=e.locale,s=e.style;return!n||n.showAdd===!1?null:o.createElement("button",{ref:t,type:"button",className:"".concat(a,"-nav-add"),style:s,"aria-label":(r==null?void 0:r.addAriaLabel)||"Add tab",onClick:function(c){n.onEdit("add",{event:c})}},n.addIcon||"+")}const ma=o.forwardRef(Hn);var Yt=o.forwardRef(function(e,t){var a=e.position,n=e.prefixCls,r=e.extra;if(!r)return null;var s,d={};return St(r)==="object"&&!o.isValidElement(r)?d=r:d.right=r,a==="right"&&(s=d.right),a==="left"&&(s=d.left),s?o.createElement("div",{className:"".concat(n,"-extra-content"),ref:t},s):null});function zn(e,t){var a=e.prefixCls,n=e.id,r=e.tabs,s=e.locale,d=e.mobile,c=e.moreIcon,l=c===void 0?"More":c,b=e.moreTransitionName,k=e.style,v=e.className,x=e.editable,A=e.tabBarGutter,m=e.rtl,N=e.removeAriaLabel,P=e.onTabClick,p=e.getPopupContainer,h=e.popupClassName,f=o.useState(!1),C=X(f,2),E=C[0],R=C[1],$=o.useState(null),y=X($,2),u=y[0],S=y[1],_="".concat(n,"-more-popup"),w="".concat(a,"-dropdown"),K=u!==null?"".concat(_,"-").concat(u):null,V=s==null?void 0:s.dropdownAriaLabel;function L(j,Y){j.preventDefault(),j.stopPropagation(),x.onEdit("remove",{key:Y,event:j})}var ne=o.createElement(za,{onClick:function(Y){var T=Y.key,M=Y.domEvent;P(T,M),R(!1)},prefixCls:"".concat(w,"-menu"),id:_,tabIndex:-1,role:"listbox","aria-activedescendant":K,selectedKeys:[u],"aria-label":V!==void 0?V:"expanded dropdown"},r.map(function(j){var Y=x&&j.closable!==!1&&!j.disabled;return o.createElement(Fa,{key:j.key,id:"".concat(_,"-").concat(j.key),role:"option","aria-controls":n&&"".concat(n,"-panel-").concat(j.key),disabled:j.disabled},o.createElement("span",null,j.label),Y&&o.createElement("button",{type:"button","aria-label":N||"remove",tabIndex:0,className:"".concat(w,"-menu-item-remove"),onClick:function(M){M.stopPropagation(),L(M,j.key)}},j.closeIcon||x.removeIcon||"×"))}));function pe(j){for(var Y=r.filter(function(W){return!W.disabled}),T=Y.findIndex(function(W){return W.key===u})||0,M=Y.length,B=0;B<M;B+=1){T=(T+j+M)%M;var O=Y[T];if(!O.disabled){S(O.key);return}}}function re(j){var Y=j.which;if(!E){[ve.DOWN,ve.SPACE,ve.ENTER].includes(Y)&&(R(!0),j.preventDefault());return}switch(Y){case ve.UP:pe(-1),j.preventDefault();break;case ve.DOWN:pe(1),j.preventDefault();break;case ve.ESC:R(!1);break;case ve.SPACE:case ve.ENTER:u!==null&&P(u,j);break}}o.useEffect(function(){var j=document.getElementById(K);j&&j.scrollIntoView&&j.scrollIntoView(!1)},[u]),o.useEffect(function(){E||S(null)},[E]);var de=se({},m?"marginRight":"marginLeft",A);r.length||(de.visibility="hidden",de.order=1);var Re=G(se({},"".concat(w,"-rtl"),m)),me=d?null:o.createElement(Ua,{prefixCls:w,overlay:ne,trigger:["hover"],visible:r.length?E:!1,transitionName:b,onVisibleChange:R,overlayClassName:G(Re,h),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:p},o.createElement("button",{type:"button",className:"".concat(a,"-nav-more"),style:de,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":_,id:"".concat(n,"-more"),"aria-expanded":E,onKeyDown:re},l));return o.createElement("div",{className:G("".concat(a,"-nav-operations"),v),style:k,ref:t},me,o.createElement(ma,{prefixCls:a,locale:s,editable:x}))}const Fn=o.memo(o.forwardRef(zn),function(e,t){return t.tabMoving});function Gn(e){var t,a=e.prefixCls,n=e.id,r=e.active,s=e.tab,d=s.key,c=s.label,l=s.disabled,b=s.closeIcon,k=e.closable,v=e.renderWrapper,x=e.removeAriaLabel,A=e.editable,m=e.onClick,N=e.onFocus,P=e.style,p="".concat(a,"-tab"),h=A&&k!==!1&&!l;function f(R){l||m(R)}function C(R){R.preventDefault(),R.stopPropagation(),A.onEdit("remove",{key:d,event:R})}var E=o.createElement("div",{key:d,"data-node-key":pa(d),className:G(p,(t={},se(t,"".concat(p,"-with-remove"),h),se(t,"".concat(p,"-active"),r),se(t,"".concat(p,"-disabled"),l),t)),style:P,onClick:f},o.createElement("div",{role:"tab","aria-selected":r,id:n&&"".concat(n,"-tab-").concat(d),className:"".concat(p,"-btn"),"aria-controls":n&&"".concat(n,"-panel-").concat(d),"aria-disabled":l,tabIndex:l?null:0,onClick:function($){$.stopPropagation(),f($)},onKeyDown:function($){[ve.SPACE,ve.ENTER].includes($.which)&&($.preventDefault(),f($))},onFocus:N},c),h&&o.createElement("button",{type:"button","aria-label":x||"remove",tabIndex:0,className:"".concat(p,"-remove"),onClick:function($){$.stopPropagation(),C($)}},b||A.removeIcon||"×"));return v?v(E):E}var Ne=function(t){var a=t.current||{},n=a.offsetWidth,r=n===void 0?0:n,s=a.offsetHeight,d=s===void 0?0:s;return[r,d]},Fe=function(t,a){return t[a?0:1]};function Un(e,t){var a,n=o.useContext(Ze),r=n.prefixCls,s=n.tabs,d=e.className,c=e.style,l=e.id,b=e.animated,k=e.activeKey,v=e.rtl,x=e.extra,A=e.editable,m=e.locale,N=e.tabPosition,P=e.tabBarGutter,p=e.children,h=e.onTabClick,f=e.onTabScroll,C=o.useRef(),E=o.useRef(),R=o.useRef(),$=o.useRef(),y=o.useRef(),u=o.useRef(),S=o.useRef(),_=N==="top"||N==="bottom",w=Ut(0,function(z,H){_&&f&&f({direction:z>H?"left":"right"})}),K=X(w,2),V=K[0],L=K[1],ne=Ut(0,function(z,H){!_&&f&&f({direction:z>H?"top":"bottom"})}),pe=X(ne,2),re=pe[0],de=pe[1],Re=o.useState([0,0]),me=X(Re,2),j=me[0],Y=me[1],T=o.useState([0,0]),M=X(T,2),B=M[0],O=M[1],W=o.useState([0,0]),U=X(W,2),I=U[0],ee=U[1],D=o.useState([0,0]),Q=X(D,2),tt=Q[0],at=Q[1],q=jn(new Map),ye=X(q,2),Me=ye[0],ba=ye[1],Ve=Ln(s,Me,B[0]),nt=Fe(j,_),Be=Fe(B,_),it=Fe(I,_),_t=Fe(tt,_),xt=nt<Be+it,he=xt?nt-_t:nt-it,ga="".concat(r,"-nav-operations-hidden"),ke=0,xe=0;_&&v?(ke=0,xe=Math.max(0,Be-he)):(ke=Math.min(0,he-Be),xe=0);function ot(z){return z<ke?ke:z>xe?xe:z}var At=o.useRef(),va=o.useState(),Ct=X(va,2),He=Ct[0],Rt=Ct[1];function rt(){Rt(Date.now())}function lt(){window.clearTimeout(At.current)}Kn($,function(z,H){function Z(ie,Se){ie(function(be){var Ca=ot(be+Se);return Ca})}return xt?(_?Z(L,z):Z(de,H),lt(),rt(),!0):!1}),o.useEffect(function(){return lt(),He&&(At.current=window.setTimeout(function(){Rt(0)},100)),lt},[He]);var fa=Dn(Ve,he,_?V:re,Be,it,_t,ce(ce({},e),{},{tabs:s})),Nt=X(fa,2),ya=Nt[0],ka=Nt[1],Et=ja(function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k,H=Ve.get(z)||{width:0,height:0,left:0,right:0,top:0};if(_){var Z=V;v?H.right<V?Z=H.right:H.right+H.width>V+he&&(Z=H.right+H.width-he):H.left<-V?Z=-H.left:H.left+H.width>-V+he&&(Z=-(H.left+H.width-he)),de(0),L(ot(Z))}else{var ie=re;H.top<-re?ie=-H.top:H.top+H.height>-re+he&&(ie=-(H.top+H.height-he)),L(0),de(ot(ie))}}),ze={};N==="top"||N==="bottom"?ze[v?"marginRight":"marginLeft"]=P:ze.marginTop=P;var wt=s.map(function(z,H){var Z=z.key;return o.createElement(Gn,{id:l,prefixCls:r,key:Z,tab:z,style:H===0?void 0:ze,closable:z.closable,editable:A,active:Z===k,renderWrapper:p,removeAriaLabel:m==null?void 0:m.removeAriaLabel,onClick:function(Se){h(Z,Se)},onFocus:function(){Et(Z),rt(),$.current&&(v||($.current.scrollLeft=0),$.current.scrollTop=0)}})}),Tt=function(){return ba(function(){var H=new Map;return s.forEach(function(Z){var ie,Se=Z.key,be=(ie=y.current)===null||ie===void 0?void 0:ie.querySelector('[data-node-key="'.concat(pa(Se),'"]'));be&&H.set(Se,{width:be.offsetWidth,height:be.offsetHeight,left:be.offsetLeft,top:be.offsetTop})}),H})};o.useEffect(function(){Tt()},[s.map(function(z){return z.key}).join("_")]);var st=ua(function(){var z=Ne(C),H=Ne(E),Z=Ne(R);Y([z[0]-H[0]-Z[0],z[1]-H[1]-Z[1]]);var ie=Ne(S);ee(ie);var Se=Ne(u);at(Se);var be=Ne(y);O([be[0]-ie[0],be[1]-ie[1]]),Tt()}),$a=s.slice(0,ya),Sa=s.slice(ka+1),It=[].concat(kt($a),kt(Sa)),_a=o.useState(),Pt=X(_a,2),xa=Pt[0],Aa=Pt[1],$e=Ve.get(k),Mt=o.useRef();function Bt(){jt.cancel(Mt.current)}o.useEffect(function(){var z={};return $e&&(_?(v?z.right=$e.right:z.left=$e.left,z.width=$e.width):(z.top=$e.top,z.height=$e.height)),Bt(),Mt.current=jt(function(){Aa(z)}),Bt},[$e,_,v]),o.useEffect(function(){Et()},[k,ke,xe,Jt($e),Jt(Ve),_]),o.useEffect(function(){st()},[v]);var Lt=!!It.length,Le="".concat(r,"-nav-wrap"),ct,dt,Ot,Kt;return _?v?(dt=V>0,ct=V!==xe):(ct=V<0,dt=V!==ke):(Ot=re<0,Kt=re!==ke),o.createElement(Vt,{onResize:st},o.createElement("div",{ref:Na(t,C),role:"tablist",className:G("".concat(r,"-nav"),d),style:c,onKeyDown:function(){rt()}},o.createElement(Yt,{ref:E,position:"left",extra:x,prefixCls:r}),o.createElement("div",{className:G(Le,(a={},se(a,"".concat(Le,"-ping-left"),ct),se(a,"".concat(Le,"-ping-right"),dt),se(a,"".concat(Le,"-ping-top"),Ot),se(a,"".concat(Le,"-ping-bottom"),Kt),a)),ref:$},o.createElement(Vt,{onResize:st},o.createElement("div",{ref:y,className:"".concat(r,"-nav-list"),style:{transform:"translate(".concat(V,"px, ").concat(re,"px)"),transition:He?"none":void 0}},wt,o.createElement(ma,{ref:S,prefixCls:r,locale:m,editable:A,style:ce(ce({},wt.length===0?void 0:ze),{},{visibility:Lt?"hidden":null})}),o.createElement("div",{className:G("".concat(r,"-ink-bar"),se({},"".concat(r,"-ink-bar-animated"),b.inkBar)),style:xa})))),o.createElement(Fn,ue({},e,{removeAriaLabel:m==null?void 0:m.removeAriaLabel,ref:u,prefixCls:r,tabs:It,className:!Lt&&ga,tabMoving:!!He})),o.createElement(Yt,{ref:R,position:"right",extra:x,prefixCls:r})))}const Qt=o.forwardRef(Un);var Wn=["renderTabBar"],qn=["label","key"];function Xn(e){var t=e.renderTabBar,a=qe(e,Wn),n=o.useContext(Ze),r=n.tabs;if(t){var s=ce(ce({},a),{},{panes:r.map(function(d){var c=d.label,l=d.key,b=qe(d,qn);return o.createElement(da,ue({tab:c,key:l,tabKey:l},b))})});return t(s,Qt)}return o.createElement(Qt,a)}function Jn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},t;return e===!1?t={inkBar:!1,tabPane:!1}:e===!0?t={inkBar:!0,tabPane:!1}:t=ce({inkBar:!0},St(e)==="object"?e:{}),t.tabPaneMotion&&t.tabPane===void 0&&(t.tabPane=!0),!t.tabPaneMotion&&t.tabPane&&(t.tabPane=!1),t}var Yn=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],Zt=0;function Qn(e,t){var a,n=e.id,r=e.prefixCls,s=r===void 0?"rc-tabs":r,d=e.className,c=e.items,l=e.direction,b=e.activeKey,k=e.defaultActiveKey,v=e.editable,x=e.animated,A=e.tabPosition,m=A===void 0?"top":A,N=e.tabBarGutter,P=e.tabBarStyle,p=e.tabBarExtraContent,h=e.locale,f=e.moreIcon,C=e.moreTransitionName,E=e.destroyInactiveTabPane,R=e.renderTabBar,$=e.onChange,y=e.onTabClick,u=e.onTabScroll,S=e.getPopupContainer,_=e.popupClassName,w=qe(e,Yn),K=o.useMemo(function(){return(c||[]).filter(function(q){return q&&St(q)==="object"&&"key"in q})},[c]),V=l==="rtl",L=Jn(x),ne=o.useState(!1),pe=X(ne,2),re=pe[0],de=pe[1];o.useEffect(function(){de(Da())},[]);var Re=Ht(function(){var q;return(q=K[0])===null||q===void 0?void 0:q.key},{value:b,defaultValue:k}),me=X(Re,2),j=me[0],Y=me[1],T=o.useState(function(){return K.findIndex(function(q){return q.key===j})}),M=X(T,2),B=M[0],O=M[1];o.useEffect(function(){var q=K.findIndex(function(Me){return Me.key===j});if(q===-1){var ye;q=Math.max(0,Math.min(B,K.length-1)),Y((ye=K[q])===null||ye===void 0?void 0:ye.key)}O(q)},[K.map(function(q){return q.key}).join("_"),j,B]);var W=Ht(null,{value:n}),U=X(W,2),I=U[0],ee=U[1];o.useEffect(function(){n||(ee("rc-tabs-".concat(Zt)),Zt+=1)},[]);function D(q,ye){y==null||y(q,ye);var Me=q!==j;Y(q),Me&&($==null||$(q))}var Q={id:I,activeKey:j,animated:L,tabPosition:m,rtl:V,mobile:re},tt,at=ce(ce({},Q),{},{editable:v,locale:h,moreIcon:f,moreTransitionName:C,tabBarGutter:N,onTabClick:D,onTabScroll:u,extra:p,style:P,panes:null,getPopupContainer:S,popupClassName:_});return o.createElement(Ze.Provider,{value:{tabs:K,prefixCls:s}},o.createElement("div",ue({ref:t,id:n,className:G(s,"".concat(s,"-").concat(m),(a={},se(a,"".concat(s,"-mobile"),re),se(a,"".concat(s,"-editable"),v),se(a,"".concat(s,"-rtl"),V),a),d)},w),tt,o.createElement(Xn,ue({},at,{renderTabBar:R})),o.createElement(Bn,ue({destroyInactiveTabPane:E},Q,{animated:L}))))}var Zn=o.forwardRef(Qn);const ei=()=>null,ti=ei,ai={motionAppear:!1,motionEnter:!0,motionLeave:!0};function ni(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},a;return t===!1?a={inkBar:!1,tabPane:!1}:t===!0?a={inkBar:!0,tabPane:!0}:a=Object.assign({inkBar:!0},typeof t=="object"?t:{}),a.tabPane&&(a.tabPaneMotion=Object.assign(Object.assign({},ai),{motionName:Va(e,"switch")})),a}var ii=globalThis&&globalThis.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a};function oi(e){return e.filter(t=>t)}function ri(e,t){if(e)return e;const a=Ea(t).map(n=>{if(o.isValidElement(n)){const{key:r,props:s}=n,d=s||{},{tab:c}=d,l=ii(d,["tab"]);return Object.assign(Object.assign({key:String(r)},l),{label:c})}return null});return oi(a)}const li=e=>{const{componentCls:t,motionDurationSlow:a}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${a}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${a}`}}}}},[zt(e,"slide-up"),zt(e,"slide-down")]]},si=li,ci=e=>{const{componentCls:t,tabsCardPadding:a,cardBg:n,cardGutter:r,colorBorderSecondary:s,itemSelectedColor:d}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:a,background:n,border:`${e.lineWidth}px ${e.lineType} ${s}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:d,background:e.colorBgContainer},[`${t}-ink-bar`]:{visibility:"hidden"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:`${r}px`}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:`${r}px`}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${e.borderRadiusLG}px 0 0 ${e.borderRadiusLG}px`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},di=e=>{const{componentCls:t,itemHoverColor:a,dropdownEdgeChildVerticalPadding:n}=e;return{[`${t}-dropdown`]:Object.assign(Object.assign({},oa(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${n}px 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},wa),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${e.paddingXXS}px ${e.paddingSM}px`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:a}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},ui=e=>{const{componentCls:t,margin:a,colorBorderSecondary:n,horizontalMargin:r,verticalItemPadding:s,verticalItemMargin:d}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:r,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${e.lineWidth}px ${e.lineType} ${n}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},
            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,
        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:`${a}px`,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:e.controlHeight*1.25,[`${t}-tab`]:{padding:s,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:d},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:`-${e.lineWidth}px`},borderLeft:{_skip_check_:!0,value:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:-e.lineWidth},borderRight:{_skip_check_:!0,value:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},pi=e=>{const{componentCls:t,cardPaddingSM:a,cardPaddingLG:n,horizontalItemPaddingSM:r,horizontalItemPaddingLG:s}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:r,fontSize:e.titleFontSizeSM}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:s,fontSize:e.titleFontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:a}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${e.borderRadius}px ${e.borderRadius}px`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${e.borderRadius}px ${e.borderRadius}px 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${e.borderRadius}px ${e.borderRadius}px 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${e.borderRadius}px 0 0 ${e.borderRadius}px`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:n}}}}}},mi=e=>{const{componentCls:t,itemActiveColor:a,itemHoverColor:n,iconCls:r,tabsHorizontalItemMargin:s,horizontalItemPadding:d,itemSelectedColor:c}=e,l=`${t}-tab`;return{[l]:{position:"relative",display:"inline-flex",alignItems:"center",padding:d,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer","&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:a}},ra(e)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-e.marginXXS},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},"&:hover":{color:n},[`&${l}-active ${l}-btn`]:{color:c,textShadow:e.tabsActiveTextShadow},[`&${l}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${l}-disabled ${l}-btn, &${l}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${l}-remove ${r}`]:{margin:0},[r]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${l} + ${l}`]:{margin:{_skip_check_:!0,value:s}}}},hi=e=>{const{componentCls:t,tabsHorizontalItemMarginRTL:a,iconCls:n,cardGutter:r}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:a},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[n]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:`${e.marginSM}px`}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:`${e.marginXS}px`},marginLeft:{_skip_check_:!0,value:`-${e.marginXXS}px`},[n]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:r},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},bi=e=>{const{componentCls:t,tabsCardPadding:a,cardHeight:n,cardGutter:r,itemHoverColor:s,itemActiveColor:d,colorBorderSecondary:c}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},oa(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:a,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.controlHeightLG/8,transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:Object.assign({minWidth:n,marginLeft:{_skip_check_:!0,value:r},padding:`0 ${e.paddingXS}px`,background:"transparent",border:`${e.lineWidth}px ${e.lineType} ${c}`,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:s},"&:active, &:focus:not(:focus-visible)":{color:d}},ra(e))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.inkBarColor,pointerEvents:"none"}}),mi(e)),{[`${t}-content`]:{position:"relative",width:"100%"},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:{outline:"none","&-hidden":{display:"none"}}}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},gi=la("Tabs",e=>{const t=sa(e,{tabsCardPadding:e.cardPadding||`${(e.cardHeight-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${e.horizontalItemGutter}px`,tabsHorizontalItemMarginRTL:`0 0 0 ${e.horizontalItemGutter}px`});return[pi(t),hi(t),ui(t),di(t),ci(t),bi(t),si(t)]},e=>{const t=e.controlHeightLG;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:t,cardPadding:"",cardPaddingSM:`${e.paddingXXS*1.5}px ${e.padding}px`,cardPaddingLG:`${e.paddingXS}px ${e.padding}px ${e.paddingXXS*1.5}px`,titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:`0 0 ${e.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${e.paddingSM}px 0`,horizontalItemPaddingSM:`${e.paddingXS}px 0`,horizontalItemPaddingLG:`${e.padding}px 0`,verticalItemPadding:`${e.paddingXS}px ${e.paddingLG}px`,verticalItemMargin:`${e.margin}px 0 0 0`,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}});var vi=globalThis&&globalThis.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a};function et(e){var{type:t,className:a,rootClassName:n,size:r,onEdit:s,hideAdd:d,centered:c,addIcon:l,popupClassName:b,children:k,items:v,animated:x}=e,A=vi(e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","popupClassName","children","items","animated"]);const{prefixCls:m,moreIcon:N=o.createElement(Ga,null)}=A,{direction:P,getPrefixCls:p,getPopupContainer:h}=o.useContext(Ae),f=p("tabs",m),[C,E]=gi(f);let R;t==="editable-card"&&(R={onEdit:(_,w)=>{let{key:K,event:V}=w;s==null||s(_==="add"?V:K,_)},removeIcon:o.createElement(Ha,null),addIcon:l||o.createElement(Pn,null),showAdd:d!==!0});const $=p(),y=ri(v,k),u=ni(f,x),S=Ta(r);return C(o.createElement(Zn,Object.assign({direction:P,getPopupContainer:h,moreTransitionName:`${$}-slide-up`},A,{items:y,className:G({[`${f}-${S}`]:S,[`${f}-card`]:["card","editable-card"].includes(t),[`${f}-editable-card`]:t==="editable-card",[`${f}-centered`]:c},a,n,E),popupClassName:G(b,E),editable:R,moreIcon:N,prefixCls:f,animated:u})))}et.TabPane=ti;var fi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};const yi=fi;var ki=function(t,a){return o.createElement(Je,ue({},t,{ref:a,icon:yi}))};const $i=o.forwardRef(ki);var Si={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z"}}]},name:"dollar",theme:"outlined"};const _i=Si;var xi=function(t,a){return o.createElement(Je,ue({},t,{ref:a,icon:_i}))};const Ai=o.forwardRef(xi),ae=({inputName:e,onChange:t,initialValue:a,editable:n})=>{const[r,s]=o.useState(0),d=l=>{s(l)},c=Te(l=>{d(l),t&&t(l)},600);return i(F.Item,{name:e,initialValue:a??void 0,style:{marginBottom:"4px"},children:i(je,{className:"custom-input-number",readOnly:n||!1,style:{width:"100%",textAlign:"right"},min:0,max:1e9,formatter:l=>`Rp ${l}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:l=>{if(!l)return;const b=parseInt(l.replace(/[^\d]/g,""),10);return isNaN(b)?0:b},value:r,onChange:l=>{c(l)}})})},{Text:Ci}=Ce,te=({value:e,color:t})=>{var a;return i(J,{style:{textAlign:"right",justifyContent:"end"},children:i(Ci,{style:{color:t,paddingLeft:"11px",paddingRight:"11px"},children:`Rp ${(a=Number(e)??0)==null?void 0:a.toFixed(2)}`.replace(/\B(?=(\d{3})+(?!\d))/g,",")})})},We=({inputName:e,onChange:t,initialValue:a,editable:n})=>{const[r,s]=o.useState(0),d=l=>{s(l)},c=Te(l=>{d(l),t&&t(l)},600);return i(F.Item,{name:e,initialValue:a??void 0,style:{marginBottom:"4px"},children:i(je,{className:"custom-input-number",readOnly:n||!1,min:0,step:.01,formatter:l=>`${l}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:l=>{if(!l)return;const b=parseFloat(l.replace(/[^\d.]/g,""));return isNaN(b)?0:b},value:r,onChange:l=>{c(l)}})})},ea={backgroundColor:"#fc0",fontWeight:"700",padding:"5px"},Oe={borderStyle:"solid",border:"solid 1px black",padding:"5px"},ta={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},gt={borderStyle:"solid",border:"solid 1px black",textAlign:"right",padding:"5px"},vt={borderStyle:"solid",border:"solid 1px black",backgroundColor:"#636f83",padding:"5px"},Ri=({data:e,form:t,subKey:a,rekapMak:n,calculate:r})=>{const[s,d]=o.useState(0);return o.useEffect(()=>{const c=parseFloat(t.getFieldValue(`${e.nomor}_beli_harga`)||0),l=parseFloat(t.getFieldValue(`${e.nomor}_produksi_harga`)||0),b=c+l;d(b)},[t,e.nomor]),g("tr",{style:{backgroundColor:e.flagBasket?"#ffffcc":""},children:[i("td",{style:ta,children:e.nomor}),i("td",{style:Oe,children:e.kode_coicop}),g("td",{colSpan:1,style:e.type==="sub"?ea:Oe,children:[e.rincian,e.type==="lain"&&i(F.Item,{name:`${e.nomor}_item`,children:i(fe,{placeholder:"Sebutkan"})})]}),i("td",{colSpan:1,style:e.type==="sub"?ea:ta,children:e.type==="lain"?i(F.Item,{name:`${e.nomor}_satuan`,children:i(fe,{placeholder:"Sebutkan"})}):e.satuan}),i("td",{style:e.type==="sub"?vt:Oe,children:e.type==="sub"||i(We,{inputName:`${e.nomor}_beli_volume`})}),g("td",{style:gt,children:[i(ae,{inputName:`${e.type==="sub"?"jumlah":""}${e.nomor}_beli_harga${e.subKey}`,onChange:c=>{t.setFieldsValue({[`${e.nomor}_beli_harga`]:c}),d(parseFloat(c||0)+parseFloat(t.getFieldValue(`${e.nomor}_produksi_harga`)||0)),e.type}}),e.type==="sub"&&i(te,{color:"red",value:n[e.subKey]?n[e.subKey].beli??0:0})]}),i("td",{style:e.type==="sub"?vt:Oe,children:e.type==="sub"||i(We,{inputName:`${e.nomor}_produksi_volume`})}),g("td",{style:gt,children:[i(ae,{inputName:`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`,onChange:c=>{t.setFieldsValue({[`${e.nomor}_produksi_harga`]:c}),d(parseFloat(c||0)+parseFloat(t.getFieldValue(`${e.nomor}_beli_harga`)||0)),e.type}}),e.type==="sub"&&i(te,{color:"red",value:n[e.subKey].produksi??0})]}),i("td",{style:e.type==="sub"?vt:Oe,children:e.type==="sub"||i(We,{inputName:`${e.nomor}_total_volume`})}),g("td",{style:gt,children:[i(ae,{inputName:`${e.nomor}_total_harga`}),i(te,{color:"red",value:e.type==="sub"?n[e.subKey].produksi+n[e.subKey].beli:s})]})]})},{Text:fo,Title:Ni}=Ce,Ei={borderCollapse:"collapse",width:"100%"},le={borderStyle:"solid",border:"solid 1px black",padding:"5px"},ge={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},ha=({title:e,konten:t,rekapMak:a,calculate:n,form:r})=>(e="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN, BAHAN MINUMAN, DAN ROKOK SEMINGGU TERAKHIR",g("table",{style:Ei,children:[g("thead",{children:[i("tr",{style:{backgroundColor:"#fc0",textAlign:"center"},children:i("th",{style:le,colSpan:10,children:i(J,{direction:"vertical",style:{padding:"25px"},children:i(Ni,{level:4,children:e})})})}),g("tr",{children:[i("th",{style:le,rowSpan:2,children:"No Urut"}),i("th",{style:le,rowSpan:2,children:"Kode COICOP"}),i("th",{style:le,rowSpan:2,children:"Rincian"}),i("th",{style:le,rowSpan:2,children:"Satuan standar"}),i("th",{style:le,colSpan:2,children:"Berasal dari pembelian (tunai/bon)"}),i("th",{style:le,colSpan:2,children:"Berasal dari produksi sendiri, pemberian, dsb"}),i("th",{style:le,colSpan:2,children:"Jumlah konsumsi"})]}),g("tr",{children:[i("th",{style:le,children:"Banyaknya (0,00)"}),i("th",{style:le,children:"Nilai (Rp)"}),i("th",{style:le,children:"Banyaknya (0,00)"}),i("th",{style:le,children:"Nilai (Rp)"}),i("th",{style:le,children:"Banyaknya (5) + (7) (0,00)"}),i("th",{style:le,children:"Nilai (6) + (8) (Rp)"})]})]}),g("tbody",{children:[g("tr",{children:[i("td",{width:"55px",style:ge,children:"(1)"}),i("td",{width:"130px",style:ge,children:"(2)"}),i("td",{style:ge,children:"(3)"}),i("td",{width:"80px",style:ge,children:"(4)"}),i("td",{width:"100px",style:ge,children:"(5)"}),i("td",{style:ge,children:"(6)"}),i("td",{width:"100px",style:ge,children:"(7)"}),i("td",{style:ge,children:"(8)"}),i("td",{width:"100px",style:ge,children:"(9)"}),i("td",{style:ge,children:"(10)"})]}),t.map((s,d)=>i(Ri,{data:s,form:r,rekapMak:a,calculate:n},d))]})]})),{Text:wi,Title:yo}=Ce,Ke=({form:e,rekapMak:t,calculate:a,from:n,to:r,hal:s})=>{const[d,c]=o.useState([]),[l,b]=o.useState(!0);o.useEffect(()=>{(async(x,A)=>{const{data:m}=await oe.get(route("api.mak.komoditas.list",{from:x,to:A})),N=m.map(P=>({nomor:P.id,kode_coicop:P.kode_coicop,rincian:P.nama_komoditas,satuan:P.satuan,type:P.type,subKey:P.id_kelompok,flagBasket:P.flag_basket}));c([...N]),b(!1)})(n,r)},[]);const k="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN & MINUMAN SEMINGGU TERAKHIR";return g(J,{direction:"vertical",style:{width:"100%"},children:[g(J,{style:{width:"100%",justifyContent:"end"},direction:"horizontal",children:[i(wi,{children:"Jumlah komoditas bahan makanan dan bahan minuman terisi pada halaman ini"}),i(We,{inputName:`hal${s}_jml_komoditas`})]}),i(ha,{form:e,konten:l?[]:d,title:k,rekapMak:t,calculate:a}),l&&i(ca,{active:!0,paragraph:{rows:10}})]})},Ti=({form:e,onFinish:t,tabContentStyle:a,subTotalHarga:n,calculate:r,rekapMak:s})=>{De.useMessage();function d(c){}return o.useEffect(()=>{r()},[]),g(F,{form:e,name:"Blok4_1_hal2",onFinish:t,autoComplete:"off",layout:"vertical",onValuesChange:Te(r,600),children:[i(F.Item,{name:"id_ruta",hidden:!0,children:i(fe,{placeholder:"id rt"})}),i(et,{onChange:d,type:"line",style:{backgroundColor:"#fff",padding:"10px"},items:[{label:"Hal 2",key:"1",children:i(Ke,{from:1,to:34,hal:2,form:e,calculate:r,rekapMak:s})},{label:"Hal 4",key:"2",children:i(Ke,{from:35,hal:4,to:62,form:e,calculate:r,rekapMak:s})},{label:"Hal 6",key:"3",children:i(Ke,{from:63,to:94,hal:6,form:e,calculate:r,rekapMak:s})},{label:"Hal 8",key:"4",children:i(Ke,{from:95,to:127,hal:8,form:e,calculate:r,rekapMak:s})},{label:"Blok 10",key:"5",children:i(Ke,{from:128,to:159,hal:10,form:e,calculate:r,rekapMak:s})}]})]})},{Text:Ii,Title:ko}=Ce,Pi=({onFinish:e,nomor_art:t,setDaftarArt:a,daftarArt:n,id_ruta:r,id_art:s,calculateKalori:d,konten:c})=>{const[l]=F.useForm(),[b,k]=o.useState(!0),[v,x]=o.useState({12:{beli:0,produksi:0,total:0},13:{beli:0,produksi:0,total:0}}),A=async f=>{console.log({values:f});try{const C=route("entri.mak.konsumsi_art.store"),{data:E}=await oe.patch(C,f,{headers:{"Content-Type":"application/json"}});console.log({data:E}),console.log("sucess")}catch(C){console.log("error",{error:C})}},m=({subKey:f,jenis:C})=>{const E=`${C}_harga${f}`,R=l.getFieldsValue(),$=Object.entries(R).filter(([S])=>S.endsWith(E)).reduce((S,[,_])=>S+(_||0),0);let y={...v};y[f][C]=$,x(y),[...n].map(S=>S.artKey===t?{...S,rekap:y}:S)},N=Te(()=>{const f="beli_harga12",C="beli_harga13",E="produksi_harga12",R="produksi_harga13",$=l.getFieldsValue(),y=Object.entries($).filter(([L])=>L.endsWith(f)&&!L.includes("jumlah")).reduce((L,[,ne])=>L+(ne||0),0),u=Object.entries($).filter(([L])=>L.endsWith(C)&&!L.includes("jumlah")).reduce((L,[,ne])=>L+(ne||0),0),S=Object.entries($).filter(([L])=>L.endsWith(E)&&!L.includes("jumlah")).reduce((L,[,ne])=>L+(ne||0),0),_=Object.entries($).filter(([L])=>L.endsWith(R)&&!L.includes("jumlah")).reduce((L,[,ne])=>L+(ne||0),0);let w={...v};w[12].beli=y,w[13].beli=u,w[12].produksi=S,w[13].produksi=_,w[12].total=y+S,w[13].total=u+_,w[12].total===0&&w[13].total===0||x(w);const V=[...n].map(L=>L.nomor_art===t?{...L,rekap:w}:L);a(V)},600),P=Te(()=>l.submit(),3e3),p=f=>{N(),P(),d(l.getFieldsValue()).then(C=>{let E=[...n];E[t].kalori=C})};o.useEffect(()=>{(async C=>{k(!0);const{data:E}=await oe.get(route("api.mak.konsumsi.art",{id_art:C}));n.forEach(u=>{u.id===C&&(console.log({element:u}),x(u.rekap))});const R=[159,192],y=E.map(u=>({[`${R.includes(u.id_komoditas)?"jumlah":""}${u.id_komoditas}_beli_harga${u.id_kelompok}`]:u.harga_beli,[`${R.includes(u.id_komoditas)?"jumlah":""}${u.id_komoditas}_produksi_harga${u.id_kelompok}`]:u.harga_produksi,[`${u.id_komoditas}_total_harga`]:u.harga_total,[`${u.id_komoditas}_item`]:u.item,[`${u.id_komoditas}_satuan`]:u.satuan,[`${u.id_komoditas}_beli_volume`]:u.volume_beli,[`${u.id_komoditas}_produksi_volume`]:u.volume_produksi,[`${u.id_komoditas}_total_volume`]:u.volume_total})).reduce((u,S)=>{for(const _ in S)S.hasOwnProperty(_)&&(u[_]=S[_]);return u},{});y[`blok4_31_${t}_id_art`]=C,l.setFieldsValue(y)})(s),N(),k(!0)},[s]),o.useEffect(()=>{console.log({konten:c})},[v]),o.useEffect(()=>{l.setFieldsValue({id_ruta:r,id_art:s}),d(l.getFieldsValue()).then(f=>{let C=[...n];C[t].kalori=f})},[l]);const h="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN, BAHAN MINUMAN, DAN ROKOK SEMINGGU TERAKHIR";return i(J,{direction:"vertical",style:{width:"100%"},children:g(F,{form:l,name:"Art",onFinish:A,autoComplete:"off",layout:"vertical",onValuesChange:p,children:[g(J,{style:{width:"100%",justifyContent:"end"},direction:"horizontal",children:[i(Ii,{children:"Jumlah komoditas bahan makanan,bahan minuman, dan rokok yang terisi pada halaman ini"}),i(F.Item,{style:{margin:"auto"},name:"id_ruta",hidden:!0,children:i(fe,{})}),i(F.Item,{style:{margin:"auto"},name:"id_art",hidden:!0,children:i(fe,{})}),i(F.Item,{style:{margin:"auto"},name:"hal6_jml_komoditas",children:i(je,{max:30,style:{width:"40px"}})})]}),c.length>0?i(ha,{form:l,konten:c,title:h,calculate:m,rekapMak:v}):i(ca,{active:!0,paragraph:{rows:10}})]})})},{Text:Mi,Title:Bi}=Ce,Li={borderCollapse:"collapse",width:"100%",backgroundColor:"#fff"},aa={borderStyle:"solid",border:"solid 1px black",padding:"5px"},Oi={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},Xe=({title:e,subtitle:t,columnsCount:a,columns:n,children:r})=>g("table",{style:Li,children:[i("thead",{style:{backgroundColor:"#fc0",textAlign:"center"},children:i("tr",{children:i("td",{colSpan:a,style:aa,children:g(J,{direction:"vertical",children:[i(Bi,{level:4,children:e}),i(Mi,{children:t})]})})})}),g("tbody",{children:[n&&g(_e,{children:[i("tr",{children:n.map(s=>i("th",{style:aa,children:s}))}),i("tr",{children:Array.from(Array(a).keys()).map(s=>g("td",{style:Oi,children:["(",s+1,")"]}))})]}),r]})]}),ft={borderStyle:"solid",border:"solid 1px black",margin:"auto",textAlign:"center",padding:"5px"},Ki=({artForm:e,artFormFinish:t,tabContentStyle:a,daftarArt:n,setDaftarArt:r,calculateKalori:s})=>{const d=$=>{console.log({values:$})},[c,l]=o.useState("0"),[b,k]=o.useState([]),[v,x]=o.useState([]),[A,m]=o.useState(!0),N=o.useRef(1),[P,p]=De.useMessage(),h=async()=>{const $=`Art-${N.current++}`;try{const{data:y}=await oe.post(route("entri.mak.art.store"),{nama:$,nomor_art:n.length+1,id_ruta:n[0].id_ruta});console.log({data:y});const u=[...n,{id:y.id,id_ruta:y.id_ruta,nomor_art:N.current++,nama:$,key:$,rekap:{12:{produksi:0,beli:0,total:0},13:{produksi:0,beli:0,total:0}}}];r([...u]),l($)}catch(y){console.error("Error in add function:",y)}},f=async $=>{const y=e.getFieldValue(`${$}-id_art`);if($===0){P.open({content:"anggota ruta pertama tidak boleh dihapus,",type:"warning",key:y,duration:3});return}try{const{data:u}=await oe.delete(route("entri.mak.art.delete",{id_art:y})),S=n.filter(_=>_.id!==y);r(S),P.open({content:"Berhasil menghapus 1 anggota rumah tangga",type:"success",key:y})}catch(u){console.error("Error in add function:",u),P.open({content:`Terjadi galat ketika menghapus data, tunjukan code ini pada Developer (${u})`,type:"error",key:y,duration:3})}},E=Te(($,y,u)=>{const S=[...n];S[$][y]=u.trim(),r(S)},1e3),R=Xa.throttle(f,2e3);return o.useEffect(()=>{const $=n.map((y,u)=>({label:y.nama,key:String(u),children:i(Pi,{onFinish:d,nomor_art:y.nomor_art,daftarArt:n,setDaftarArt:r,id_ruta:e.getFieldValue("id_ruta"),id_art:y.id,calculateKalori:s,konten:v})}));k([...$])},[n]),o.useEffect(()=>{(async(y,u)=>{const{data:S}=await oe.get(route("api.mak.komoditas.list",{from:y,to:u})),_=S.map(w=>({nomor:w.id,kode_coicop:w.kode_coicop,rincian:w.nama_komoditas,satuan:w.satuan,type:w.type,subKey:w.id_kelompok,flagBasket:w.flag_basket}));x([..._]),m(!1)})(159,197)},[]),g(J,{direction:"vertical",style:a,children:[p,i(Ee,{type:"primary",onClick:h,children:"Tambah Art"}),g(F,{name:"artForm",form:e,onFinish:t,children:[i(F.Item,{name:"id_ruta",hidden:!0,children:i(fe,{})}),i(Xe,{title:"DAFTAR ANGGOTA RUMAH TANGGA",columns:["Nomor","Nama Anggota Rumah Tangga","aksi"],columnsCount:3,children:n.map(($,y)=>g("tr",{children:[i("td",{style:ft,children:y+1}),g("td",{style:ft,children:[i(F.Item,{name:`${y}-id_art`,hidden:!0,children:i(fe,{})}),i(F.Item,{name:`${y}-nama`,style:{margin:"auto"},children:i(fe,{placeholder:"nama anggota rumah tangga",onChange:u=>E(y,"nama",u.target.value)})})]}),i("td",{style:ft,children:i(Ja,{placement:"topLeft",title:"apakah anda yakin akan menghapus art ini?",description:"hapus anggota rumah tangga",okText:"yakin dong",cancelText:"gajadi",onConfirm:()=>R(y),children:i(Ee,{disabled:y===0,children:"Hapus"})})})]},y))})]}),i(et,{style:{backgroundColor:"#fff",padding:"10px"},items:b,type:"line"})]})},ji=({form:e,onFinish:t,tabContentStyle:a,rekapMak:n,setRekapMak:r,daftarArt:s,daftarRincian432:d})=>{console.log({daftarArt:s});const c={borderStyle:"solid",border:"solid 1px black",padding:"5px"},l={borderStyle:"solid",border:"solid 1px black",textAlign:"right",padding:"5px"},b={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},[k,v]=De.useMessage(),x=p=>{let h=[...n];h[16].total=p,h[17].total=h[15].total+h[16].total,r(h)},A=({rincian:p,key:h})=>g("tr",{children:[i("td",{style:b,children:p.nomor}),i("td",{style:c,children:p.rincian}),i("td",{style:l,children:p.id<16&&g(_e,{children:[i(ae,{inputName:`blok4_32_${p.id-1}_beli`},h),i(te,{color:"red",value:n[p.id-1].beli},p.id)]})}),i("td",{style:l,children:p.id<16&&g(_e,{children:[i(ae,{inputName:`blok4_32_${p.id-1}_produksi`},h),i(te,{color:"red",value:n[p.id-1].produksi},p.id)]})}),i("td",{style:l,children:g(_e,{children:[i(ae,{inputName:`blok4_32_${p.id-1}_total`,onChange:h===16?x:void 0},h),i(te,{color:"red",value:n[p.id-1].total},p.id)]})})]}),[m,N]=o.useState({12:{beli:0,produksi:0,total:0},13:{beli:0,produksi:0,total:0}}),P=p=>{console.log("call calculate");let h=p.reduce((f,C)=>(Object.values(C.rekap).forEach((E,R)=>{f[R]=f[R]||{beli:0,produksi:0,total:0},f[R].beli+=E.beli,f[R].produksi+=E.produksi,f[R].total+=E.total}),f),[]);return{12:h[0],13:h[1]}};return o.useEffect(()=>{let p=P(s);(async()=>{var C;const{data:f}=await oe.get(route("entri.mak.art.fetch",{id_ruta:(C=s[0])==null?void 0:C.id_ruta}));f.forEach((E,R)=>{e.setFieldValue(`blok4_31_${R}_id_art`,E.id)})})(),N(p),r(f=>{let C=[...f];return C[12]=p[12],C[13]=p[13],C[14]=C.slice(0,14).reduce((E,R)=>({beli:E.beli+R.beli,produksi:E.produksi+R.produksi,total:E.total+R.total}),{beli:0,produksi:0,total:0}),[...C]}),console.log({rekapMak:n})},[s]),o.useEffect(()=>{(async()=>{var f;const{data:h}=await oe.get(route("entri.mak.art.fetch",{id_ruta:(f=s[0])==null?void 0:f.id_ruta}));console.log({daftarArt:s}),h.forEach((C,E)=>{e.setFieldValue(`blok4_31_${E}_id_art`,C.id)})})()},[]),i(J,{direction:"vertical",style:a,children:g(F,{form:e,name:"Blok4_3",onFinish:t,autoComplete:"off",layout:"vertical",children:[g(Xe,{title:"BLOK IV.3.1. REKAPITULASI PENGELUARAN MAKANAN DAN MINUMAN JADI SERTA ROKOK SELURUH ANGGOTA RUMAH TANGGA (DALAM RUPIAH)",subtitle:"",columns:["No.","Nama ART","Makanan dan Minuman Jadi (Pembelian)","Makanan dan Minuman Jadi (Produksi sendiri, Pemberian, dsb)","Rokok dan Tembaku (Pembelian)","Rokok dan Tembaku (Produksi sendiri, Pemberian, dsb)"],columnsCount:6,children:[s.map((p,h)=>g("tr",{children:[i("td",{style:b,children:h+1}),g("td",{style:c,children:[p.nama,i(F.Item,{name:`blok4_31_${h}_id_art`,label:null,initialValue:p.id,hidden:!0,children:i(fe,{})},`form-item-${h}`)]}),g("td",{style:l,children:[i(ae,{inputName:`blok4_31_${h}_mak_beli`,initialValue:p.mak_beli}),i(te,{color:"red",value:p.rekap[12].beli})]}),g("td",{style:l,children:[i(ae,{inputName:`blok4_31_${h}_mak_produksi`,initialValue:p.mak_produksi}),i(te,{color:"red",value:p.rekap[12].produksi})]}),g("td",{style:l,children:[i(ae,{inputName:`blok4_31_${h}_rokok_beli`,initialValue:p.rokok_beli}),i(te,{color:"red",value:p.rekap[13].beli})]}),g("td",{style:l,children:[i(ae,{inputName:`blok4_31_${h}_rokok_produksi`,initialValue:p.rokok_produksi}),i(te,{color:"red",value:p.rekap[13].produksi})]})]})),s.length>0&&g("tr",{children:[i("td",{style:c}),i("td",{style:c,children:"JUMLAH"}),g("td",{style:l,children:[i(ae,{inputName:"blok4_31_jumlah_mak_beli"}),i(te,{color:"red",value:m[12].beli})]}),g("td",{style:l,children:[i(ae,{inputName:"blok4_31_jumlah_mak_produksi"}),i(te,{color:"red",value:m[12].produksi})]}),g("td",{style:l,children:[i(ae,{inputName:"blok4_31_jumlah_rokok_beli"}),i(te,{color:"red",value:m[13].beli})]}),g("td",{style:l,children:[i(ae,{inputName:"blok4_31_jumlah_rokok_produksi"}),i(te,{color:"red",value:m[13].produksi})]})]})]},1),i(Pa,{}),i(Xe,{title:"BLOK IV.3.2. REKAPITULASI PENGELUARAN MAKANAN, MINUMAN, DAN ROKOK (DALAM RUPIAH)",subtitle:"[Kolom (3) Disalin dari Blok IV.1 Kolom (6), Blok IV.3.1 Kolom (3), atau (5)] dan [Kolom (4) Disalin dari Blok IV.1 Kolom (8), Blok IV.3.1 Kolom (4), atau (6)]",columnsCount:5,columns:["No.","Jenis Pengeluaran","Pembelian Seminggu Terakhir","Produksi Sendiri, Pemberian, dsb., Seminggu Terakhir","Total Seminggu Terakhir [Kolom 3 + Kolom 4]"],children:d.map((p,h)=>A({rincian:p,key:h}))},2),v]})})},{Text:Di,Title:Vi}=Ce,na={borderStyle:"solid",border:"solid 1px black",padding:"5px"},Ge={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},ia=({type:e,name:t,options:a,customKey:n,children:r,setValue:s})=>({number:i(F.Item,{name:t,label:null,children:i(je,{min:0})}),binary:i(Dt,{name:t,options:[{label:"[1] YA",value:"1"},{label:"[5] TIDAK",value:"5"}],onChange:s&&(c=>s(c))}),rupiah:i(ae,{inputName:t,editable:n===26}),multi:i(Dt,{name:t,options:a??[],onChange:s&&(c=>s(c))})})[e],Hi=({props:e,defaultValue:t})=>{const[a,n]=o.useState(t),[r,s]=o.useState([]),d=g(_e,{children:[i("td",{style:Ge,children:e.nomor}),i("td",{style:na,children:e.rincian})]});return o.useEffect(()=>{if(e.children){let c=e.children.filter((l,b)=>{var k;return(k=l.dependentValues)==null?void 0:k.includes(a)}).map(l=>g("tr",{children:[i("td",{style:Ge}),i("td",{style:na,children:l.rincian}),i("td",{style:Ge,children:i(ia,{type:l.type,name:`wtf_${l.nomor}`,options:l.options,customKey:l.id},l.nomor)})]},e.id));s(c)}},[a,e.children]),g(_e,{children:[g("tr",{style:{backgroundColor:e.id%2===0?" #fffae6":""},children:[d,i("td",{style:Ge,children:i(ia,{type:e.type,name:`wtf_${e.id}`,options:e.options,customKey:e.id,children:e.children,setValue:n},e.id)})]}),r.map(c=>c)]})},zi=[{id:2,nomor:2,rincian:"BANYAKNYA ART (Blok III Rincian 301)",type:"number"},{id:3,nomor:3,rincian:"ADA BALITA? (R302>0)",type:"binary",children:[{id:27,nomor:"3c1",dependentValues:["1"],rincian:"Jumlah konsumsi susu (VSEN24.KP Rincian 70 s.d 74)",type:"rupiah"}]},{id:4,nomor:4,rincian:"ADA WANITA USIA SUBUR? (R405=2 dan R407 usia 10-54 tahun)",type:"binary"},{id:5,nomor:5,rincian:"ADA PEMBANTU/SUPIR? (R403=8)",type:"binary",children:[{id:28,nomor:"5c1",dependentValues:["1"],rincian:"Jumlah Gaji/Upah pembantu rumah tangga (VSEN24.KP Rincian 277)",type:"rupiah"}]},{id:6,nomor:6,rincian:"ADA ART YANG BEROBAT JALAN/RAWAT INAP? (R1105=1 ATAU R1201=1)",type:"binary",children:[{id:29,nomor:"6c1",dependentValues:["1"],rincian:"VSEN24.KP Rincian 248 s.d 254 Kolom 5 (Setahun terakhir)",type:"rupiah"},{id:29,nomor:"6c2",dependentValues:["1"],rincian:"VSEN24.KP Rincian 255 s.d 257 Kolom 5 (Setahun terakhir)",type:"rupiah"}]},{id:7,nomor:7,rincian:"ADA ART YANG MENGOBATI SENDIRI? (R1104=1)",type:"binary"},{id:8,nomor:8,rincian:"ADA ART YANG PERNAH MENGGUNAKAN INTERNET?(R808 =1)",type:"binary",children:[{id:30,nomor:"8c1",dependentValues:["1"],rincian:"VSEN24.KP Rincian 236+238",type:"rupiah"}]},{id:9,nomor:9,rincian:"ADA ART YANG MEMILIKI TABUNGAN (BANK)?(R701=1)",type:"binary"},{id:10,nomor:10,rincian:"ADA ART YANG SEDANG BERSEKOLAH? (R610=2)",type:"binary",children:[{id:31,nomor:"10c1",dependentValues:["1"],rincian:"VSEN24.KP Rincian 265 s.d. 270",type:"rupiah"}]},{id:11,nomor:11,rincian:"ADA ART YANG MEMILIKI/MENGUASAI HP? (R802=1)",type:"binary"},{id:12,nomor:11,rincian:"ADA ART DENGAN STATUS PEKERJAAN BURUH/KARYAWAN/PEGAWAI/PEKERJA BEBAS? (R707=4 atau 5)",type:"binary"},{id:13,nomor:12,rincian:"ADA ART DENGAN STATUS BERUSAHA? (R706=1 atau 2)",type:"binary"},{id:14,nomor:17,rincian:"ADA ART YANG MEROKOK? (R1207 = 1 atau 2)",type:"binary",children:[{id:32,nomor:"14c1",dependentValues:["1"],rincian:"VSEN24.KP Rincian 192 Kolom 10",type:"rupiah"}]},{id:15,nomor:18,rincian:"ADA YANG SEDANG MENGGUNAKAN KB? (Blok XVI Rincian 1601=2)",type:"binary",children:[{id:33,nomor:"15c1",dependentValues:["1"],rincian:"VSEN24.KP Rincian 263 Kolom 5",type:"rupiah"}]},{id:16,nomor:14,rincian:"STATUS RUMAH? (Blok XVIII Rincian 1802)",type:"multi",options:[{label:"[1] Milik sendiri",value:"1"},{label:"[2] Kontrak/sewa",value:"2"},{label:"[3] Bebas sewa",value:"3"},{label:"[4] Dinas",value:"4"},{label:"[5] Lainnya",value:"5"}],children:[{id:34,nomor:"16c1",dependentValues:["1","3"],rincian:"VSEN24.KP Rincian 200",type:"rupiah"},{id:35,nomor:"16c2",dependentValues:["2"],rincian:"VSEN24.KP Rincian 201 + 202",type:"rupiah"},{id:37,nomor:"16c3",dependentValues:["4","5"],rincian:"VSEN24.KP Rincian 203",type:"rupiah"}]},{id:17,nomor:15,rincian:"RUTA MENGGUNAKAN PAM METERAN(LEDING)? (R1810A=3 atau R1814A=3)",type:"binary"},{id:18,nomor:16,rincian:"AIR MINUM? (R1810A)",type:"multi",options:[{label:"[1] Air kemasan bermerk",value:"1"},{label:"[2] Air isi ulang",value:"2"},{label:"[3] Leding/sumur bor/pompa ",value:"3"},{label:"[4] Lainnya",value:"4"}]},{id:19,nomor:17,rincian:"SUMBER AIR CUCI/MANDI, DLL (R1814A)",type:"multi",options:[{label:"[1] Air kemasan bermerk",value:"1"},{label:"[2] Air isi ulang",value:"2"},{label:"[3] Leding/sumur bor/pompa ",value:"3"},{label:"[4] Lainnya",value:"4"}]},{id:20,nomor:17,rincian:"SUMBER UTAMA PENERANGAN? (R1816A)",type:"multi",options:[{label:"[1] Listrik PLN dengan meteran",value:"1"},{label:"[2] Listrik PLN tanpa meteran",value:"2"},{label:"[3] Listrik non PLN",value:"3"},{label:"[4] Bukan listrik",value:"4"}]},{id:21,nomor:23,rincian:"BAHAN BAKAR MEMASAK? (R1817)",type:"multi",options:[{label:"[1] Listrik",value:"1"},{label:"[2] LPG > 3 kg",value:"2"},{label:"[3] LPG 3 kg",value:"3"},{label:"[4] Minyak tanah",value:"4"},{label:"[5] Arang/briket/kayu bakar",value:"5"},{label:"[6] Lainnya",value:"6"},{label:"[7] Tidak memasak di rumah",value:"7"}]},{id:22,nomor:24,rincian:"APAKAH RUTA MENERIMA KREDIT? (R1901 salah satu berkode 1)",type:"binary"},{id:23,nomor:26,rincian:"MEMILIKI KENDARAAN BERMOTOR? (R2001H=1 atau R2001.K=1)",type:"binary",children:[{id:39,nomor:"23c1",dependentValues:["1"],rincian:"VSEN24.KP Rincian 309",type:"rupiah"}]},{id:24,nomor:19,rincian:"MEMILIKI ASURANSI/JAMINAN KESEHATAN? (Blok XI Rincian 1101)",type:"binary",children:[{id:40,nomor:"24c1",dependentValues:["1"],rincian:"VSEN24.KP Rincian 311",type:"rupiah"}]},{id:26,nomor:"",rincian:"GARIS KEMISKINAN MARET 2023",type:"rupiah"}],Fi=({form:e,onFinish:t,tabContentStyle:a})=>g(J,{direction:"vertical",style:a,children:[i(J,{style:{width:"100%",justifyContent:"space-between"},direction:"horizontal"}),i(F,{form:e,name:"Worksheet",onFinish:t,autoComplete:"off",layout:"vertical",children:g("table",{style:{borderCollapse:"collapse",width:"100%"},children:[i("thead",{style:{backgroundColor:"#fc0",textAlign:"center"},children:i("tr",{children:i("td",{style:{borderStyle:"solid",border:"solid 1px black",padding:"5px"},colSpan:4,children:g(J,{direction:"vertical",children:[g(Vi,{level:4,style:{textTransform:"uppercase"},children:["Isian Worksheet Template"," "]}),i(Di,{children:"RINCIAN (Lihat Dokumen VSEN22.K)"})]})})})}),i("tbody",{children:zi.map(s=>Hi({props:s,defaultValue:e.getFieldValue(`wtf_${s.id}`)}))})]})})]}),Gi=({form:e,onFinish:t,tabContentStyle:a,rekapMak:n,daftarArt:r})=>{const s={borderStyle:"solid",border:"solid 1px black",padding:"5px"},d={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},[c,l]=De.useMessage(),[b,k]=o.useState([{rincian:"Kalori per Kapita per Hari",id:0,value:0},{rincian:"Kalori 52 basket komoditas per Kapita per Hari",id:6,value:0},{rincian:"Jumlah Komoditas Bahan Makanan/Minuman",id:1,value:0},{rincian:"Jumlah Komoditas Makanan/Minuman Jadi dan Rokok",id:2,value:0},{rincian:"Jumlah Komoditas Non Makanan [Disalin dari dokumen KP Blok III Rincian 305 ]",id:3,value:0},{rincian:"Jumlah Semua Komoditas",id:4,value:0},{rincian:"Pengeluaran per kapita",id:5,value:0}]),v=({rincian:A,key:m})=>g("tr",{children:[i("td",{style:{...d,width:"30px"},children:m+1}),i("td",{style:{...s,width:"auto"},children:A.rincian}),i("td",{style:{...s,width:"150px",textAlign:"right"},children:A.id===5?i(_e,{children:i(ae,{inputName:`blokqc_${A.id}`},m)}):i(J,{direction:"vertical",children:i(F.Item,{name:`blokqc_${A.id}`,label:null,style:{marginBottom:"5px",textAlign:"center"},children:i(je,{className:"custom-input-number",style:{textAlign:"right",width:"100%"},formatter:N=>(Number(N)??0).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")},m)})})})]},m);return o.useState({totalKalori:0,jumlahKomoditasMakananJadiNRokok:0,jumlahKomoditasBahanMakanan:0,jumlahKomoditas:0,pengeluaranPerKapita:0}),g(J,{direction:"vertical",style:a,children:[g(Ee,{onClick:async()=>{c.open({content:`menghitung ulang... ruta ${r[0].id_ruta}`,key:"calculate_qc",type:"loading"});const{data:A}=await oe.get(route("api.mak.calculate_qc",{id_ruta:r[0].id_ruta}));let m=[...b];m[0].value=A.kalori_total/r.length/7,m[1].value=A.jumlah_komoditas_bahan_makanan,m[2].value=A.jumlah_komoditas_makanan_jadi_rokok,m[3].value=e.getFieldValue("blokqc_3"),m[4].value=m[1].value+m[2].value+m[3].value,m[5].value=A.pengeluaran/r.length,m[6].value=A.kalori_basket/7,k([...m]),e.setFieldsValue({blokqc_0:m[0].value,blokqc_1:m[1].value,blokqc_2:m[2].value,blokqc_4:m[4].value,blokqc_5:m[5].value,blokqc_6:m[6].value})},children:[i(Ya,{}),"Hitung ulang"]}),g(F,{form:e,name:"Blok4_3",onFinish:t,autoComplete:"off",layout:"vertical",children:[i(Xe,{title:"Quality Control",columnsCount:3,columns:["No.","Rincian","Isian"],children:b.map((A,m)=>v({rincian:A,key:m}))},2),l]})]})},yt=[{id:1,nomor:1,rincian:"Padi-padian (R.1)",type:"standar"},{id:2,nomor:2,rincian:"Umbi-umbian (R.8)",type:"standar"},{id:3,nomor:3,rincian:"Ikan/udang/cumi/kerang (R.16)",type:"standar"},{id:4,nomor:4,rincian:"Daging (R.55)",type:"standar"},{id:5,nomor:5,rincian:"Telur dan Susu (R.65)",type:"standar"},{id:6,nomor:6,rincian:"Sayur-sayuran (R.75)",type:"standar"},{id:7,nomor:7,rincian:"Kacang-kacangan (R.102)",type:"standar"},{id:8,nomor:8,rincian:"Buah-buahan (R.110)",type:"standar"},{id:9,nomor:9,rincian:"Minyak dan Kelapa (R.126)",type:"standar"},{id:10,nomor:10,rincian:"Bahan Minuman (R.131)",type:"standar"},{id:11,nomor:11,rincian:"Bumbu-bumbuan (R.139)",type:"standar"},{id:12,nomor:12,rincian:"Bahan Makanan Lainnya (R.154)",type:"standar"},{id:13,nomor:13,rincian:"Makanan dan Minuman Jadi (Blok IV.3.1 Baris Jumlah)",type:"standar"},{id:14,nomor:14,rincian:"Rokok dan Tembakau (Blok IV.3.1 Baris Jumlah)",type:"standar"},{id:15,nomor:15,rincian:"SUBJUMLAH [R.1 s.d. R.14]",type:"standar"},{id:16,nomor:16,rincian:"RATA-RATA PENGELUARAN MAKANAN SEBULAN [R.15 x 30/7]",type:"average"},{id:17,nomor:17,rincian:"RATA-RATA PENGELUARAN BUKAN MAKANAN SEBULAN [salin dari Blok 4.3.3 rincian 8 kolom 3]",type:"average"},{id:18,nomor:18,rincian:"RATA-RATA PENGELUARAN MAKANAN SEBULAN [R.16 + R17]",type:"average"}],Ui=({data:e,konsumsi_ruta:t,art:a,garis_kemiskinan:n,rekap_konsumsi:r,rekap_konsumsi_art:s})=>{const d={backgroundColor:"#fff",paddingLeft:"10px",paddingRight:"10px",paddingBottom:"15px",width:"100%"},[c]=F.useForm(),[l]=F.useForm(),[b]=F.useForm();F.useForm();let[k]=F.useForm();F.useForm();const[v,x]=o.useState([]),[A,m]=o.useState(null),[N,P]=o.useState([]),[p,h]=o.useState(yt.map(T=>({beli:0,produksi:0,total:0}))),[f,C]=o.useState(!0),[E,R]=o.useState(!1),[$,y]=o.useState([]),u=()=>{R(!1)},[S,_]=De.useMessage(),w=async T=>{try{const M=route("entri.mak.update"),{data:B}=await oe.patch(M,T,{headers:{"Content-Type":"application/json"}})}catch{S.open({type:"error",key:"cari",content:"Oops terjadi kesalahan dalam menyimpan kuesioner VSUSENAS-MAK, silahkan hubungi admin"})}},K=async T=>{try{const M=route("entri.mak.art.update"),B=await oe.patch(M,T,{headers:{"Content-Type":"application/json"}})}catch{S.open({type:"error",key:"4_1",content:"Oops terjadi kesalahan dalam menyimpan Kuesioner ART, silahkan hubungi admin"})}},V=async T=>{try{const M=route("entri.mak.konsumsi.store"),{data:B}=await oe.patch(M,T,{headers:{"Content-Type":"application/json"}});x(B.data)}catch{S.open({type:"error",key:"4_1",content:"Oops terjadi kesalahan dalam mmenyimpan konsumsi, silahkan hubungi admin"})}},L=async T=>{try{const M=route("api.entri.inti",T),{data:B}=await oe.get(M);x(B.data)}catch{S.open({type:"error",key:"cari",content:"Oops terjadi kesalahan dalam menyimpan blok 4 1 art, silahkan hubungi admin"})}};function ne(T){}const[pe,re]=o.useState([]),[de,Re]=o.useState([{beli:0,produksi:0,total:0},{beli:0,produksi:0,total:0},{beli:0,produksi:0,total:0},{beli:0,produksi:0,total:0},{beli:0,produksi:0,total:0},{beli:0,produksi:0,total:0},{beli:0,produksi:0,total:0},{beli:0,produksi:0,total:0},{beli:0,produksi:0,total:0},{beli:0,produksi:0,total:0},{beli:0,produksi:0,total:0},{beli:0,produksi:0,total:0}]),me=async T=>{const B=Object.entries(T).filter(([W,U])=>W.endsWith("volume")&&typeof U=="number"&&U>0).map(async W=>{let U=W[0].split("_")[0],I=Number(W[1])??0;try{const{data:ee}=await oe.get(route("api.mak.komoditas.kalori.fetch",{id:U}));return I*ee}catch{return console.log("error ketika fetch data kalori"),0}});return(await Promise.all(B)).reduce((W,U)=>W+U,0)},j=async()=>{const T=l.getFieldsValue();me(T).then(B=>{}),[0,1,2,3,4,5,6,7,8,9,10,11,14,15,16,17].forEach(B=>{let O=[...p];const W=`beli_harga${B}`,U=Object.entries(T).filter(([D])=>D.endsWith(W)&&!D.includes("jumlah")).reduce((D,[,Q])=>D+(Q||0),0);O[B].beli=U;const I=`produksi_harga${B}`,ee=Object.entries(T).filter(([D])=>D.endsWith(I)&&!D.includes("jumlah")).reduce((D,[,Q])=>D+(Q||0),0);O[B].produksi=ee,B<=13&&(O[B].total=O[B].beli+O[B].produksi),O[14]=O.slice(0,13).reduce((D,Q)=>({beli:D.beli+Q.beli,produksi:D.produksi+Q.produksi,total:D.total+Q.total}),{beli:0,produksi:0,total:0}),O[15].total=Math.round(O[14].total*30/7),O[17].total=O[15].total+O[16].total,h(O)})};o.useEffect(()=>{let T=[...p];N==null||N.forEach((B,O)=>{k.setFieldValue(`${O}-id_art`,B.id),k.setFieldValue(`${O}-nama`,B.nama)});const M=N==null?void 0:N.reduce((B,O)=>(Object.values(O.rekap).forEach((W,U)=>{B[U]=B[U]||{beli:0,produksi:0,total:0},B[U].beli+=W.beli,B[U].produksi+=W.produksi,B[U].total+=W.total}),B),[]);T[12]=M?M[0]:0,T[13]=M?M[1]:0,T[14]=T.slice(0,13).reduce((B,O)=>({beli:O?B.beli+O.beli:0,produksi:O?B.produksi+O.produksi:0,total:O?B.total+O.total:0}),{beli:0,produksi:0,total:0}),T[15].total=Math.round(T[14].total*30/7),T[17].total=T[15].total+T[16].total,h(T)},[N]),o.useRef(!1);const Y=T=>{T.ctrlKey&&T.key==="s"&&(T.preventDefault(),c.submit())};return o.useEffect(()=>{(()=>{if(a=a.map(ee=>({...ee,rekap:{12:{produksi:0,beli:0,total:0},13:{produksi:0,beli:0,total:0}}})),a.length<1&&P(ee=>[...ee,{id:"",id_ruta:e.id,nama:e.r110,nomor_art:0,rekap:{12:{produksi:0,beli:0,total:0},13:{produksi:0,beli:0,total:0}}}]),a.length>0){var I=[...a];s.map(D=>({id_art:D.id_art,id_kelompok:D.id_kelompok,beli:Number(D.beli),produksi:Number(D.produksi)})).forEach(D=>(I=I.map(Q=>(Q.id===D.id_art&&(Q.rekap[D.id_kelompok].produksi=D.produksi,Q.rekap[D.id_kelompok].beli=D.beli,Q.rekap[D.id_kelompok].total=D.beli+D.produksi),Q)),D)),console.log({newDaftarArt:I}),P(I)}})(),document.addEventListener("keydown",Y),console.log({data:e}),c.setFieldsValue(e);let M=[...p];r.map(I=>({id_kelompok:I.id_kelompok,beli:Number(I.beli),produksi:Number(I.produksi)})).forEach(I=>{M[I.id_kelompok].beli=I.beli,M[I.id_kelompok].produksi=I.produksi,M[I.id_kelompok].total=I.produksi+I.beli}),M[16].total=e.blok4_32_16_total,h(M),c.setFieldValue("wtf_26",n),l.setFieldsValue({id_ruta:e.id,hal10_jml_komoditas:e.hal10_jml_komoditas??void 0,hal8_jml_komoditas:e.hal8_jml_komoditas??void 0,hal6_jml_komoditas:e.hal6_jml_komoditas??void 0,hal4_jml_komoditas:e.hal4_jml_komoditas??void 0,hal2_jml_komoditas:e.hal2_jml_komoditas??void 0});const O=[1,8,16],U=t.map(I=>({[`${O.includes(I.id_komoditas)?"jumlah":""}${I.id_komoditas}_beli_harga${I.id_kelompok}`]:I.harga_beli,[`${O.includes(I.id_komoditas)?"jumlah":""}${I.id_komoditas}_produksi_harga${I.id_kelompok}`]:I.harga_produksi,[`${I.id_komoditas}_total_harga`]:I.harga_total,[`${I.id_komoditas}_item`]:I.item,[`${I.id_komoditas}_satuan`]:I.satuan,[`${I.id_komoditas}_beli_volume`]:I.volume_beli,[`${I.id_komoditas}_produksi_volume`]:I.volume_produksi,[`${I.id_komoditas}_total_volume`]:I.volume_total})).reduce((I,ee)=>{for(const D in ee)ee.hasOwnProperty(D)&&(I[D]=ee[D]);return I},{});l.setFieldsValue(U),k.setFieldsValue({id_ruta:e.id}),m(new Date(e.updated_at))},[]),g(_e,{children:[_,i(Ia,{title:"Entri Kuesioner Inti"}),g(J,{style:{width:"100%",minHeight:"300px",padding:"10px 15px"},direction:"vertical",children:[g(J,{style:{width:"100%",justifyContent:"space-between"},direction:"horizontal",children:[i(J,{children:g(Ee,{onClick:()=>ut.get(route("entri",{kode_kabkot:c.getFieldValue("kode_kabkot"),nks:c.getFieldValue("nks")})),children:[i($i,{})," Kembali"]})}),g(J,{direction:"horizontal",style:{width:"100%",justifyContent:"end"},children:["Last Saved :",(A==null?void 0:A.toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}))||"Never",g(Ee,{type:"primary",onClick:async()=>{S.loading({content:"Menyimpan data",type:"loading",key:"simpan",duration:1e4});try{const[T,M,B]=await Promise.all([k.submit(),c.submit(),l.submit()]);m(new Date),ut.get(route("entri.mak.edit",{id:e.id}),{},{preserveState:!0,preserveScroll:!0}),S.open({content:"Data berhasil tersimpan",type:"success",key:"simpan",duration:2})}catch(T){console.error("Error submitting forms:",T)}},children:[i(Ba,{})," Simpan"]}),g(Ee,{type:"primary",style:{backgroundColor:"#e64d00"},onClick:async()=>{R(!0);const T=c.getFieldValue("id");try{const[M,B,O]=await Promise.all([k.submit(),c.submit(),l.submit()]);m(new Date),ut.get(route("entri.mak.edit",{id:T}),{},{preserveState:!0,preserveScroll:!0});const{data:W}=await oe.get(route("api.mak.revalidasi",{id_ruta:T}));let U=[...$];U=[...W.evaluasi_rh,...W.evaluasi_basket],y([...U]),S.open({content:"revalidsai selesai",type:"success",key:"revalidasi"}),C(!1)}catch(M){console.error("Error submitting forms:",M)}},children:[i(Ai,{}),"Evaluasi Range Harga"]})]})]}),i(et,{onChange:ne,type:"card",items:[{label:"Blok I, II",key:"1",children:i(La,{tabContentStyle:d,form:c,onFinish:w,setDaftarArt:P,editable:!1})},{label:"Worksheet",key:"2",children:i(Fi,{tabContentStyle:d,form:c,onFinish:w})},{label:"Blok IV.1",key:"3",children:i(Ti,{onFinish:V,form:l,tabContentStyle:d,calculate:j,subTotalHarga:de,rekapMak:p,setRekapMak:h})},{label:"Blok IV.1 ART",key:"4",children:i(Ki,{tabContentStyle:d,form:b,artForm:k,onFinish:L,artFormFinish:K,rekapArt:pe,setRekapArt:re,daftarArt:N,setDaftarArt:P,calculateKalori:me})},{label:"Blok IV.3",key:"5",children:i(ji,{tabContentStyle:d,form:c,onFinish:w,daftarArt:N,rekapMak:p,daftarRincian432:yt,setRekapMak:h})},{label:"Blok QC",key:"6",children:i(Gi,{tabContentStyle:d,form:c,onFinish:w,daftarArt:N,rekapMak:p,daftarRincian432:yt,setRekapMak:h})}]})]}),i(Qa,{cancelText:"Tutup",okText:"Oke",handleCancel:u,confirmLoadingModal:!1,openModal:E,handleOk:u,title:"Daftar Warning",width:"1200px",children:f?g(J,{style:{width:"100%",justifyContent:"center"},direction:"vertical",children:[i(J,{style:{width:"100%",justifyContent:"center"},children:i(Wa,{size:"large"})}),i(J,{style:{width:"100%",justifyContent:"center"},children:"Sedang melakukan evaluasi terhadap isian, harap bersabar :)"})]}):g(J,{style:{width:"100%"},direction:"vertical",children:[g(J,{children:["Jumlah warning : ",$.length]}),i(qa,{bordered:!0,columns:qi,dataSource:$,style:{width:"100%"}})]})},"range-harga-modal")]})},{Text:Wi}=Ce,qi=[{title:"Nomor",dataIndex:"nomor",key:"nomor",render:(e,t,a)=>a+1},{title:"Komoditas",dataIndex:"komoditas",key:"komoditas",render:(e,t)=>`[${t.id_komoditas}] ${t.nama_komoditas}`},{title:"Harga per Satuan",dataIndex:"harga",key:"harga",render:e=>i(te,{color:"#000",value:Number(e)})},{title:"Rincian",dataIndex:"rincian",key:"rincian",render:(e,t)=>g(Wi,{children:[t.rincian,"(",i(te,{value:t.min,color:"red"})," s.d",i(te,{value:t.max,color:"red"}),")"]})}];Ui.layout=e=>i(Ma,{user:e.props.auth.user,header:i("h2",{className:"",children:"Dashboard"}),selectedKey:"entri",children:e});export{Ui as default};
