import{r as u,_ as B,a as e,c as y,j as l}from"./app-56f5b824.js";import{A as D}from"./AntdIcon-b59394c2.js";import{_ as x}from"./debounce-15aaa20b.js";import{F as r}from"./index-2acae938.js";import{S as k}from"./index-abd961d1.js";import{m as ee}from"./index-fbef3bc5.js";import{S as m}from"./index-e6c450f2.js";import{I as E}from"./index-b879bfca.js";import{I as T}from"./index-405575dd.js";import{I as v}from"./index-b88856cf.js";import{D as te}from"./AuthenticatedLayout-741b04e4.js";import{T as le}from"./index-970db40a.js";var ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};const re=ae;var ne=function(b,h){return u.createElement(D,B({},b,{ref:h,icon:re}))};const Ae=u.forwardRef(ne);var de={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"};const se=de;var oe=function(b,h){return u.createElement(D,B({},b,{ref:h,icon:se}))};const Ne=u.forwardRef(oe),ie={margin:"auto",padding:"5px"},ce=({options:a,name:b,onChange:h})=>e(r.Item,{name:b,label:null,style:ie,children:e(k,{allowClear:!0,showSearch:!0,optionFilterProp:"label",options:a,onChange:h&&(g=>h(g))})}),C=async(a,b,h,g)=>{try{return!(await y.post(route("api.cekNomorSampel"),{value:a,currentRecordId:b,kode_kabkot:h,nks:g})).data.exists}catch(f){return console.error("Error checking unique value:",f),!1}},{Text:A,Title:N}=le,Pe=({form:a,onFinish:b,tabContentStyle:h,setDaftarArt:g,editable:f,identitas_wilayah:p})=>{const P={width:"70px",height:"auto",preview:!1},F={borderCollapse:"collapse",width:"100%"},t={borderStyle:"solid",border:"solid 1px black",padding:"5px"},s={margin:"auto",padding:"5px"},L=[{label:"[1] Perdesaan",value:"1"},{label:"[2] Perkotaan",value:"2"}],[ue,R]=ee.useMessage(),[O,he]=u.useState([{label:"[71] SULAWESI UTARA",value:"71"}]),[M,$]=u.useState([]),[U,I]=u.useState([]),[H,S]=u.useState([]),[j,K]=u.useState([]),[z,_]=u.useState([]),[w,G]=u.useState(""),W=async()=>{const n=route("api.entri.kabkot"),{data:d}=await y.get(n),o=d.data.map(i=>({label:`[${i.kode_kabkot}] ${i.kabkot}`,value:i.kode_kabkot}));G(d.kode_kabkot),$(o)},q=async n=>{const d=route("api.entri.nks",{kodeKabkot:a.getFieldValue("kode_kabkot"),kodeKec:a.getFieldValue("kode_kec"),kodeDesa:a.getFieldValue("kode_desa"),kodeBs4:a.getFieldValue("kode_bs4")}),{data:o}=await y.get(d),i=o.map(c=>({label:c,value:c}));K(i)},V=async n=>{const d=route("api.entri.kec",{kodeKabkot:n}),{data:o}=await y.get(d),i=o.map(c=>({label:`[${c.kode_kec}] ${c.kec} `,value:c.kode_kec}));I(i)},J=async n=>{const d=route("api.entri.desa",{kodeKabkot:a.getFieldValue("kode_kabkot"),kodeKec:a.getFieldValue("kode_kec")}),{data:o}=await y.get(d),i=o.map(c=>({label:`[${c.kode_desa}] ${c.desa} `,value:c.kode_desa}));S(i)},Z=async n=>{const d=route("api.entri.bs4",{kodeKabkot:a.getFieldValue("kode_kabkot"),kodeKec:a.getFieldValue("kode_kec"),kodeDesa:a.getFieldValue("kode_desa")}),{data:o}=await y.get(d),i=o.map(c=>({label:c,value:c}));_(i)};u.useEffect(()=>{try{W(),a.setFieldValue("kode_prov","71"),p&&(I([{label:`[${p.kode_kec}] ${p.kec}`,value:p.kode_kec}]),S([{label:`[${p.kode_desa}] ${p.desa}`,value:p.kode_desa}]),a.setFieldsValue(p))}catch{}},[]),u.useEffect(()=>{w&&V(w)},[w]),u.useEffect(()=>{},[a]);const Q=x(n=>{g(d=>{let o=[...d];return o[0].nama=n,o})},600),X=n=>{const d=n.target.value;Q(d)};x(async(n,d,o,i)=>C(n,d,o,i),400);const Y=async(n,d)=>{const o=a.getFieldValue("id"),i=a.getFieldValue("kode_kabkot"),c=a.getFieldValue("nks");return await C(d,o,i,c)?Promise.resolve():Promise.reject("The value already exists in the database.")};return l(m,{direction:"vertical",style:h,children:[l(m,{style:{width:"100%",justifyContent:"space-between"},direction:"horizontal",children:[e(m,{direction:"vertical",align:"start",children:e(E,{...P,src:"/images/bps.png"})}),l(m,{direction:"vertical",style:{alignContent:"center",textAlign:"center"},children:[e(E,{...P,src:"/images/garuda.png"}),e(N,{level:5,children:"SURVEI SOSIAL EKONOMI SEMESTER I 2024"}),e(A,{children:"KETERANGAN KONSUMSI MAKANAN RUMAH TANGGA"})]}),e(m,{style:{color:"#fff",paddingRight:"10px",paddingLeft:"10px",fontSize:"20px",backgroundColor:"rgb(78, 84, 200)",fontWeight:"600"},children:"VSUSENAS.MAK"})]}),l(r,{form:a,name:"Blok1_2",onFinish:b,autoComplete:"off",layout:"vertical",children:[l("table",{style:F,children:[e("thead",{style:{backgroundColor:"#fc0",textAlign:"center"},children:e("tr",{children:e("td",{style:t,colSpan:4,children:l(m,{direction:"vertical",children:[e(N,{level:4,children:"BLOK I. KETERANGAN TEMPAT"}),e(A,{children:"[ disalin dari Blok I kuesioner Seruti Inti (VSUSENAS.INTI) ]"})]})})})}),l("tbody",{children:[l("tr",{hidden:!0,children:[e("td",{style:t,children:"000"}),e("td",{style:t,children:"Identitas Database"}),e("td",{style:t,children:e(r.Item,{name:"id",label:null,children:e(T,{readOnly:f})})})]}),l("tr",{children:[e("td",{style:t,children:"101"}),e("td",{style:t,children:"Provinsi"}),e("td",{style:t,children:e(r.Item,{name:"kode_prov",label:null,style:s,children:e(k,{allowClear:!0,showSearch:!0,disabled:!0,defaultValue:"71",options:O,onChange:()=>{a.setFieldsValue({kode_kabkot:"",kode_kec:"",kode_desa:"",kode_bs4:"",klas:"",semester:"",nks:""}),I([]),S([]),K([]),_([])}})})})]}),l("tr",{children:[e("td",{style:t,children:"102"}),e("td",{style:t,children:"Kabupaten / Kota *)"}),e("td",{style:t,children:e(r.Item,{name:"kode_kabkot",label:null,style:s,required:!0,children:e(k,{allowClear:!0,showSearch:!0,optionFilterProp:"label",options:M,disabled:!0,onChange:n=>{a.setFieldsValue({kode_kec:"",kode_desa:"",klas:"",kode_bs4:"",semester:"",nks:""}),V(n),S([]),K([]),_([])}})})})]}),l("tr",{children:[e("td",{style:t,children:"103"}),e("td",{style:t,children:"Kecamatan"}),e("td",{style:t,children:e(r.Item,{name:"kode_kec",label:null,style:s,children:e(k,{allowClear:!0,showSearch:!0,optionFilterProp:"label",options:U,disabled:!0,onChange:n=>{a.setFieldsValue({kode_desa:"",kode_bs4:"",semester:"",nks:""}),J(),S([])}})})})]}),l("tr",{children:[e("td",{style:t,children:"104"}),e("td",{style:t,children:"Desa / Kelurahan *)"}),e("td",{style:t,children:e(r.Item,{name:"kode_desa",label:null,style:s,children:e(k,{allowClear:!0,showSearch:!0,disabled:!0,optionFilterProp:"label",options:H,onChange:n=>{a.setFieldsValue({kode_bs4:"",semester:""}),Z()}})})})]}),l("tr",{children:[e("td",{style:t,children:"105"}),e("td",{style:t,children:"Klasifikasi Perdesaan/Perkotaan"}),e("td",{style:t,children:e(r.Item,{name:"klas",label:null,style:s,children:e(k,{allowClear:!0,showSearch:!0,disabled:!0,optionFilterProp:"label",options:L})})})]}),l("tr",{children:[e("td",{style:t,children:"106"}),e("td",{style:t,children:"Nomor Blok Sensus"}),e("td",{style:t,children:e(r.Item,{name:"kode_bs4",label:null,style:s,children:e(k,{allowClear:!0,showSearch:!0,disabled:!0,optionFilterProp:"label",options:z,onChange:n=>{a.setFieldValue("nks",""),q()}})})})]}),l("tr",{children:[e("td",{style:t,children:"107"}),e("td",{style:t,children:"Nomor Kode Sampel"}),e("td",{style:t,children:e(r.Item,{name:"nks",label:null,style:s,children:e(k,{allowClear:!0,showSearch:!0,disabled:!0,options:j})})})]}),l("tr",{children:[e("td",{style:t,children:"108"}),e("td",{style:t,children:"Nomor Urut Bangunan Fisik di Sketsa Peta WB"}),e("td",{style:t,children:e(r.Item,{name:"r108",label:null,style:s,rules:[{pattern:/^\d+[A-Z]*$/,message:"Please enter only numbers with optional follow with uppercase alphabet."}],children:e(v,{style:{width:"100px"}})})})]}),l("tr",{children:[e("td",{style:t,children:"109"}),e("td",{style:t,children:"Nomor Urut Sampel Rumah Tangga"}),e("td",{style:t,children:e(r.Item,{name:"r109",label:null,style:s,rules:[{validator:Y}],children:e(T,{min:1})})})]}),l("tr",{children:[e("td",{style:t,children:"110"}),e("td",{style:t,children:"Nama Kepala Rumah Tangga"}),e("td",{style:t,children:e(r.Item,{name:"r110",label:null,style:s,children:e(v,{minLength:2,onChange:X})})})]}),l("tr",{children:[e("td",{style:t,children:"111"}),l("td",{style:t,children:[" ","Alamat (Nama Jalan/Gang/RT/RW/Dusun)"," "]}),e("td",{style:t,children:e(r.Item,{name:"r111",label:null,style:s,children:e(v,{minLength:5})})})]})]})]}),e(te,{}),l("table",{style:F,children:[l("thead",{children:[e("tr",{style:{backgroundColor:"#fc0",textAlign:"center"},children:e("td",{colSpan:6,style:t,children:l(m,{direction:"vertical",children:[e(N,{level:4,children:"BLOK II. KETERANGAN PENCACAH"}),e(A,{children:"[ disalin dari Blok II kuesioner Seruti Inti (VSUSENAS.INTI) ]"})]})})}),l("tr",{children:[e("th",{style:t,colSpan:2,children:"Uraian"}),e("th",{style:t,children:"Nama Petugas"}),e("th",{style:t,children:"Jabatan"}),e("th",{style:t,children:"Waktu"}),e("th",{style:t,children:"Tanda Tangan"})]})]}),l("tbody",{style:{borderStyle:"solid",border:"solid 1px"},children:[l("tr",{children:[e("td",{style:t,children:"201"}),e("td",{style:t,children:"Pencacah"}),e("td",{children:e(r.Item,{name:"r201_nama",label:null,style:s,children:e(v,{minLength:2})})}),e("td",{style:t,children:e(r.Item,{name:"r201_jabatan",style:s,label:null,children:e(k,{showSearch:!0,optionFilterProp:"label",options:[{label:"1. Staf BPS Provinsi",value:"1"},{label:"2. Staf BPS Kab/Kota",value:"2"},{label:"3. KSK",value:"3"},{label:"4. Mitra",value:"4"}]})})}),e("td",{style:t,children:e(r.Item,{name:"r201_waktu",label:null,style:s})}),e("td",{style:t})]}),l("tr",{children:[e("td",{style:t,children:"202"}),e("td",{style:t,children:"Pengawas"}),e("td",{style:t,children:e(r.Item,{name:"r202_nama",label:null,style:s,children:e(v,{minLength:2})})}),e("td",{style:t,children:e(r.Item,{name:"r202_jabatan",label:null,style:s,children:e(k,{showSearch:!0,optionFilterProp:"label",options:[{label:"1. Staf BPS Provinsi",value:"1"},{label:"2. Staf BPS Kab/Kota",value:"2"},{label:"3. KSK",value:"3"},{label:"4. Mitra",value:"4"}]})})}),e("td",{style:t,children:e(r.Item,{name:"r202_waktu",label:null,style:s})}),e("td",{style:t})]}),l("tr",{children:[e("td",{style:t,children:"203"}),e("td",{style:t,children:"Hasil pencacahan"}),e("td",{style:t,colSpan:4,children:e(ce,{name:"r203",options:[{label:"[1] Terisi lengkap",value:"1"},{label:"[2] Terisi tidak lengkap",value:"2"},{label:"[3] Tidak ada ART/responden yang dapat memberi jawaban sampai akhir masa pencacahan",value:"3"},{label:"[4] Responden menolak",value:"4"},{label:"[5] Rumah tangga pindah/bangunan sensus sudah tidak ada",value:"5"}]})})]})]})]}),R]})]})};export{Ae as A,Pe as B,ce as M,Ne as S};
