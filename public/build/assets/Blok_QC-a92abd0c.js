import{e as we,r as s,C as q,f as T,h as ot,o as Se,_ as Fe,i as lt,a as n,j as p,F as U,c as G}from"./app-54bba900.js";import{K as J,g as Ae,i as Ve,c as ze,B as Oe}from"./TextArea-9ac0aa49.js";import{g as De,m as Le,A as Me}from"./AntdIcon-71a17da6.js";import{_ as V}from"./debounce-f54583b8.js";import{S as H}from"./index-7988c5ce.js";import{T as ne}from"./index-93a194ad.js";import{m as ce}from"./index-9863aff3.js";import{F as j}from"./index-8da74228.js";import{I as W}from"./index-e8a5f194.js";import{T as We}from"./index-ac2727d1.js";import{R as B}from"./RupiahInput-5fc16d9a.js";import{T as F}from"./TextRupiah-c5a72c91.js";import{I as _e}from"./index-82a29645.js";import{l as at}from"./lodash-5d07a22e.js";import{S as rt}from"./Table-8b77b588.js";import{P as it}from"./index-3f7561be.js";import{D as st}from"./AuthenticatedLayout-630bc9da.js";import{M as Ee}from"./Blok1_2-2fbce48c.js";const ct=new J("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),dt=new J("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),ut=new J("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),mt=new J("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),gt=new J("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),ht=new J("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),pt=e=>{const{componentCls:t,iconCls:a,antCls:o,badgeFontHeight:l,badgeShadowSize:i,badgeHeightSm:u,motionDurationSlow:d,badgeStatusSize:r,marginXS:m,badgeRibbonOffset:h}=e,b=`${o}-scroll-number`,k=`${o}-ribbon`,N=`${o}-ribbon-wrapper`,_=Ae(e,(c,f)=>{let{darkColor:y}=f;return{[`${t}-color-${c}`]:{background:y}}}),A=Ae(e,(c,f)=>{let{darkColor:y}=f;return{[`&${k}-color-${c}`]:{background:y,color:y}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},we(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{zIndex:e.badgeZIndex,minWidth:e.badgeHeight,height:e.badgeHeight,color:e.badgeTextColor,fontWeight:e.badgeFontWeight,fontSize:e.badgeFontSize,lineHeight:`${e.badgeHeight}px`,whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:e.badgeHeight/2,boxShadow:`0 0 0 ${i}px ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:u,height:u,fontSize:e.badgeFontSizeSm,lineHeight:`${u}px`,borderRadius:u/2},[`${t}-multiple-words`]:{padding:`0 ${e.paddingXS}px`},[`${t}-dot`]:{zIndex:e.badgeZIndex,width:e.badgeDotSize,minWidth:e.badgeDotSize,height:e.badgeDotSize,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${i}px ${e.badgeShadowColor}`},[`${t}-dot${b}`]:{transition:`background ${d}`},[`${t}-count, ${t}-dot, ${b}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${a}-spin`]:{animationName:ht,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:r,height:r,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{position:"relative",color:e.colorPrimary,backgroundColor:e.colorPrimary,"&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:i,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:ct,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:m,color:e.colorText,fontSize:e.fontSize}}}),_),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:dt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:ut,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:mt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:gt,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${b}-custom-component, ${t}-count`]:{transform:"none"},[`${b}-custom-component, ${b}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[`${b}`]:{overflow:"hidden",[`${b}-only`]:{position:"relative",display:"inline-block",height:e.badgeHeight,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${b}-only-unit`]:{height:e.badgeHeight,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${b}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${b}-custom-component`]:{transform:"translate(-50%, -50%)"}}}),[`${N}`]:{position:"relative"},[`${k}`]:Object.assign(Object.assign(Object.assign(Object.assign({},we(e)),{position:"absolute",top:m,padding:`0 ${e.paddingXS}px`,color:e.colorPrimary,lineHeight:`${l}px`,whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${k}-text`]:{color:e.colorTextLightSolid},[`${k}-corner`]:{position:"absolute",top:"100%",width:h,height:h,color:"currentcolor",border:`${h/2}px solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),A),{[`&${k}-placement-end`]:{insetInlineEnd:-h,borderEndEndRadius:0,[`${k}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${k}-placement-start`]:{insetInlineStart:-h,borderEndStartRadius:0,[`${k}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},qe=De("Badge",e=>{const{fontSize:t,lineHeight:a,fontSizeSM:o,lineWidth:l,marginXS:i,colorBorderBg:u}=e,d=Math.round(t*a),r=l,m="auto",h=d-2*r,b=e.colorBgContainer,k="normal",N=o,_=e.colorError,A=e.colorErrorHover,c=t,f=o/2,y=o,$=o/2,w=Le(e,{badgeFontHeight:d,badgeShadowSize:r,badgeZIndex:m,badgeHeight:h,badgeTextColor:b,badgeFontWeight:k,badgeFontSize:N,badgeColor:_,badgeColorHover:A,badgeShadowColor:u,badgeHeightSm:c,badgeDotSize:f,badgeFontSizeSm:y,badgeStatusSize:$,badgeProcessingDuration:"1.2s",badgeRibbonOffset:i,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"});return[pt(w)]}),bt=e=>{let{className:t,prefixCls:a,style:o,color:l,children:i,text:u,placement:d="end"}=e;const{getPrefixCls:r,direction:m}=s.useContext(q),h=r("ribbon",a),b=Ve(l,!1),k=T(h,`${h}-placement-${d}`,{[`${h}-rtl`]:m==="rtl",[`${h}-color-${l}`]:b},t),[N,_]=qe(h),A={},c={};return l&&!b&&(A.background=l,c.color=l),N(s.createElement("div",{className:T(`${h}-wrapper`,_)},i,s.createElement("div",{className:T(k,_),style:Object.assign(Object.assign({},A),o)},s.createElement("span",{className:`${h}-text`},u),s.createElement("div",{className:`${h}-corner`,style:c}))))},ft=bt;function Ie(e){let{prefixCls:t,value:a,current:o,offset:l=0}=e,i;return l&&(i={position:"absolute",top:`${l}00%`,left:0}),s.createElement("span",{style:i,className:T(`${t}-only-unit`,{current:o})},a)}function yt(e,t,a){let o=e,l=0;for(;(o+10)%10!==t;)o+=a,l+=a;return l}function $t(e){const{prefixCls:t,count:a,value:o}=e,l=Number(o),i=Math.abs(a),[u,d]=s.useState(l),[r,m]=s.useState(i),h=()=>{d(l),m(i)};s.useEffect(()=>{const N=setTimeout(()=>{h()},1e3);return()=>{clearTimeout(N)}},[l]);let b,k;if(u===l||Number.isNaN(l)||Number.isNaN(u))b=[s.createElement(Ie,Object.assign({},e,{key:l,current:!0}))],k={transition:"none"};else{b=[];const N=l+10,_=[];for(let f=l;f<=N;f+=1)_.push(f);const A=_.findIndex(f=>f%10===u);b=_.map((f,y)=>{const $=f%10;return s.createElement(Ie,Object.assign({},e,{key:f,value:$,offset:y-A,current:y===A}))});const c=r<i?1:-1;k={transform:`translateY(${-yt(u,l,c)}00%)`}}return s.createElement("span",{className:`${t}-only`,style:k,onTransitionEnd:h},b)}var kt=globalThis&&globalThis.__rest||function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]]);return a};const Ct=s.forwardRef((e,t)=>{var{prefixCls:a,count:o,className:l,motionClassName:i,style:u,title:d,show:r,component:m="sup",children:h}=e,b=kt(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]);const{getPrefixCls:k}=s.useContext(q),N=k("scroll-number",a),_=Object.assign(Object.assign({},b),{"data-show":r,style:u,className:T(N,l,i),title:d});let A=o;if(o&&Number(o)%1===0){const c=String(o).split("");A=c.map((f,y)=>s.createElement($t,{prefixCls:N,count:Number(o),value:f,key:c.length-y}))}return u&&u.borderColor&&(_.style=Object.assign(Object.assign({},u),{boxShadow:`0 0 0 1px ${u.borderColor} inset`})),h?ze(h,c=>({className:T(`${N}-custom-component`,c==null?void 0:c.className,i)})):s.createElement(m,Object.assign({},_,{ref:t}),A)}),St=Ct;var _t=globalThis&&globalThis.__rest||function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(a[o[l]]=e[o[l]]);return a};const xt=(e,t)=>{const{prefixCls:a,scrollNumberPrefixCls:o,children:l,status:i,text:u,color:d,count:r=null,overflowCount:m=99,dot:h=!1,size:b="default",title:k,offset:N,style:_,className:A,rootClassName:c,showZero:f=!1}=e,y=_t(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","showZero"]),{getPrefixCls:$,direction:w}=s.useContext(q),g=$("badge",a),[O,E]=qe(g),S=r>m?`${m}+`:r,C=S==="0"||S===0,x=r===null||C&&!f,I=(i!=null||d!=null)&&x,P=h&&!C,v=P?"":S,R=s.useMemo(()=>(v==null||v===""||C&&!f)&&!P,[v,C,f,P]),z=s.useRef(r);R||(z.current=r);const Z=z.current,xe=s.useRef(v);R||(xe.current=v);const me=xe.current,ve=s.useRef(P);R||(ve.current=P);const oe=s.useMemo(()=>{if(!N)return Object.assign({},_);const D={marginTop:N[1]};return w==="rtl"?D.left=parseInt(N[0],10):D.right=-parseInt(N[0],10),Object.assign(Object.assign({},D),_)},[w,N,_]),Je=k??(typeof Z=="string"||typeof Z=="number"?Z:void 0),Ze=R||!u?null:s.createElement("span",{className:`${g}-status-text`},u),Xe=!Z||typeof Z!="object"?void 0:ze(Z,D=>({style:Object.assign(Object.assign({},oe),D.style)})),le=Ve(d,!1),Ye=T({[`${g}-status-dot`]:I,[`${g}-status-${i}`]:!!i,[`${g}-color-${d}`]:le}),ge={};d&&!le&&(ge.color=d,ge.background=d);const Ne=T(g,{[`${g}-status`]:I,[`${g}-not-a-wrapper`]:!l,[`${g}-rtl`]:w==="rtl"},A,c,E);if(!l&&I){const D=oe.color;return O(s.createElement("span",Object.assign({},y,{className:Ne,style:oe}),s.createElement("span",{className:Ye,style:ge}),u&&s.createElement("span",{style:{color:D},className:`${g}-status-text`},u)))}return O(s.createElement("span",Object.assign({ref:t},y,{className:Ne}),l,s.createElement(ot,{visible:!R,motionName:`${g}-zoom`,motionAppear:!1,motionDeadline:1e3},D=>{let{className:Qe,ref:et}=D;const tt=$("scroll-number",o),he=ve.current,nt=T({[`${g}-dot`]:he,[`${g}-count`]:!he,[`${g}-count-sm`]:b==="small",[`${g}-multiple-words`]:!he&&me&&me.toString().length>1,[`${g}-status-${i}`]:!!i,[`${g}-color-${d}`]:le});let ae=Object.assign({},oe);return d&&!le&&(ae=ae||{},ae.background=d),s.createElement(St,{prefixCls:tt,show:!R,motionClassName:Qe,className:nt,count:me,title:Je,style:ae,key:"scrollNumber",ref:et},Xe)}),Ze))},Ue=s.forwardRef(xt);Ue.Ribbon=ft;const Kn=Ue,vt=e=>{const{prefixCls:t,className:a,style:o,size:l,shape:i}=e,u=T({[`${t}-lg`]:l==="large",[`${t}-sm`]:l==="small"}),d=T({[`${t}-circle`]:i==="circle",[`${t}-square`]:i==="square",[`${t}-round`]:i==="round"}),r=s.useMemo(()=>typeof l=="number"?{width:l,height:l,lineHeight:`${l}px`}:{},[l]);return s.createElement("span",{className:T(t,u,d,a),style:Object.assign(Object.assign({},r),o)})},de=vt,Nt=new J("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),ue=e=>({height:e,lineHeight:`${e}px`}),X=e=>Object.assign({width:e},ue(e)),wt=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Nt,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),pe=e=>Object.assign({width:e*5,minWidth:e*5},ue(e)),At=e=>{const{skeletonAvatarCls:t,gradientFromColor:a,controlHeight:o,controlHeightLG:l,controlHeightSM:i}=e;return{[`${t}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:a},X(o)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},X(l)),[`${t}${t}-sm`]:Object.assign({},X(i))}},Ot=e=>{const{controlHeight:t,borderRadiusSM:a,skeletonInputCls:o,controlHeightLG:l,controlHeightSM:i,gradientFromColor:u}=e;return{[`${o}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:u,borderRadius:a},pe(t)),[`${o}-lg`]:Object.assign({},pe(l)),[`${o}-sm`]:Object.assign({},pe(i))}},Re=e=>Object.assign({width:e},ue(e)),Et=e=>{const{skeletonImageCls:t,imageSizeBase:a,gradientFromColor:o,borderRadiusSM:l}=e;return{[`${t}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:o,borderRadius:l},Re(a*2)),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},Re(a)),{maxWidth:a*4,maxHeight:a*4}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},be=(e,t,a)=>{const{skeletonButtonCls:o}=e;return{[`${a}${o}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${a}${o}-round`]:{borderRadius:t}}},fe=e=>Object.assign({width:e*2,minWidth:e*2},ue(e)),It=e=>{const{borderRadiusSM:t,skeletonButtonCls:a,controlHeight:o,controlHeightLG:l,controlHeightSM:i,gradientFromColor:u}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${a}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:u,borderRadius:t,width:o*2,minWidth:o*2},fe(o))},be(e,o,a)),{[`${a}-lg`]:Object.assign({},fe(l))}),be(e,l,`${a}-lg`)),{[`${a}-sm`]:Object.assign({},fe(i))}),be(e,i,`${a}-sm`))},Rt=e=>{const{componentCls:t,skeletonAvatarCls:a,skeletonTitleCls:o,skeletonParagraphCls:l,skeletonButtonCls:i,skeletonInputCls:u,skeletonImageCls:d,controlHeight:r,controlHeightLG:m,controlHeightSM:h,gradientFromColor:b,padding:k,marginSM:N,borderRadius:_,titleHeight:A,blockRadius:c,paragraphLiHeight:f,controlHeightXS:y,paragraphMarginTop:$}=e;return{[`${t}`]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:k,verticalAlign:"top",[`${a}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:b},X(r)),[`${a}-circle`]:{borderRadius:"50%"},[`${a}-lg`]:Object.assign({},X(m)),[`${a}-sm`]:Object.assign({},X(h))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${o}`]:{width:"100%",height:A,background:b,borderRadius:c,[`+ ${l}`]:{marginBlockStart:h}},[`${l}`]:{padding:0,"> li":{width:"100%",height:f,listStyle:"none",background:b,borderRadius:c,"+ li":{marginBlockStart:y}}},[`${l}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${o}, ${l} > li`]:{borderRadius:_}}},[`${t}-with-avatar ${t}-content`]:{[`${o}`]:{marginBlockStart:N,[`+ ${l}`]:{marginBlockStart:$}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},It(e)),At(e)),Ot(e)),Et(e)),[`${t}${t}-block`]:{width:"100%",[`${i}`]:{width:"100%"},[`${u}`]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${o},
        ${l} > li,
        ${a},
        ${i},
        ${u},
        ${d}
      `]:Object.assign({},wt(e))}}},Y=De("Skeleton",e=>{const{componentCls:t}=e,a=Le(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:e.controlHeight*1.5,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[Rt(a)]},e=>{const{colorFillContent:t,colorFill:a}=e,o=t,l=a;return{color:o,colorGradientEnd:l,gradientFromColor:o,gradientToColor:l,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}},{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Tt=e=>{const{prefixCls:t,className:a,rootClassName:o,active:l,shape:i="circle",size:u="default"}=e,{getPrefixCls:d}=s.useContext(q),r=d("skeleton",t),[m,h]=Y(r),b=Se(e,["prefixCls","className"]),k=T(r,`${r}-element`,{[`${r}-active`]:l},a,o,h);return m(s.createElement("div",{className:k},s.createElement(de,Object.assign({prefixCls:`${r}-avatar`,shape:i,size:u},b))))},jt=Tt,Pt=e=>{const{prefixCls:t,className:a,rootClassName:o,active:l,block:i=!1,size:u="default"}=e,{getPrefixCls:d}=s.useContext(q),r=d("skeleton",t),[m,h]=Y(r),b=Se(e,["prefixCls"]),k=T(r,`${r}-element`,{[`${r}-active`]:l,[`${r}-block`]:i},a,o,h);return m(s.createElement("div",{className:k},s.createElement(de,Object.assign({prefixCls:`${r}-button`,size:u},b))))},Bt=Pt;var Ht={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const Kt=Ht;var Ft=function(t,a){return s.createElement(Me,Fe({},t,{ref:a,icon:Kt}))};const Vt=s.forwardRef(Ft),zt=e=>{const{prefixCls:t,className:a,rootClassName:o,style:l,active:i,children:u}=e,{getPrefixCls:d}=s.useContext(q),r=d("skeleton",t),[m,h]=Y(r),b=T(r,`${r}-element`,{[`${r}-active`]:i},h,a,o),k=u??s.createElement(Vt,null);return m(s.createElement("div",{className:b},s.createElement("div",{className:T(`${r}-image`,a),style:l},k)))},Dt=zt,Lt="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Mt=e=>{const{prefixCls:t,className:a,rootClassName:o,style:l,active:i}=e,{getPrefixCls:u}=s.useContext(q),d=u("skeleton",t),[r,m]=Y(d),h=T(d,`${d}-element`,{[`${d}-active`]:i},a,o,m);return r(s.createElement("div",{className:h},s.createElement("div",{className:T(`${d}-image`,a),style:l},s.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${d}-image-svg`},s.createElement("path",{d:Lt,className:`${d}-image-path`})))))},Wt=Mt,qt=e=>{const{prefixCls:t,className:a,rootClassName:o,active:l,block:i,size:u="default"}=e,{getPrefixCls:d}=s.useContext(q),r=d("skeleton",t),[m,h]=Y(r),b=Se(e,["prefixCls"]),k=T(r,`${r}-element`,{[`${r}-active`]:l,[`${r}-block`]:i},a,o,h);return m(s.createElement("div",{className:k},s.createElement(de,Object.assign({prefixCls:`${r}-input`,size:u},b))))},Ut=qt,Gt=e=>{const t=d=>{const{width:r,rows:m=2}=e;if(Array.isArray(r))return r[d];if(m-1===d)return r},{prefixCls:a,className:o,style:l,rows:i}=e,u=lt(Array(i)).map((d,r)=>s.createElement("li",{key:r,style:{width:t(r)}}));return s.createElement("ul",{className:T(a,o),style:l},u)},Jt=Gt,Zt=e=>{let{prefixCls:t,className:a,width:o,style:l}=e;return s.createElement("h3",{className:T(t,a),style:Object.assign({width:o},l)})},Xt=Zt;function ye(e){return e&&typeof e=="object"?e:{}}function Yt(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Qt(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function en(e,t){const a={};return(!e||!t)&&(a.width="61%"),!e&&t?a.rows=3:a.rows=2,a}const Q=e=>{const{prefixCls:t,loading:a,className:o,rootClassName:l,style:i,children:u,avatar:d=!1,title:r=!0,paragraph:m=!0,active:h,round:b}=e,{getPrefixCls:k,direction:N}=s.useContext(q),_=k("skeleton",t),[A,c]=Y(_);if(a||!("loading"in e)){const f=!!d,y=!!r,$=!!m;let w;if(f){const E=Object.assign(Object.assign({prefixCls:`${_}-avatar`},Yt(y,$)),ye(d));w=s.createElement("div",{className:`${_}-header`},s.createElement(de,Object.assign({},E)))}let g;if(y||$){let E;if(y){const C=Object.assign(Object.assign({prefixCls:`${_}-title`},Qt(f,$)),ye(r));E=s.createElement(Xt,Object.assign({},C))}let S;if($){const C=Object.assign(Object.assign({prefixCls:`${_}-paragraph`},en(f,y)),ye(m));S=s.createElement(Jt,Object.assign({},C))}g=s.createElement("div",{className:`${_}-content`},E,S)}const O=T(_,{[`${_}-with-avatar`]:f,[`${_}-active`]:h,[`${_}-rtl`]:N==="rtl",[`${_}-round`]:b},o,l,c);return A(s.createElement("div",{className:O,style:i},w,g))}return typeof u<"u"?u:null};Q.Button=Bt;Q.Avatar=jt;Q.Input=Ut;Q.Image=Wt;Q.Node=Dt;const tn=Q;var nn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z"}}]},name:"dollar",theme:"outlined"};const on=nn;var ln=function(t,a){return s.createElement(Me,Fe({},t,{ref:a,icon:on}))};const Fn=s.forwardRef(ln),ie=({inputName:e,onChange:t,initialValue:a,editable:o})=>{const[l,i]=s.useState(0),u=r=>{i(r)},d=V(r=>{u(r),t&&t(r)},600);return n(j.Item,{name:e,initialValue:a??void 0,style:{marginBottom:"4px"},children:n(_e,{className:"custom-input-number",readOnly:o||!1,min:0,step:.01,formatter:r=>r&&r>0?`${r}`.replace(/\B(?=(\d{3})+(?!\d))/g,","):"",parser:r=>{const m=parseFloat(String(r).replace(/[^\d.]/g,""));return isNaN(m)?0:m},value:l,onChange:r=>{d(r)}})})},Te={backgroundColor:"#fc0",fontWeight:"700",padding:"5px"},L={borderRight:"1px solid ",padding:"5px"},je={borderRight:"1px solid ",textAlign:"center",padding:"5px"},ee={borderRight:"1px solid ",textAlign:"right",padding:"5px"},an={borderRight:"1px solid ",width:"200px",textAlign:"right",padding:"5px"},$e={borderRight:"1px solid ",backgroundColor:"#636f83",padding:"5px"},rn=({data:e,form:t,subKey:a,rekapMak:o,calculate:l})=>{const[i,u]=s.useState(0),[d,r]=s.useState(0),[m,h]=s.useState(!1),[b,k]=s.useState(!1),[N,_]=s.useState(!1),[A,c]=s.useState(!1);s.useEffect(()=>{let g=Number(t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_beli_harga${e.subKey}`));g||(g=0);let O=Number(t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`));O||(O=0);const E=g+O;console.log({beli:g,produksi:O,total:E}),E&&(t.setFieldsValue({[`${e.nomor}_total_harga_calculated`]:E}),$())},[i]),s.useEffect(()=>{$()},[o[e.subKey].produksi,o[e.subKey].beli]),s.useEffect(()=>{const g=t.getFieldValue(`${e.nomor}_beli_harga`)+t.getFieldValue(`${e.nomor}_produksi_harga`);u(g),$(),w()},[]);function f(g){let O=t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`),E=g+O;t.setFieldsValue({[`${e.nomor}_total_harga_calculated`]:E}),u(E),e.type}function y(g){u(parseFloat(String(g)??0)+parseFloat(t.getFieldValue(`${e.nomor}_beli_harga`)||0)),e.type}function $(){const g=t.getFieldValue(`${e.nomor}_total_harga`),O=t.getFieldValue(`${e.nomor}_total_harga_calculated`);if(h(g==O),e.type=="sub"){const E=t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`),S=t.getFieldValue(`${e.type==="sub"?"jumlah":""}${e.nomor}_beli_harga${e.subKey}`);k(S==o[e.subKey].beli),_(E==o[e.subKey].produksi)}}function w(){const g=t.getFieldValue(`${e.nomor}_beli_volume`)+t.getFieldValue(`${e.nomor}_produksi_volume`);r(g);const O=t.getFieldValue(`${e.nomor}_total_volume`);c(O==g)}return p(U,{children:[p("tr",{style:{backgroundColor:e.flagBasket?"#ffffcc":"",borderTop:"1px solid ",borderLeft:"1px solid "},children:[n("td",{style:{...je,width:"55px"},children:e.nomor}),p("td",{colSpan:1,style:{...e.type==="sub"?Te:L},children:[e.rincian,e.type==="lain"&&n(j.Item,{name:`${e.nomor}_item`,children:n(W,{placeholder:"Sebutkan"})})]}),n("td",{colSpan:1,style:{...e.type==="sub"?Te:je},children:e.type==="lain"?n(j.Item,{name:`${e.nomor}_satuan`,children:n(W,{placeholder:"Sebutkan"})}):e.satuan}),n("td",{style:{...e.type==="sub"?$e:L},children:e.type==="sub"||n(ie,{inputName:`${e.nomor}_beli_volume`,onChange:V(w,400)})}),n("td",{style:{...an},children:n(B,{inputName:`${e.type==="sub"?"jumlah":""}${e.nomor}_beli_harga${e.subKey}`,onChange:V(f,600)})}),n("td",{style:{...e.type==="sub"?$e:L},children:e.type==="sub"||n(ie,{inputName:`${e.nomor}_produksi_volume`,onChange:V(w,400)})}),n("td",{style:{...ee},children:n(B,{inputName:`${e.type==="sub"?"jumlah":""}${e.nomor}_produksi_harga${e.subKey}`,onChange:V(y,600)})}),n("td",{style:e.type==="sub"?$e:L,children:e.type==="sub"||n(ie,{inputName:`${e.nomor}_total_volume`,onChange:V(w,400)})}),n("td",{style:{...ee},children:n(B,{inputName:`${e.nomor}_total_harga`,onChange:V($,600)})})]}),p("tr",{style:{backgroundColor:e.flagBasket?"#ffffcc":"",borderBottom:"1px solid ",borderRight:"1px solid ",borderLeft:"1px solid "},children:[n("td",{style:L}),n("td",{style:L}),n("td",{style:L}),n("td",{style:L}),p("td",{style:ee,children:[" ",e.type==="sub"&&n(F,{color:b?"green":"red",value:o[e.subKey]?o[e.subKey].beli??0:0})]}),n("td",{style:L}),n("td",{style:ee,children:e.type==="sub"&&n(F,{color:N?"green":"red",value:o[e.subKey].produksi??0})}),n("td",{style:ee,children:e.type!=="sub"&&n(j.Item,{style:{color:A?"green":"red",backgroundColor:"inherit",border:"none",marginRight:"10px"},name:`${e.nomor}_total_volume_calculated`,children:d>0?d:""})}),n("td",{style:L,children:n(B,{style:{color:m?"green":"red",backgroundColor:"inherit",border:"none"},disabled:!0,inputName:`${e.nomor}_total_harga_calculated`})})]})]})},{Text:Vn,Title:sn}=ne,cn={borderCollapse:"collapse",width:"100%"},K={borderStyle:"solid",border:"solid 1px black",padding:"5px"},M={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},Ge=({title:e,konten:t,rekapMak:a,calculate:o,form:l})=>(e="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN, BAHAN MINUMAN, DAN ROKOK SEMINGGU TERAKHIR",p("table",{style:cn,children:[p("thead",{children:[n("tr",{style:{backgroundColor:"#fc0",textAlign:"center"},children:n("th",{style:K,colSpan:10,children:n(H,{direction:"vertical",style:{padding:"25px"},children:n(sn,{level:4,children:e})})})}),p("tr",{children:[n("th",{style:K,rowSpan:2,children:"No Urut"}),n("th",{style:K,rowSpan:2,children:"Rincian"}),n("th",{style:K,rowSpan:2,children:"Satuan standar"}),n("th",{style:K,colSpan:2,children:"Berasal dari pembelian (tunai/bon)"}),n("th",{style:K,colSpan:2,children:"Berasal dari produksi sendiri, pemberian, dsb"}),n("th",{style:K,colSpan:2,children:"Jumlah konsumsi"})]}),p("tr",{children:[n("th",{style:K,children:"Banyaknya (0,00)"}),n("th",{style:K,children:"Nilai (Rp)"}),n("th",{style:K,children:"Banyaknya (0,00)"}),n("th",{style:K,children:"Nilai (Rp)"}),n("th",{style:K,children:"Banyaknya (5) + (7) (0,00)"}),n("th",{style:K,children:"Nilai (6) + (8) (Rp)"})]})]}),p("tbody",{children:[p("tr",{children:[n("td",{width:"55px",style:M,children:"(1)"}),n("td",{style:M,children:"(3)"}),n("td",{width:"80px",style:M,children:"(4)"}),n("td",{width:"100px",style:M,children:"(5)"}),n("td",{style:M,children:"(6)"}),n("td",{width:"100px",style:M,children:"(7)"}),n("td",{style:M,children:"(8)"}),n("td",{width:"100px",style:M,children:"(9)"}),n("td",{style:M,children:"(10)"})]}),t.map((i,u)=>n(rn,{data:i,form:l,rekapMak:a,calculate:o},u))]})]})),{Text:dn,Title:zn}=ne,te=({form:e,rekapMak:t,calculate:a,from:o,to:l,hal:i})=>{const[u,d]=s.useState([]),[r,m]=s.useState(!0);s.useEffect(()=>{(async(k,N)=>{const{data:_}=await G.get(route("api.mak.komoditas.list",{from:k,to:N})),A=_.map(c=>({nomor:c.id,kode_coicop:c.kode_coicop,rincian:c.nama_komoditas,satuan:c.satuan,type:c.type,subKey:c.id_kelompok,flagBasket:c.flag_basket}));d([...A]),m(!1)})(o,l)},[]);const h="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN & MINUMAN SEMINGGU TERAKHIR";return p(H,{direction:"vertical",style:{width:"100%"},children:[p(H,{style:{width:"100%",justifyContent:"end"},direction:"horizontal",children:[n(dn,{children:"Jumlah komoditas bahan makanan dan bahan minuman terisi pada halaman ini"}),n(ie,{inputName:`hal${i}_jml_komoditas`})]}),n(Ge,{form:e,konten:r?[]:u,title:h,rekapMak:t,calculate:a}),r&&n(tn,{active:!0,paragraph:{rows:10}})]})},Dn=({form:e,onFinish:t,tabContentStyle:a,subTotalHarga:o,calculate:l,rekapMak:i})=>{ce.useMessage();function u(d){}return s.useEffect(()=>{},[]),p(j,{form:e,name:"Blok4_1_hal2",onFinish:t,autoComplete:"off",layout:"vertical",onValuesChange:V(l,600),children:[n(j.Item,{name:"id_ruta",hidden:!0,children:n(W,{placeholder:"id rt"})}),n(We,{onChange:u,type:"line",style:{backgroundColor:"#fff",padding:"10px"},items:[{label:"Hal 2",key:"1",children:n(te,{from:1,to:34,hal:2,form:e,calculate:l,rekapMak:i})},{label:"Hal 4",key:"2",children:n(te,{from:35,hal:4,to:62,form:e,calculate:l,rekapMak:i})},{label:"Hal 6",key:"3",children:n(te,{from:63,to:94,hal:6,form:e,calculate:l,rekapMak:i})},{label:"Hal 8",key:"4",children:n(te,{from:95,to:127,hal:8,form:e,calculate:l,rekapMak:i})},{label:"Blok 10",key:"5",children:n(te,{from:128,to:158,hal:10,form:e,calculate:l,rekapMak:i})}]})]})},{Text:un,Title:Ln}=ne,Pe=({onFinish:e,nomor_art:t,setDaftarArt:a,daftarArt:o,id_ruta:l,id_art:i,calculateKalori:u,konten:d,art:r})=>{const[m]=j.useForm(),[h,b]=s.useState(!0),k=async y=>{try{const $=route("entri.mak.konsumsi_art.store"),{data:w}=await G.patch($,y,{headers:{"Content-Type":"application/json"}})}catch($){console.log("error",{error:$})}},N=({subKey:y,jenis:$})=>{const w=`${$}_harga${y}`,g=m.getFieldsValue(),O=Object.entries(g).filter(([C])=>C.endsWith(w)).reduce((C,[,x])=>C+(x||0),0),S=[...o].map(C=>{let x={...C.rekap};return x[y][$]=O,C.id===i?{...C,rekap:x}:C});a(S)},_=V(()=>{const y="beli_harga12",$="beli_harga13",w="produksi_harga12",g="produksi_harga13",O=m.getFieldsValue(),E=Object.entries(O).filter(([v])=>v.endsWith(y)&&!v.includes("jumlah")).reduce((v,[,R])=>v+(R||0),0),S=Object.entries(O).filter(([v])=>v.endsWith($)&&!v.includes("jumlah")).reduce((v,[,R])=>v+(R||0),0),C=Object.entries(O).filter(([v])=>v.endsWith(w)&&!v.includes("jumlah")).reduce((v,[,R])=>v+(R||0),0),x=Object.entries(O).filter(([v])=>v.endsWith(g)&&!v.includes("jumlah")).reduce((v,[,R])=>v+(R||0),0);let I=[...o];const P=I.map(v=>{let R={...v.rekap};return R[12]={beli:E,produksi:C,total:E+C},R[13]={beli:S,produksi:x,total:S+x},v.id===i?{...v,rekap:R}:v});console.log({newDaftarArt:I}),a(P)},600),A=V(()=>m.submit(),3e3),c=V(()=>{_(),A(),u(m.getFieldsValue()).then(y=>{let $=[...o];$[t].kalori=y})},3e3);s.useEffect(()=>{(async $=>{b(!0);const{data:w}=await G.get(route("api.mak.konsumsi.art",{id_art:$})),g=[159,192],E=w.map(S=>({[`${g.includes(S.id_komoditas)?"jumlah":""}${S.id_komoditas}_beli_harga${S.id_kelompok}`]:S.harga_beli,[`${g.includes(S.id_komoditas)?"jumlah":""}${S.id_komoditas}_produksi_harga${S.id_kelompok}`]:S.harga_produksi,[`${S.id_komoditas}_total_harga`]:S.harga_total,[`${S.id_komoditas}_item`]:S.item,[`${S.id_komoditas}_satuan`]:S.satuan,[`${S.id_komoditas}_beli_volume`]:S.volume_beli,[`${S.id_komoditas}_produksi_volume`]:S.volume_produksi,[`${S.id_komoditas}_total_volume`]:S.volume_total})).reduce((S,C)=>{for(const x in C)C.hasOwnProperty(x)&&(S[x]=C[x]);return S},{});E[`blok4_31_${t}_id_art`]=$,m.setFieldsValue(E)})(i),b(!0)},[i]),s.useEffect(()=>{m.setFieldsValue({id_ruta:l,id_art:i}),u(m.getFieldsValue()).then(y=>{let $=[...o];$[t].kalori=y})},[m]);const f="BLOK IV.1. KONSUMSI DAN PENGELUARAN BAHAN MAKANAN, BAHAN MINUMAN, DAN ROKOK SEMINGGU TERAKHIR";return n(H,{direction:"vertical",style:{width:"100%"},children:p(j,{form:m,name:"Art",onFinish:k,autoComplete:"off",layout:"vertical",onValuesChange:c,children:[p(H,{style:{width:"100%",justifyContent:"end"},direction:"horizontal",children:[n(un,{children:"Jumlah komoditas bahan makanan,bahan minuman, dan rokok yang terisi pada halaman ini"}),n(j.Item,{style:{margin:"auto"},name:"id_ruta",hidden:!0,children:n(W,{readOnly:!0})}),n(j.Item,{style:{margin:"auto"},name:"id_art",hidden:!0,children:n(W,{readOnly:!0})})]}),n(Ge,{form:m,konten:d,title:f,calculate:N,rekapMak:r.rekap})]})})},{Text:mn,Title:gn}=ne,hn={borderCollapse:"collapse",width:"100%",backgroundColor:"#fff"},Be={borderStyle:"solid",border:"solid 1px black",padding:"5px"},pn={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},se=({title:e,subtitle:t,columnsCount:a,columns:o,children:l})=>p("table",{style:hn,children:[n("thead",{style:{backgroundColor:"#fc0",textAlign:"center"},children:n("tr",{children:n("td",{colSpan:a,style:Be,children:p(H,{direction:"vertical",children:[n(gn,{level:4,children:e}),n(mn,{children:t})]})})})}),p("tbody",{children:[o&&p(U,{children:[n("tr",{children:o.map(i=>n("th",{style:Be,children:i}))}),n("tr",{children:Array.from(Array(a).keys()).map(i=>p("td",{style:pn,children:["(",i+1,")"]}))})]}),l]})]}),ke={borderStyle:"solid",border:"solid 1px black",margin:"auto",textAlign:"center",padding:"5px"},Mn=({artForm:e,artFormFinish:t,tabContentStyle:a,daftarArt:o,setDaftarArt:l,calculateKalori:i})=>{const u=C=>{},[d,r]=s.useState("0"),[m,h]=s.useState([]),[b,k]=s.useState([]),[N,_]=s.useState(!1),[A,c]=s.useState(!1),f=s.useRef(1),[y,$]=ce.useMessage(),w=async()=>{c(!0);const C=`Art-${f.current++}`;try{const{data:x}=await G.post(route("entri.mak.art.store"),{nama:C,nomor_art:o.length+1,id_ruta:o[0].id_ruta}),I=[...o,{id:x.id,id_ruta:x.id_ruta,nomor_art:f.current++,nama:C,key:C,rekap:{12:{produksi:0,beli:0,total:0},13:{produksi:0,beli:0,total:0}}}];l([...I]),r(C)}catch(x){console.error("Error in add function:",x)}finally{c(!1)}},g=async C=>{const x=e.getFieldValue(`${C}-id_art`);if(C===0){y.open({content:"anggota ruta pertama tidak boleh dihapus,",type:"warning",key:x,duration:3});return}try{const{data:I}=await G.delete(route("entri.mak.art.delete",{id_art:x})),P=o.filter(v=>v.id!==x);l(P),y.open({content:"Berhasil menghapus 1 anggota rumah tangga",type:"success",key:x})}catch(I){console.error("Error in add function:",I),y.open({content:`Terjadi galat ketika menghapus data, tunjukan code ini pada Developer (${I})`,type:"error",key:x,duration:3})}},E=V((C,x,I)=>{const P=[...o];P[C][x]=I.trim(),l(P)},1e3),S=at.throttle(g,2e3);return s.useEffect(()=>{(async(I,P)=>{const{data:v}=await G.get(route("api.mak.komoditas.list",{from:I,to:P})),R=v.map(z=>({nomor:z.id,kode_coicop:z.kode_coicop,rincian:z.nama_komoditas,satuan:z.satuan,type:z.type,subKey:z.id_kelompok,flagBasket:z.flag_basket}));k([...R])})(159,197),_(!1);const x=o.map((I,P)=>({label:I.nama,key:String(P),children:n(Pe,{onFinish:u,nomor_art:I.nomor_art,daftarArt:o,setDaftarArt:l,id_ruta:e.getFieldValue("id_ruta"),art:I,id_art:I.id,calculateKalori:i,konten:b})}));h([...x])},[]),p(H,{direction:"vertical",style:a,children:[$,n(Oe,{type:"primary",onClick:w,children:"Tambah Art"}),p(j,{name:"artForm",form:e,onFinish:t,children:[n(j.Item,{name:"id_ruta",hidden:!0,children:n(W,{})}),n(se,{title:"DAFTAR ANGGOTA RUMAH TANGGA",columns:["Nomor","Nama Anggota Rumah Tangga","aksi"],columnsCount:3,children:A?n("tr",{children:n("td",{colSpan:3,children:p(H,{style:{width:"100%",justifyContent:"center",marginTop:"30px"},direction:"vertical",children:[n(H,{style:{width:"100%",justifyContent:"center"},children:n(rt,{size:"large"})}),n(H,{style:{width:"100%",justifyContent:"center"},children:"Menambahkan anggota rumah tangga..."})]})})}):o.map((C,x)=>p("tr",{children:[n("td",{style:ke,children:x+1}),p("td",{style:ke,children:[n(j.Item,{name:`${x}-id_art`,hidden:!0,children:n(W,{})}),n(j.Item,{name:`${x}-nama`,style:{margin:"auto"},children:n(W,{placeholder:"nama anggota rumah tangga",onChange:I=>E(x,"nama",I.target.value)})})]}),n("td",{style:ke,children:n(it,{placement:"topLeft",title:"apakah anda yakin akan menghapus art ini?",description:"hapus anggota rumah tangga",okText:"yakin dong",cancelText:"gajadi",onConfirm:()=>S(x),children:n(Oe,{disabled:x===0,children:"Hapus"})})})]},x))})]}),n(We,{style:{backgroundColor:"#fff",padding:"10px"},items:o.map((C,x)=>({label:C.nama,key:String(x),children:n(Pe,{onFinish:u,nomor_art:C.nomor_art,daftarArt:o,setDaftarArt:l,id_ruta:C.id_ruta,art:C,id_art:C.id,calculateKalori:i,konten:b})})),type:"line"})]})},Wn=({form:e,onFinish:t,tabContentStyle:a,rekapMak:o,setRekapMak:l,daftarArt:i,daftarRincian432:u})=>{const d={borderStyle:"solid",border:"solid 1px black",padding:"5px"},r={borderStyle:"solid",border:"solid 1px black",textAlign:"right",padding:"5px"},m={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},[h,b]=ce.useMessage(),k=({rincian:c,key:f})=>{const[y,$]=s.useState(!1),[w,g]=s.useState(!1),[O,E]=s.useState(!1);function S(){const C=o[c.id-1].beli,x=o[c.id-1].produksi,I=o[c.id-1].total,P=e.getFieldValue(`blok4_32_${c.id-1}_beli`),v=e.getFieldValue(`blok4_32_${c.id-1}_produksi`),R=e.getFieldValue(`blok4_32_${c.id-1}_total`);console.log({beli:{beliCalculated:C,beliInputed:P},produksi:{produksiCalculated:x,produksiInputed:v},total:{totalCalculated:I,totalInputed:R}}),$(C==P),g(x==v),E(I==R)}return s.useEffect(()=>{S()},[o[c.id-1].beli,o[c.id-1].produksi,o[c.id-1].total]),p("tr",{children:[n("td",{style:m,children:c.nomor}),n("td",{style:d,children:c.rincian}),n("td",{style:r,children:c.id<16&&p(U,{children:[n(B,{inputName:`blok4_32_${c.id-1}_beli`,onChange:S},f),n(F,{color:y?"green":"red",value:o[c.id-1].beli},c.id)]})}),n("td",{style:r,children:c.id<16&&p(U,{children:[n(B,{inputName:`blok4_32_${c.id-1}_produksi`,onChange:S},f),n(F,{color:w?"green":"red",value:o[c.id-1].produksi},c.id)]})}),n("td",{style:r,children:p(U,{children:[n(B,{inputName:`blok4_32_${c.id-1}_total`,onChange:S},f),n(F,{color:O?"green":"red",value:o[c.id-1].total},c.id)]})})]})},[N,_]=s.useState({12:{beli:0,produksi:0,total:0},13:{beli:0,produksi:0,total:0}}),A=c=>{let f=c.reduce((y,$)=>(Object.values($.rekap).forEach((w,g)=>{y[g]=y[g]||{beli:0,produksi:0,total:0},y[g].beli+=w.beli,y[g].produksi+=w.produksi,y[g].total+=w.total}),y),[]);return{12:f[0],13:f[1]}};return s.useEffect(()=>{let c=A(i);(async()=>{var $;const{data:y}=await G.get(route("entri.mak.art.fetch",{id_ruta:($=i[0])==null?void 0:$.id_ruta}));y.forEach((w,g)=>{e.setFieldValue(`blok4_31_${g}_id_art`,w.id)})})(),_(c),l(y=>{let $=[...y];return $[12]=c[12],$[13]=c[13],$[14]=$.slice(0,14).reduce((w,g)=>({beli:w.beli+g.beli,produksi:w.produksi+g.produksi,total:w.total+g.total}),{beli:0,produksi:0,total:0}),[...$]})},[i]),s.useEffect(()=>{},[]),n(H,{direction:"vertical",style:a,children:p(j,{form:e,name:"Blok4_3",onFinish:t,autoComplete:"off",layout:"vertical",children:[p(se,{title:"BLOK IV.3.1. REKAPITULASI PENGELUARAN MAKANAN DAN MINUMAN JADI SERTA ROKOK SELURUH ANGGOTA RUMAH TANGGA (DALAM RUPIAH)",subtitle:"",columns:["No.","Nama ART","Makanan dan Minuman Jadi (Pembelian)","Makanan dan Minuman Jadi (Produksi sendiri, Pemberian, dsb)","Rokok dan Tembaku (Pembelian)","Rokok dan Tembaku (Produksi sendiri, Pemberian, dsb)"],columnsCount:6,children:[i.map((c,f)=>p("tr",{children:[n("td",{style:m,children:f+1}),p("td",{style:d,children:[c.nama,n(j.Item,{name:`blok4_31_${f}_id_art`,label:null,initialValue:c.id,hidden:!0,children:n(W,{readOnly:!0})},`form-item-${f}`)]}),p("td",{style:r,children:[n(B,{inputName:`blok4_31_${f}_mak_beli`,initialValue:c.mak_beli}),n(F,{color:"red",value:c.rekap[12].beli})]}),p("td",{style:r,children:[n(B,{inputName:`blok4_31_${f}_mak_produksi`,initialValue:c.mak_produksi}),n(F,{color:"red",value:c.rekap[12].produksi})]}),p("td",{style:r,children:[n(B,{inputName:`blok4_31_${f}_rokok_beli`,initialValue:c.rokok_beli}),n(F,{color:"red",value:c.rekap[13].beli})]}),p("td",{style:r,children:[n(B,{inputName:`blok4_31_${f}_rokok_produksi`,initialValue:c.rokok_produksi}),n(F,{color:"red",value:c.rekap[13].produksi})]})]})),i.length>0&&p("tr",{children:[n("td",{style:d}),n("td",{style:d,children:"JUMLAH"}),p("td",{style:r,children:[n(B,{inputName:"blok4_31_jumlah_mak_beli"}),n(F,{color:"red",value:N[12].beli})]}),p("td",{style:r,children:[n(B,{inputName:"blok4_31_jumlah_mak_produksi"}),n(F,{color:"red",value:N[12].produksi})]}),p("td",{style:r,children:[n(B,{inputName:"blok4_31_jumlah_rokok_beli"}),n(F,{color:"red",value:N[13].beli})]}),p("td",{style:r,children:[n(B,{inputName:"blok4_31_jumlah_rokok_produksi"}),n(F,{color:"red",value:N[13].produksi})]})]})]},1),n(st,{}),n(se,{title:"BLOK IV.3.2. REKAPITULASI PENGELUARAN MAKANAN, MINUMAN, DAN ROKOK (DALAM RUPIAH)",subtitle:"[Kolom (3) Disalin dari Blok IV.1 Kolom (6), Blok IV.3.1 Kolom (3), atau (5)] dan [Kolom (4) Disalin dari Blok IV.1 Kolom (8), Blok IV.3.1 Kolom (4), atau (6)]",columnsCount:5,columns:["No.","Jenis Pengeluaran","Pembelian Seminggu Terakhir","Produksi Sendiri, Pemberian, dsb., Seminggu Terakhir","Total Seminggu Terakhir [Kolom 3 + Kolom 4]"],children:u.map((c,f)=>k({rincian:c,key:f}))},2),b]})})},{Text:bn,Title:fn}=ne,He={borderStyle:"solid",border:"solid 1px black",padding:"5px"},re={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},Ke=({type:e,name:t,options:a,customKey:o,children:l,setValue:i,dependencies:u,rules:d})=>({number:n(j.Item,{name:t,label:null,dependencies:u,rules:d,children:n(_e,{})}),binary:n(Ee,{name:t,options:[{label:"[1] YA",value:1},{label:"[5] TIDAK",value:5}],onChange:i&&(m=>i(m))}),rupiah:n(B,{inputName:t,editable:o===26}),multi:n(Ee,{name:t,options:a??[],onChange:i&&(m=>i(m))})})[e],yn=({props:e,defaultValue:t})=>{const[a,o]=s.useState(t),[l,i]=s.useState([]),u=p(U,{children:[n("td",{style:re,children:e.nomor}),n("td",{style:He,children:e.rincian})]});return s.useEffect(()=>{if(e.children){let d=e.children.filter((r,m)=>{let h=!1;return r.dependentValues&&r.dependentValues.forEach(b=>{b==a&&(h=!0)}),h}).map(r=>p("tr",{children:[n("td",{style:re}),n("td",{style:He,children:r.rincian}),n("td",{style:re,children:n(Ke,{type:r.type,name:`wtf_${r.nomor}`,options:r.options,customKey:r.id,dependencies:r.dependencies,rules:r.rules},r.nomor)})]},e.id));i(d)}},[a,e.children]),p(U,{children:[p("tr",{style:{backgroundColor:e.id%2===0?" #fffae6":""},children:[u,n("td",{style:re,children:n(Ke,{type:e.type,name:`wtf_${e.id}`,options:e.options,customKey:e.id,children:e.children,setValue:o,dependencies:e.dependencies,rules:e.rules},e.id)})]}),l.map(d=>d)]})},Ce=({getFieldValue:e},t,a,o)=>({validator(l,i,u){const d=e(t);let r=!0;return a=="less"?r=i<d:a=="equal"?r=i==d:a=="greater"?r=i>d:a=="less equal"?r=i<=d:a=="greater equal"&&(r=i>=d),r?Promise.resolve():Promise.reject(o)}}),$n=[{id:1,nomor:1,rincian:"Jumlah ART (Blok III Rincian 301)",type:"number",rules:[()=>({validator(e,t,a){return t<1?Promise.reject("Jumlah ART minimal satu"):Promise.resolve()}})]},{id:2,nomor:2,rincian:"Jumlah Balita (R302)",type:"number",dependencies:["wtf_1"],rules:[({getFieldValue:e})=>Ce({getFieldValue:e},"wtf_1","less","Jumlah Balita tidak bisa melebihi atau sama dengan jumlah ART")]},{id:3,nomor:3,rincian:"Jumlah ART yang masih bersekolah (R1402=2)",type:"number",rules:[({getFieldValue:e})=>Ce({getFieldValue:e},"wtf_1","less equal","Jumlah ART yang bersekolah tidak bisa melebihi jumlah ART")]},{id:4,nomor:4,rincian:"Status Kepemilikan Bangunan Tempat Tinggal (R1901)",type:"multi",options:[{label:"Milik Sendiri",value:1},{label:"Kontrak/Sewa",value:2},{label:"Bebas Sewa",value:3},{label:"Dinas",value:4},{label:"Lainnya",value:99}]},{id:5,nomor:5,rincian:p("span",{children:["Luas Lantai per Kapita (m",n("sup",{children:"2"}),") (R1902)"]}),type:"number"},{id:6,nomor:6,rincian:"Sumber air minum (R1903)",type:"multi",options:[{label:"Air kemasan bermerek",value:1},{label:"Air isi ulang",value:2},{label:"Leding/sumur bor/pompa",value:3},{label:"Lainnya",value:99}]},{id:7,nomor:7,rincian:"Sumber air mandi/cuci/dll (R1904)",type:"multi",options:[{label:"Air kemasan bermerek",value:1},{label:"Air isi ulang",value:2},{label:"Leding/sumur bor/pompa",value:3},{label:"Lainnya",value:99}]},{id:8,nomor:8,rincian:"Apakah tercatat sebagai menerima PKH? (R2003a)",type:"binary",children:[{id:9,nomor:9,rincian:"Penggunaan PKH (R2003b)",type:"multi",dependentValues:[1],options:[{label:"Belanja Pangan",value:1},{label:"Biaya Sekolah",value:2},{label:"Pembayaran Utang/Kredit",value:3},{label:"Lainnya",value:99}]}]},{id:10,nomor:10,rincian:"Apakah ART menerima PIP?",type:"binary",children:[{id:11,nomor:11,dependentValues:[1],rincian:"berapa ART yang menerima PIP? (SD s.d. Kuliah)",type:"number",rules:[({getFieldValue:e})=>Ce({getFieldValue:e},"wtf_3","less equal","Jumlah ART yang menerima PIP tidak bisa melebihi ART yang bersekolah")]}]},{id:26,nomor:"",rincian:"Garis Kemiskinan Maret 2024",type:"rupiah"}],qn=({form:e,onFinish:t,tabContentStyle:a})=>p(H,{direction:"vertical",style:a,children:[n(H,{style:{width:"100%",justifyContent:"space-between"},direction:"horizontal"}),n(j,{form:e,name:"Worksheet",onFinish:t,autoComplete:"off",layout:"vertical",children:p("table",{style:{borderCollapse:"collapse",width:"100%"},children:[n("thead",{style:{backgroundColor:"#fc0",textAlign:"center"},children:n("tr",{children:n("td",{style:{borderStyle:"solid",border:"solid 1px black",padding:"5px"},colSpan:3,children:p(H,{direction:"vertical",children:[p(fn,{level:4,style:{textTransform:"uppercase"},children:["Isian Worksheet Template"," "]}),n(bn,{children:"RINCIAN (Lihat Dokumen VSEN24.K)"})]})})})}),n("tbody",{children:$n.map(i=>yn({props:i,defaultValue:e.getFieldValue(`wtf_${i.id}`)}))})]})})]}),Un=({form:e,onFinish:t,tabContentStyle:a,daftarQc:o})=>{const l={borderStyle:"solid",border:"solid 1px black",padding:"5px"},i={borderStyle:"solid",border:"solid 1px black",textAlign:"center",padding:"5px"},[u,d]=ce.useMessage(),r=({rincian:m,key:h})=>p("tr",{children:[n("td",{style:{...i,width:"30px"},children:h+1}),n("td",{style:{...l,width:"auto"},children:m.rincian}),n("td",{style:{...l,width:"150px",textAlign:"right"},children:m.id===5?n(U,{children:n(B,{inputName:`blokqc_${m.id}`},h)}):n(H,{direction:"vertical",children:n(j.Item,{name:`blokqc_${m.id}`,label:null,style:{marginBottom:"5px",textAlign:"center"},children:n(_e,{className:"custom-input-number",style:{textAlign:"right",width:"100%"},formatter:b=>{const k=Number(b)??0,N=k.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",");return m.dataType==="decimal"?N:String(k)}},h)})})})]},h);return n(H,{direction:"vertical",style:a,children:p(j,{form:e,name:"Blok4_3",onFinish:t,autoComplete:"off",layout:"vertical",children:[n(se,{title:"Quality Control",columnsCount:3,columns:["No.","Rincian","Isian"],children:o.map((m,h)=>r({rincian:m,key:h}))},2),d]})})};export{Dn as B,Fn as D,qn as W,Mn as a,Wn as b,Un as c,Kn as d};
