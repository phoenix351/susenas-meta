import{r as $,_ as de,z as he,j as Q,a as f,c as ee,F as pe,b as ge,g as ie}from"./app-520bb281.js";import{A as me}from"./AuthenticatedLayout-617e60c1.js";import{l as ve}from"./lodash-27f94f35.js";import{F as N}from"./index-a73f74bb.js";import{S as re}from"./index-d064af02.js";import{I as K,B as V,S as ue}from"./index-fa30e389.js";import{M as ce}from"./Modal-517b8310.js";import{m as ye}from"./index-bbb93686.js";import{S as se}from"./index-f7b15539.js";import{A as be}from"./AntdIcon-b0ad16ba.js";import{T as Te}from"./Table-0aaddfd7.js";import{T as ke}from"./index-4513a508.js";import{E as Se}from"./EditFilled-176c694d.js";import"./Sider-00caf04b.js";import"./index-de0dcdfc.js";import"./KeyCode-9e25981a.js";import"./index-fc112d2c.js";import"./addEventListener-804ce7b7.js";import"./index-0ab5b8e7.js";var xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 888.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-add",theme:"outlined"};const Oe=xe;var Ce=function(h,m){return $.createElement(be,de({},h,{ref:m,icon:Oe}))};const Pe=$.forwardRef(Ce);var fe={exports:{}};(function(D){D.exports=function(h){var m={};function e(i){if(m[i])return m[i].exports;var r=m[i]={exports:{},id:i,loaded:!1};return h[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}return e.m=h,e.c=m,e.p="",e(0)}([function(h,m,e){h.exports=e(1)},function(h,m,e){Object.defineProperty(m,"__esModule",{value:!0});function i(s){return s&&s.__esModule?s:{default:s}}var r=e(2),y=i(r);m.default=y.default,h.exports=m.default},function(h,m,e){Object.defineProperty(m,"__esModule",{value:!0});var i=Object.assign||function(n){for(var c=1;c<arguments.length;c++){var x=arguments[c];for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(n[v]=x[v])}return n};m.default=d;function r(n){return n&&n.__esModule?n:{default:n}}function y(n,c){var x={};for(var v in n)c.indexOf(v)>=0||Object.prototype.hasOwnProperty.call(n,v)&&(x[v]=n[v]);return x}var s=e(3),T=e(4),a=r(T),o=e(14),p=e(15),k=r(p);d.propTypes={activeClassName:a.default.string,activeIndex:a.default.number,activeStyle:a.default.object,autoEscape:a.default.bool,className:a.default.string,findChunks:a.default.func,highlightClassName:a.default.oneOfType([a.default.object,a.default.string]),highlightStyle:a.default.object,highlightTag:a.default.oneOfType([a.default.node,a.default.func,a.default.string]),sanitize:a.default.func,searchWords:a.default.arrayOf(a.default.oneOfType([a.default.string,a.default.instanceOf(RegExp)])).isRequired,textToHighlight:a.default.string.isRequired,unhighlightTag:a.default.oneOfType([a.default.node,a.default.func,a.default.string]),unhighlightClassName:a.default.string,unhighlightStyle:a.default.object};function d(n){var c=n.activeClassName,x=c===void 0?"":c,v=n.activeIndex,b=v===void 0?-1:v,u=n.activeStyle,j=n.autoEscape,U=n.caseSensitive,W=U===void 0?!1:U,Y=n.className,_=n.findChunks,X=n.highlightClassName,q=X===void 0?"":X,G=n.highlightStyle,Z=G===void 0?{}:G,R=n.highlightTag,g=R===void 0?"mark":R,M=n.sanitize,H=n.searchWords,J=n.textToHighlight,z=n.unhighlightTag,te=z===void 0?"span":z,ne=n.unhighlightClassName,ae=ne===void 0?"":ne,t=n.unhighlightStyle,l=y(n,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightTag","unhighlightClassName","unhighlightStyle"]),E=(0,s.findAll)({autoEscape:j,caseSensitive:W,findChunks:_,sanitize:M,searchWords:H,textToHighlight:J}),C=g,S=-1,P="",O=void 0,w=function(L){var F={};for(var B in L)F[B.toLowerCase()]=L[B];return F},I=(0,k.default)(w);return(0,o.createElement)("span",i({className:Y},l,{children:E.map(function(A,L){var F=J.substr(A.start,A.end-A.start);if(A.highlight){S++;var B=void 0;typeof q=="object"?W?B=q[F]:(q=I(q),B=q[F.toLowerCase()]):B=q;var oe=S===+b;P=B+" "+(oe?x:""),O=oe===!0&&u!=null?Object.assign({},Z,u):Z;var le={children:F,className:P,key:L,style:O};return typeof C!="string"&&(le.highlightIndex=S),(0,o.createElement)(C,le)}else return(0,o.createElement)(te,{children:F,className:ae,key:L,style:t})})}))}h.exports=m.default},function(h,m){h.exports=function(e){var i={};function r(y){if(i[y])return i[y].exports;var s=i[y]={exports:{},id:y,loaded:!1};return e[y].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}return r.m=e,r.c=i,r.p="",r(0)}([function(e,i,r){e.exports=r(1)},function(e,i,r){Object.defineProperty(i,"__esModule",{value:!0});var y=r(2);Object.defineProperty(i,"combineChunks",{enumerable:!0,get:function(){return y.combineChunks}}),Object.defineProperty(i,"fillInChunks",{enumerable:!0,get:function(){return y.fillInChunks}}),Object.defineProperty(i,"findAll",{enumerable:!0,get:function(){return y.findAll}}),Object.defineProperty(i,"findChunks",{enumerable:!0,get:function(){return y.findChunks}})},function(e,i){Object.defineProperty(i,"__esModule",{value:!0}),i.findAll=function(p){var k=p.autoEscape,d=p.caseSensitive,n=d===void 0?!1:d,c=p.findChunks,x=c===void 0?y:c,v=p.sanitize,b=p.searchWords,u=p.textToHighlight;return s({chunksToHighlight:r({chunks:x({autoEscape:k,caseSensitive:n,sanitize:v,searchWords:b,textToHighlight:u})}),totalLength:u?u.length:0})};var r=i.combineChunks=function(p){var k=p.chunks;return k=k.sort(function(d,n){return d.start-n.start}).reduce(function(d,n){if(d.length===0)return[n];var c=d.pop();if(n.start<=c.end){var x=Math.max(c.end,n.end);d.push({start:c.start,end:x})}else d.push(c,n);return d},[]),k},y=function(p){var k=p.autoEscape,d=p.caseSensitive,n=p.sanitize,c=n===void 0?T:n,x=p.searchWords,v=p.textToHighlight;return v=c(v),x.filter(function(b){return b}).reduce(function(b,u){u=c(u),k&&(u=a(u));for(var j=new RegExp(u,d?"g":"gi"),U=void 0;U=j.exec(v);){var W=U.index,Y=j.lastIndex;Y>W&&b.push({start:W,end:Y}),U.index==j.lastIndex&&j.lastIndex++}return b},[])};i.findChunks=y;var s=i.fillInChunks=function(p){var k=p.chunksToHighlight,d=p.totalLength,n=[],c=function(b,u,j){u-b>0&&n.push({start:b,end:u,highlight:j})};if(k.length===0)c(0,d,!1);else{var x=0;k.forEach(function(v){c(x,v.start,!1),c(v.start,v.end,!0),x=v.end}),c(x,d,!1)}return n};function T(o){return o}function a(o){return o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}])},function(h,m,e){(function(i){h.exports=e(13)()}).call(m,e(5))},function(h,m){var e=h.exports={},i,r;function y(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?i=setTimeout:i=y}catch{i=y}try{typeof clearTimeout=="function"?r=clearTimeout:r=s}catch{r=s}})();function T(b){if(i===setTimeout)return setTimeout(b,0);if((i===y||!i)&&setTimeout)return i=setTimeout,setTimeout(b,0);try{return i(b,0)}catch{try{return i.call(null,b,0)}catch{return i.call(this,b,0)}}}function a(b){if(r===clearTimeout)return clearTimeout(b);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(b);try{return r(b)}catch{try{return r.call(null,b)}catch{return r.call(this,b)}}}var o=[],p=!1,k,d=-1;function n(){!p||!k||(p=!1,k.length?o=k.concat(o):d=-1,o.length&&c())}function c(){if(!p){var b=T(n);p=!0;for(var u=o.length;u;){for(k=o,o=[];++d<u;)k&&k[d].run();d=-1,u=o.length}k=null,p=!1,a(b)}}e.nextTick=function(b){var u=new Array(arguments.length-1);if(arguments.length>1)for(var j=1;j<arguments.length;j++)u[j-1]=arguments[j];o.push(new x(b,u)),o.length===1&&!p&&T(c)};function x(b,u){this.fun=b,this.array=u}x.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function v(){}e.on=v,e.addListener=v,e.once=v,e.off=v,e.removeListener=v,e.removeAllListeners=v,e.emit=v,e.prependListener=v,e.prependOnceListener=v,e.listeners=function(b){return[]},e.binding=function(b){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(b){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(h,m,e){(function(i){var r=e(7),y=e(8),s=e(9),T=e(10),a=e(11),o=e(12);h.exports=function(p,k){var d=typeof Symbol=="function"&&Symbol.iterator,n="@@iterator";function c(t){var l=t&&(d&&t[d]||t[n]);if(typeof l=="function")return l}var x="<<anonymous>>",v={array:U("array"),bool:U("boolean"),func:U("function"),number:U("number"),object:U("object"),string:U("string"),symbol:U("symbol"),any:W(),arrayOf:Y,element:_(),instanceOf:X,node:R(),objectOf:G,oneOf:q,oneOfType:Z,shape:g,exact:M};function b(t,l){return t===l?t!==0||1/t===1/l:t!==t&&l!==l}function u(t){this.message=t,this.stack=""}u.prototype=Error.prototype;function j(t){function l(C,S,P,O,w,I,A){return O=O||x,I=I||P,A!==a&&k&&y(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),S[P]==null?C?S[P]===null?new u("The "+w+" `"+I+"` is marked as required "+("in `"+O+"`, but its value is `null`.")):new u("The "+w+" `"+I+"` is marked as required in "+("`"+O+"`, but its value is `undefined`.")):null:t(S,P,O,w,I)}var E=l.bind(null,!1);return E.isRequired=l.bind(null,!0),E}function U(t){function l(E,C,S,P,O,w){var I=E[C],A=z(I);if(A!==t){var L=te(I);return new u("Invalid "+P+" `"+O+"` of type "+("`"+L+"` supplied to `"+S+"`, expected ")+("`"+t+"`."))}return null}return j(l)}function W(){return j(r.thatReturnsNull)}function Y(t){function l(E,C,S,P,O){if(typeof t!="function")return new u("Property `"+O+"` of component `"+S+"` has invalid PropType notation inside arrayOf.");var w=E[C];if(!Array.isArray(w)){var I=z(w);return new u("Invalid "+P+" `"+O+"` of type "+("`"+I+"` supplied to `"+S+"`, expected an array."))}for(var A=0;A<w.length;A++){var L=t(w,A,S,P,O+"["+A+"]",a);if(L instanceof Error)return L}return null}return j(l)}function _(){function t(l,E,C,S,P){var O=l[E];if(!p(O)){var w=z(O);return new u("Invalid "+S+" `"+P+"` of type "+("`"+w+"` supplied to `"+C+"`, expected a single ReactElement."))}return null}return j(t)}function X(t){function l(E,C,S,P,O){if(!(E[C]instanceof t)){var w=t.name||x,I=ae(E[C]);return new u("Invalid "+P+" `"+O+"` of type "+("`"+I+"` supplied to `"+S+"`, expected ")+("instance of `"+w+"`."))}return null}return j(l)}function q(t){if(!Array.isArray(t))return r.thatReturnsNull;function l(E,C,S,P,O){for(var w=E[C],I=0;I<t.length;I++)if(b(w,t[I]))return null;var A=JSON.stringify(t);return new u("Invalid "+P+" `"+O+"` of value `"+w+"` "+("supplied to `"+S+"`, expected one of "+A+"."))}return j(l)}function G(t){function l(E,C,S,P,O){if(typeof t!="function")return new u("Property `"+O+"` of component `"+S+"` has invalid PropType notation inside objectOf.");var w=E[C],I=z(w);if(I!=="object")return new u("Invalid "+P+" `"+O+"` of type "+("`"+I+"` supplied to `"+S+"`, expected an object."));for(var A in w)if(w.hasOwnProperty(A)){var L=t(w,A,S,P,O+"."+A,a);if(L instanceof Error)return L}return null}return j(l)}function Z(t){if(!Array.isArray(t))return r.thatReturnsNull;for(var l=0;l<t.length;l++){var E=t[l];if(typeof E!="function")return s(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",ne(E),l),r.thatReturnsNull}function C(S,P,O,w,I){for(var A=0;A<t.length;A++){var L=t[A];if(L(S,P,O,w,I,a)==null)return null}return new u("Invalid "+w+" `"+I+"` supplied to "+("`"+O+"`."))}return j(C)}function R(){function t(l,E,C,S,P){return H(l[E])?null:new u("Invalid "+S+" `"+P+"` supplied to "+("`"+C+"`, expected a ReactNode."))}return j(t)}function g(t){function l(E,C,S,P,O){var w=E[C],I=z(w);if(I!=="object")return new u("Invalid "+P+" `"+O+"` of type `"+I+"` "+("supplied to `"+S+"`, expected `object`."));for(var A in t){var L=t[A];if(L){var F=L(w,A,S,P,O+"."+A,a);if(F)return F}}return null}return j(l)}function M(t){function l(E,C,S,P,O){var w=E[C],I=z(w);if(I!=="object")return new u("Invalid "+P+" `"+O+"` of type `"+I+"` "+("supplied to `"+S+"`, expected `object`."));var A=T({},E[C],t);for(var L in A){var F=t[L];if(!F)return new u("Invalid "+P+" `"+O+"` key `"+L+"` supplied to `"+S+"`.\nBad object: "+JSON.stringify(E[C],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(t),null,"  "));var B=F(w,L,S,P,O+"."+L,a);if(B)return B}return null}return j(l)}function H(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(H);if(t===null||p(t))return!0;var l=c(t);if(l){var E=l.call(t),C;if(l!==t.entries){for(;!(C=E.next()).done;)if(!H(C.value))return!1}else for(;!(C=E.next()).done;){var S=C.value;if(S&&!H(S[1]))return!1}}else return!1;return!0;default:return!1}}function J(t,l){return t==="symbol"||l["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&l instanceof Symbol}function z(t){var l=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":J(l,t)?"symbol":l}function te(t){if(typeof t>"u"||t===null)return""+t;var l=z(t);if(l==="object"){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return l}function ne(t){var l=te(t);switch(l){case"array":case"object":return"an "+l;case"boolean":case"date":case"regexp":return"a "+l;default:return l}}function ae(t){return!t.constructor||!t.constructor.name?x:t.constructor.name}return v.checkPropTypes=o,v.PropTypes=v,v}}).call(m,e(5))},function(h,m){function e(r){return function(){return r}}var i=function(){};i.thatReturns=e,i.thatReturnsFalse=e(!1),i.thatReturnsTrue=e(!0),i.thatReturnsNull=e(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(r){return r},h.exports=i},function(h,m,e){(function(i){function r(y,s,T,a,o,p,k,d){if(!y){var n;if(s===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[T,a,o,p,k,d],x=0;n=new Error(s.replace(/%s/g,function(){return c[x++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}h.exports=r}).call(m,e(5))},function(h,m,e){(function(i){var r=e(7),y=r;h.exports=y}).call(m,e(5))},function(h,m){var e=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function y(T){if(T==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(T)}function s(){try{if(!Object.assign)return!1;var T=new String("abc");if(T[5]="de",Object.getOwnPropertyNames(T)[0]==="5")return!1;for(var a={},o=0;o<10;o++)a["_"+String.fromCharCode(o)]=o;var p=Object.getOwnPropertyNames(a).map(function(d){return a[d]});if(p.join("")!=="0123456789")return!1;var k={};return"abcdefghijklmnopqrst".split("").forEach(function(d){k[d]=d}),Object.keys(Object.assign({},k)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}h.exports=s()?Object.assign:function(T,a){for(var o,p=y(T),k,d=1;d<arguments.length;d++){o=Object(arguments[d]);for(var n in o)i.call(o,n)&&(p[n]=o[n]);if(e){k=e(o);for(var c=0;c<k.length;c++)r.call(o,k[c])&&(p[k[c]]=o[k[c]])}}return p}},function(h,m){var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";h.exports=e},function(h,m,e){(function(i){function r(y,s,T,a,o){}h.exports=r}).call(m,e(5))},function(h,m,e){var i=e(7),r=e(8),y=e(11);h.exports=function(){function s(o,p,k,d,n,c){c!==y&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}s.isRequired=s;function T(){return s}var a={array:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:T,element:s,instanceOf:T,node:s,objectOf:T,oneOf:T,oneOfType:T,shape:T,exact:T};return a.checkPropTypes=i,a.PropTypes=a,a}},function(h,m){h.exports=$},function(h,m){var e=function(y,s){return y===s};function i(r){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,s=void 0,T=[],a=void 0,o=!1,p=function(n,c){return y(n,T[c])},k=function(){for(var n=arguments.length,c=Array(n),x=0;x<n;x++)c[x]=arguments[x];return o&&s===this&&c.length===T.length&&c.every(p)||(o=!0,s=this,T=c,a=r.apply(this,c)),a};return k}h.exports=i}])})(fe);var we=fe.exports;const Ee=he(we),Ie=({form:D,onFinish:h,kode_kabkot:m})=>{const[e,i]=$.useState([]);$.useEffect(()=>{(async s=>{const{data:T}=await ee.get(route("api.entri.kabkot",{kode_kabkot:s}));let a=T.data.map(o=>({label:`[${o.kode_kabkot}] ${o.kabkot}`,value:o.kode_kabkot}));s==="00"&&a.push({label:"[00] SULAWESI UTARA",value:s}),i(a)})(m)},[m]);const r=[{label:"PML",value:"PML"},{label:"ADMIN",value:"ADMIN"}];return Q(N,{form:D,name:"CreateUserForm",onFinish:h,autoComplete:"off",layout:"vertical",children:[f(N.Item,{label:"Assignment",name:"kode_kabkot",rules:[{required:!0,message:"Silahkan Pilih Assignment"}],children:f(re,{options:e})}),f(N.Item,{label:"Nama Petugas",name:"nama_lengkap",rules:[{required:!0,message:"Silahkan masukkan nama petugas"}],children:f(K,{style:{color:"#000"},autoComplete:"off"})}),f(N.Item,{label:"Kode Identitas (NIP/NIK)",name:"nip",rules:[{pattern:/^[0-9]*$/,message:"Please enter only numbers."},{required:!0,message:"Silahkan masukkan kode identitas"}],children:f(K,{style:{color:"#000"}})}),f(N.Item,{label:"Username",name:"username",rules:[{pattern:/^[a-z0-9_]*$/,message:"Please enter only lowercase letters, numbers, and underscores."},{required:!0,message:"Silahkan isi username"}],children:f(K,{style:{color:"#000"}})}),f(N.Item,{label:"Password",name:"password",rules:[{min:5,message:"panjang minimal 5 karakter"},{required:!0,message:"Silahkan isi password"}],children:f(K,{style:{color:"#000"},type:"password"})}),f(N.Item,{label:"Peran",name:"role",rules:[{required:!0,message:"Silahkan peran petugas"}],children:f(re,{showSearch:!0,options:r,style:{color:"#000"}})})]})},Ae=({form:D,onFinish:h,kode_kabkot:m})=>{const[e,i]=$.useState([]);$.useEffect(()=>{(async s=>{const{data:T}=await ee.get(route("api.entri.kabkot",{kode_kabkot:s}));let a=T.data.map(o=>({label:`[${o.kode_kabkot}] ${o.kabkot}`,value:o.kode_kabkot}));s==="00"&&a.push({label:"[00] SULAWESI UTARA",value:s}),i(a)})(m)},[m]);const r=[{label:"PML",value:"PML"},{label:"ADMIN",value:"ADMIN"}];return Q(N,{form:D,name:"CreateUserForm",onFinish:h,autoComplete:"off",layout:"vertical",children:[f(N.Item,{hidden:!0,name:"id",children:f(K,{readOnly:!0})}),f(N.Item,{label:"Assignment",name:"kode_kabkot",rules:[{required:!0,message:"Silahkan Pilih Assignment"}],children:f(re,{options:e})}),f(N.Item,{label:"Nama Petugas",name:"nama_lengkap",rules:[{required:!0,message:"Silahkan masukkan nama petugas"}],children:f(K,{style:{color:"#000"},autoComplete:"off"})}),f(N.Item,{label:"Kode Identitas (NIP/NIK)",name:"nip",rules:[{pattern:/^[0-9]*$/,message:"Please enter only numbers."},{required:!0,message:"Silahkan masukkan kode identitas"}],children:f(K,{style:{color:"#000"}})}),f(N.Item,{label:"Username",name:"username",rules:[{pattern:/^[a-z0-9_]*$/,message:"Please enter only lowercase letters, numbers, and underscores."},{required:!0,message:"Silahkan isi username"}],children:f(K,{style:{color:"#000"}})}),f(N.Item,{label:"Password (isi apabila ingin diganti)",name:"password",rules:[{min:5,message:"panjang minimal 5 karakter"}],children:f(K,{style:{color:"#000"},type:"password"})}),f(N.Item,{label:"Peran",name:"role",rules:[{required:!0,message:"Silahkan peran petugas"}],children:f(re,{showSearch:!0,options:r,style:{color:"#000"}})})]})},{Title:je,Text:Re}=ke,Le=({users:D,kode_kabkot:h})=>{const[m,e]=$.useState([]),[i,r]=$.useState(!1),[y,s]=$.useState(!1),[T,a]=$.useState(!1),[o,p]=$.useState(!1),[k,d]=$.useState(""),[n,c]=$.useState(""),x=$.useRef(null),[v]=N.useForm(),[b]=N.useForm(),[u,j]=ye.useMessage();$.useEffect(()=>{e(D)},[]);const U=(R,g,M)=>{g(),d(R[0]),c(M)},W=R=>{R(),d("")},Y=R=>({filterDropdown:({setSelectedKeys:g,selectedKeys:M,confirm:H,clearFilters:J})=>Q("div",{style:{padding:8},onKeyDown:z=>z.stopPropagation(),children:[f(K,{ref:x,placeholder:`Search ${R}`,value:M[0],onChange:z=>g(z.target.value?[z.target.value]:[]),onPressEnter:()=>U(M,H,R),style:{marginBottom:8,display:"block"}}),Q(se,{children:[f(V,{type:"primary",onClick:()=>U(M,H,R),icon:f(ue,{}),size:"small",style:{width:90},children:"Search"}),f(V,{onClick:()=>J&&W(J),size:"small",style:{width:90},children:"Reset"}),f(V,{type:"link",size:"small",onClick:()=>{H(),d(M[0]),c(R)},children:"Filter"}),f(V,{type:"link",size:"small",onClick:()=>{close()},children:"close"})]})]}),filterIcon:g=>f(ue,{style:{color:g?"#1677ff":void 0}}),onFilter:(g,M)=>M[R].toString().toLowerCase().includes(g.toLowerCase()),onFilterDropdownOpenChange:g=>{g&&setTimeout(()=>{var M;return(M=x.current)==null?void 0:M.select()},100)},render:g=>n===R?f(Ee,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[k],autoEscape:!0,textToHighlight:g?g.toString():""}):f(Re,{children:g})}),_=async R=>{try{console.log({values:R}),s(!0);const{data:g}=await ee.post(route("users.store"),R,{headers:{"Content-Type":"application/json"}});ie.get(route("users.index"),{},{preserveScroll:!0,preserveState:!0}),g.status==="error"?u.open({content:g.message,type:"error",key:"add-user-dialog"}):u.open({content:g.message,type:"success",key:"add-user-dialog"}),s(!1),r(!1)}catch(g){console.log({errror:g.response.data.message}),u.open({content:`Terjadi galat, ${g.response.data.message}`,type:"error",key:"add-user-dialog"}),s(!1)}},X=async R=>{try{console.log({values:R}),p(!0);const{data:g}=await ee.patch(route("users.update"),R,{headers:{"Content-Type":"application/json"}});g.status==="error"?u.open({content:g.message,type:"error",key:"add-user-dialog"}):(u.open({content:g.message,type:"success",key:"add-user-dialog"}),ie.get(route("users.index"),{},{preserveScroll:!0,preserveState:!0})),a(!1)}catch(g){console.log({error:g}),u.open({content:`Terjadi galat, ${g.response.data.message}`,type:"error",key:"add-user-dialog"})}finally{p(!1)}},q=async R=>{try{const{data:g}=await ee.delete(route("users.delete",{user_id:R}));u.open({content:"Berhasil menghapus 1 akun petugas",type:"success",key:"hapus-ruta"}),ie.get(route("users"))}catch(g){u.open({content:`Terjadi galat ketika menghapus data, tunjukan code ini pada Developer (${g.response.data.message})`,type:"error",key:"hapus-ruta",duration:3})}},G=(R,g)=>{b.setFieldsValue(g),a(!0)};ve.throttle(q,2e3);const Z=[{title:"Nama Petugas",dataIndex:"nama_lengkap",key:"nama_lengkap",sorter:(R,g)=>{const M=R.nama_lengkap.toLowerCase(),H=g.nama_lengkap.toLowerCase();return M<H?-1:M>H?1:0},...Y("nama_lengkap")},{title:"Username",dataIndex:"username",key:"username"},{title:"Assignment",dataIndex:"kode_kabkot",key:"kode_kabkot",render:(R,g)=>`[71${g.kode_kabkot}] ${g.kabkot??"SULAWESI UTARA"}`},{title:"Peran",dataIndex:"role",key:"role"},{title:"Kode Identitas (NIP/NIK)",dataIndex:"nip",key:"nip"},{title:"Edit",dataIndex:"ubah",key:"ubah",render:(R,g)=>Q(V,{type:"default",onClick:()=>G(R,g),children:[f(Se,{})," ubah"]})}];return Q(pe,{children:[f(ge,{title:"Users"}),f(je,{level:2,children:"Pengelolaan Petugas"}),j,f(se,{style:{marginBottom:"10px",marginTop:"10px",width:"100%",justifyContent:"end"},children:Q(V,{type:"primary",onClick:()=>r(!0),children:[f(Pe,{}),"Tambah Petugas"]})}),f(se,{style:{backgroundColor:"#fff",width:"100%",minHeight:"300px",padding:"10px 15px"},direction:"vertical",children:f(Te,{columns:Z,dataSource:m,scroll:{x:"100%"}})}),f(ce,{handleOk:()=>v.submit(),okText:"Buat",confirmLoadingModal:y,handleCancel:()=>r(!1),openModal:i,title:"Tambah Petugas Baru",cancelText:"Batalkan",children:f(Ie,{kode_kabkot:h,form:v,onFinish:_})},"add-modal"),f(ce,{handleOk:()=>b.submit(),okText:"Buat",confirmLoadingModal:o,handleCancel:()=>a(!1),openModal:T,title:"Ubah Akun Petugas",cancelText:"Batalkan",children:f(Ae,{kode_kabkot:h,form:b,onFinish:X})},"add-modal")]})};Le.layout=D=>f(me,{user:D.props.auth.user,header:f("h2",{className:"",children:"Users"}),selectedKey:"users",children:D});export{Le as default};
