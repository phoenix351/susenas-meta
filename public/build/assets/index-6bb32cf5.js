import{r as n,j as m,F as g,a as t,c as p}from"./app-cade510b.js";import{M as h}from"./Modal-283bab31.js";import{A as x}from"./AuthenticatedLayout-2e91c2e1.js";import F from"./KomoditasForm-3fef9f29.js";import{m as _}from"./index-b93aae69.js";import{F as b}from"./index-5ce765d1.js";import{T as E}from"./Table-675fb605.js";import{B as I}from"./index-beeaf8d9.js";import{D as K}from"./DeleteOutlined-0e192874.js";import{E as M}from"./EditOutlined-229e823d.js";import"./index-c24da6a1.js";import"./ExclamationCircleFilled-1864351a.js";import"./AntdIcon-da8305e3.js";import"./CloseCircleFilled-a13e8288.js";import"./InfoCircleFilled-7f3ebebf.js";import"./ActionButton-0f136a84.js";import"./useFlexGapSupport-8646280d.js";import"./index-54100e18.js";import"./KeyCode-6413d982.js";import"./pickAttrs-01b563d9.js";import"./Keyframes-24838d9a.js";import"./CloseOutlined-0d8c520e.js";import"./index-e3d5dafc.js";import"./Sider-26ba9cdb.js";import"./LeftOutlined-a53789c4.js";import"./index-efbdf8f9.js";import"./index-c911b603.js";import"./useForceUpdate-a75d9b98.js";import"./responsiveObserver-bed5db2e.js";import"./EllipsisOutlined-7069c36e.js";import"./Overflow-133b988e.js";import"./index-af8f5ca6.js";import"./index-b9cc14aa.js";import"./TextArea-9a7525ca.js";import"./EyeOutlined-a718312b.js";import"./styleChecker-9cc21804.js";import"./addEventListener-61db0605.js";import"./index-f9258c5c.js";import"./CheckOutlined-c54abbe5.js";import"./Dropdown-531b1aaa.js";const S=()=>{const[i,l]=n.useState([]),[c,d]=n.useState(!1),[k,v]=n.useState(!1),[a,u]=_.useMessage(),[r]=b.useForm();async function s(){try{a.open({type:"loading",content:"mengambil data dari server",key:"get-data"});const{data:e}=await p.get(route("api.mak.komoditas.list"));l(e),a.destroy("get-data")}catch{a.open({type:"error",content:"error ketika mengambil data",key:"get-data"})}}async function y(e){try{a.open({content:"menyimpan data",type:"loading",key:"save"});const o=await p.put(route("komoditas.update"),e);s(),a.open({content:"data berhasil disimpan",type:"success",key:"save"})}catch{a.open({content:"data gagal disimpan, hubungi admin untuk diperiksa",type:"error",key:"save"})}}n.useEffect(()=>{s()},[]);function f(e,o){e.setFieldsValue(o),d(!0)}return m(g,{children:[u,t("div",{children:"Komoditas"}),t(E,{dataSource:i,columns:[{title:"id",dataIndex:"id",key:"id"},{title:"id_kelompok",dataIndex:"id_kelompok",key:"id_kelompok"},{title:"nama_kelompok",dataIndex:"nama_kelompok",key:"nama_kelompok"},{title:"satuan",dataIndex:"satuan",key:"satuan"},{title:"kalori",dataIndex:"kalori",key:"kalori"},{title:"flag_basket",dataIndex:"flag_basket",key:"flag_basket"},{title:"type",dataIndex:"type",key:"type"},{title:"Actions",key:"actions",children:[{title:"Edit",dataIndex:"edit",key:"edit",render:(e,o)=>m(I,{onClick:()=>f(r,o),children:[t(M,{})," "]}),onHeaderCell:()=>({colSpan:0})},{title:"Delete",dataIndex:"delete",key:"delete",render:()=>t(K,{}),onHeaderCell:()=>({colSpan:0})}]}]}),t(h,{title:"Edit Komoditas",openModal:c,handleCancel:()=>{r.resetFields(),d(!1)},handleOk:()=>{r.submit(),d(!1)},confirmLoadingModal:k,children:t(F,{form:r,onFinish:y})})]})};S.layout=i=>t(x,{user:i.props.auth.user,header:t("h2",{className:"",children:"Kelola Komoditas"}),selectedKey:"komoditas",children:i});export{S as default};
