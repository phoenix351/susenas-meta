import{r as y,_ as te,y as C,z as ke,a as e,c as N,j as r}from"./app-e34f51f7.js";import{A as ae}from"./AntdIcon-e5d7712c.js";import{F as s}from"./index-beeb447d.js";import{S as v}from"./index-239cd41a.js";import{m as fe}from"./index-e536183e.js";import{S as _}from"./index-e442735e.js";import{I as W}from"./index-8484fcd6.js";import{I as H}from"./index-1eccf57a.js";import{I as P}from"./index-cf99232a.js";import{D as ye}from"./AuthenticatedLayout-516cd539.js";import{T as pe}from"./index-4fceac4a.js";var ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};const ve=ge;var Se=function(l,o){return y.createElement(ae,te({},l,{ref:o,icon:ve}))};const Lt=y.forwardRef(Se);var Ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"};const Te=Ie;var _e=function(l,o){return y.createElement(ae,te({},l,{ref:o,icon:Te}))};const Bt=y.forwardRef(_e);function we(t){var l=typeof t;return t!=null&&(l=="object"||l=="function")}var le=we,Ke=typeof C=="object"&&C&&C.Object===Object&&C,Ae=Ke,xe=Ae,Ne=typeof self=="object"&&self&&self.Object===Object&&self,Oe=xe||Ne||Function("return this")(),re=Oe,je=re,$e=function(){return je.Date.now()},Pe=$e,Ee=/\s/;function Fe(t){for(var l=t.length;l--&&Ee.test(t.charAt(l)););return l}var Ve=Fe,Ce=Ve,Le=/^\s+/;function Be(t){return t&&t.slice(0,Ce(t)+1).replace(Le,"")}var Re=Be,De=re,Me=De.Symbol,ne=Me,z=ne,ie=Object.prototype,Ue=ie.hasOwnProperty,Ge=ie.toString,E=z?z.toStringTag:void 0;function We(t){var l=Ue.call(t,E),o=t[E];try{t[E]=void 0;var k=!0}catch{}var p=Ge.call(t);return k&&(l?t[E]=o:delete t[E]),p}var He=We,ze=Object.prototype,qe=ze.toString;function Je(t){return qe.call(t)}var Xe=Je,q=ne,Ze=He,Qe=Xe,Ye="[object Null]",et="[object Undefined]",J=q?q.toStringTag:void 0;function tt(t){return t==null?t===void 0?et:Ye:J&&J in Object(t)?Ze(t):Qe(t)}var at=tt;function lt(t){return t!=null&&typeof t=="object"}var rt=lt,nt=at,it=rt,ot="[object Symbol]";function st(t){return typeof t=="symbol"||it(t)&&nt(t)==ot}var dt=st,ct=Re,X=le,ut=dt,Z=0/0,ht=/^[-+]0x[0-9a-f]+$/i,bt=/^0b[01]+$/i,mt=/^0o[0-7]+$/i,kt=parseInt;function ft(t){if(typeof t=="number")return t;if(ut(t))return Z;if(X(t)){var l=typeof t.valueOf=="function"?t.valueOf():t;t=X(l)?l+"":l}if(typeof t!="string")return t===0?t:+t;t=ct(t);var o=bt.test(t);return o||mt.test(t)?kt(t.slice(2),o?2:8):ht.test(t)?Z:+t}var yt=ft,pt=le,R=Pe,Q=yt,gt="Expected a function",vt=Math.max,St=Math.min;function It(t,l,o){var k,p,f,S,h,a,n=0,F=!1,w=!1,O=!0;if(typeof t!="function")throw new TypeError(gt);l=Q(l)||0,pt(o)&&(F=!!o.leading,w="maxWait"in o,f=w?vt(Q(o.maxWait)||0,l):f,O="trailing"in o?!!o.trailing:O);function j(i){var g=k,I=p;return k=p=void 0,n=i,S=t.apply(I,g),S}function U(i){return n=i,h=setTimeout(K,l),F?j(i):S}function L(i){var g=i-a,I=i-n,x=l-g;return w?St(x,f-I):x}function V(i){var g=i-a,I=i-n;return a===void 0||g>=l||g<0||w&&I>=f}function K(){var i=R();if(V(i))return A(i);h=setTimeout(K,L(i))}function A(i){return h=void 0,O&&k?j(i):(k=p=void 0,S)}function B(){h!==void 0&&clearTimeout(h),n=0,k=a=p=h=void 0}function T(){return h===void 0?S:A(R())}function $(){var i=R(),g=V(i);if(k=arguments,p=this,a=i,g){if(h===void 0)return U(a);if(w)return clearTimeout(h),h=setTimeout(K,l),j(a)}return h===void 0&&(h=setTimeout(K,l)),S}return $.cancel=B,$.flush=T,$}var Tt=It;const Y=ke(Tt),_t={margin:"auto",padding:"5px"},wt=({options:t,name:l,onChange:o})=>e(s.Item,{name:l,label:null,style:_t,children:e(v,{allowClear:!0,showSearch:!0,optionFilterProp:"label",options:t,onChange:o&&(k=>o(k))})}),ee=async(t,l,o,k)=>{try{return!(await N.post(route("api.cekNomorSampel"),{value:t,currentRecordId:l,kode_kabkot:o,nks:k})).data.exists}catch(p){return console.error("Error checking unique value:",p),!1}},{Text:D,Title:M}=pe,Rt=({form:t,onFinish:l,tabContentStyle:o,setDaftarArt:k,editable:p,identitas_wilayah:f})=>{const S={width:"70px",height:"auto",preview:!1},h={borderCollapse:"collapse",width:"100%"},a={borderStyle:"solid",border:"solid 1px black",padding:"5px"},n={margin:"auto",padding:"5px"},F=[{label:"[1] Perdesaan",value:"1"},{label:"[2] Perkotaan",value:"2"}],[w,O]=fe.useMessage(),[j,U]=y.useState([{label:"[71] SULAWESI UTARA",value:"71"}]),[L,V]=y.useState([]),[K,A]=y.useState([]),[B,T]=y.useState([]),[$,i]=y.useState([]),[g,I]=y.useState([]),[x,oe]=y.useState(""),se=async()=>{const d=route("api.entri.kabkot"),{data:c}=await N.get(d),u=c.data.map(b=>({label:`[${b.kode_kabkot}] ${b.kabkot}`,value:b.kode_kabkot}));oe(c.kode_kabkot),V(u)},de=async d=>{const c=route("api.entri.nks",{kodeKabkot:t.getFieldValue("kode_kabkot"),kodeKec:t.getFieldValue("kode_kec"),kodeDesa:t.getFieldValue("kode_desa"),kodeBs4:t.getFieldValue("kode_bs4")}),{data:u}=await N.get(c),b=u.map(m=>({label:m,value:m}));i(b)},G=async d=>{const c=route("api.entri.kec",{kodeKabkot:d}),{data:u}=await N.get(c),b=u.map(m=>({label:`[${m.kode_kec}] ${m.kec} `,value:m.kode_kec}));A(b)},ce=async d=>{const c=route("api.entri.desa",{kodeKabkot:t.getFieldValue("kode_kabkot"),kodeKec:t.getFieldValue("kode_kec")}),{data:u}=await N.get(c),b=u.map(m=>({label:`[${m.kode_desa}] ${m.desa} `,value:m.kode_desa}));T(b)},ue=async d=>{const c=route("api.entri.bs4",{kodeKabkot:t.getFieldValue("kode_kabkot"),kodeKec:t.getFieldValue("kode_kec"),kodeDesa:t.getFieldValue("kode_desa")}),{data:u}=await N.get(c),b=u.map(m=>({label:m,value:m}));I(b)};y.useEffect(()=>{try{se(),t.setFieldValue("kode_prov","71"),f&&(A([{label:`[${f.kode_kec}] ${f.kec}`,value:f.kode_kec}]),T([{label:`[${f.kode_desa}] ${f.desa}`,value:f.kode_desa}]),t.setFieldsValue(f))}catch{}},[]),y.useEffect(()=>{x&&G(x)},[x]),y.useEffect(()=>{},[t]);const he=Y(d=>{k(c=>{let u=[...c];return u[0].nama=d,u})},600),be=d=>{const c=d.target.value;he(c)};Y(async(d,c,u,b)=>ee(d,c,u,b),400);const me=async(d,c)=>{const u=t.getFieldValue("id"),b=t.getFieldValue("kode_kabkot"),m=t.getFieldValue("nks");return await ee(c,u,b,m)?Promise.resolve():Promise.reject("The value already exists in the database.")};return r(_,{direction:"vertical",style:o,children:[r(_,{style:{width:"100%",justifyContent:"space-between"},direction:"horizontal",children:[e(_,{direction:"vertical",align:"start",children:e(W,{...S,src:"/images/bps.png"})}),r(_,{direction:"vertical",style:{alignContent:"center",textAlign:"center"},children:[e(W,{...S,src:"/images/garuda.png"}),e(M,{level:5,children:"SURVEI SOSIAL EKONOMI SEMESTER I 2024"}),e(D,{children:"KETERANGAN KONSUMSI MAKANAN RUMAH TANGGA"})]}),e(_,{style:{color:"#fff",paddingRight:"10px",paddingLeft:"10px",fontSize:"20px",backgroundColor:"rgb(78, 84, 200)",fontWeight:"600"},children:"VSUSENAS.MAK"})]}),r(s,{form:t,name:"Blok1_2",onFinish:l,autoComplete:"off",layout:"vertical",children:[r("table",{style:h,children:[e("thead",{style:{backgroundColor:"#fc0",textAlign:"center"},children:e("tr",{children:e("td",{style:a,colSpan:4,children:r(_,{direction:"vertical",children:[e(M,{level:4,children:"BLOK I. KETERANGAN TEMPAT"}),e(D,{children:"[ disalin dari Blok I kuesioner Seruti Inti (VSUSENAS.INTI) ]"})]})})})}),r("tbody",{children:[r("tr",{hidden:!0,children:[e("td",{style:a,children:"000"}),e("td",{style:a,children:"Identitas Database"}),e("td",{style:a,children:e(s.Item,{name:"id",label:null,children:e(H,{readOnly:p})})})]}),r("tr",{children:[e("td",{style:a,children:"101"}),e("td",{style:a,children:"Provinsi"}),e("td",{style:a,children:e(s.Item,{name:"kode_prov",label:null,style:n,children:e(v,{allowClear:!0,showSearch:!0,disabled:!0,defaultValue:"71",options:j,onChange:()=>{t.setFieldsValue({kode_kabkot:"",kode_kec:"",kode_desa:"",kode_bs4:"",klas:"",semester:"",nks:""}),A([]),T([]),i([]),I([])}})})})]}),r("tr",{children:[e("td",{style:a,children:"102"}),e("td",{style:a,children:"Kabupaten / Kota *)"}),e("td",{style:a,children:e(s.Item,{name:"kode_kabkot",label:null,style:n,required:!0,children:e(v,{allowClear:!0,showSearch:!0,optionFilterProp:"label",options:L,disabled:!0,onChange:d=>{t.setFieldsValue({kode_kec:"",kode_desa:"",klas:"",kode_bs4:"",semester:"",nks:""}),G(d),T([]),i([]),I([])}})})})]}),r("tr",{children:[e("td",{style:a,children:"103"}),e("td",{style:a,children:"Kecamatan"}),e("td",{style:a,children:e(s.Item,{name:"kode_kec",label:null,style:n,children:e(v,{allowClear:!0,showSearch:!0,optionFilterProp:"label",options:K,disabled:!0,onChange:d=>{t.setFieldsValue({kode_desa:"",kode_bs4:"",semester:"",nks:""}),ce(),T([])}})})})]}),r("tr",{children:[e("td",{style:a,children:"104"}),e("td",{style:a,children:"Desa / Kelurahan *)"}),e("td",{style:a,children:e(s.Item,{name:"kode_desa",label:null,style:n,children:e(v,{allowClear:!0,showSearch:!0,disabled:!0,optionFilterProp:"label",options:B,onChange:d=>{t.setFieldsValue({kode_bs4:"",semester:""}),ue()}})})})]}),r("tr",{children:[e("td",{style:a,children:"105"}),e("td",{style:a,children:"Klasifikasi Perdesaan/Perkotaan"}),e("td",{style:a,children:e(s.Item,{name:"klas",label:null,style:n,children:e(v,{allowClear:!0,showSearch:!0,disabled:!0,optionFilterProp:"label",options:F})})})]}),r("tr",{children:[e("td",{style:a,children:"106"}),e("td",{style:a,children:"Nomor Blok Sensus"}),e("td",{style:a,children:e(s.Item,{name:"kode_bs4",label:null,style:n,children:e(v,{allowClear:!0,showSearch:!0,disabled:!0,optionFilterProp:"label",options:g,onChange:d=>{t.setFieldValue("nks",""),de()}})})})]}),r("tr",{children:[e("td",{style:a,children:"107"}),e("td",{style:a,children:"Nomor Kode Sampel"}),e("td",{style:a,children:e(s.Item,{name:"nks",label:null,style:n,children:e(v,{allowClear:!0,showSearch:!0,disabled:!0,options:$})})})]}),r("tr",{children:[e("td",{style:a,children:"108"}),e("td",{style:a,children:"Nomor Urut Bangunan Fisik di Sketsa Peta WB"}),e("td",{style:a,children:e(s.Item,{name:"r108",label:null,style:n,rules:[{pattern:/^\d+[A-Z]*$/,message:"Please enter only numbers with optional follow with uppercase alphabet."}],children:e(P,{style:{width:"100px"}})})})]}),r("tr",{children:[e("td",{style:a,children:"109"}),e("td",{style:a,children:"Nomor Urut Sampel Rumah Tangga"}),e("td",{style:a,children:e(s.Item,{name:"r109",label:null,style:n,rules:[{validator:me}],children:e(H,{min:1})})})]}),r("tr",{children:[e("td",{style:a,children:"110"}),e("td",{style:a,children:"Nama Kepala Rumah Tangga"}),e("td",{style:a,children:e(s.Item,{name:"r110",label:null,style:n,children:e(P,{minLength:2,onChange:be})})})]}),r("tr",{children:[e("td",{style:a,children:"111"}),r("td",{style:a,children:[" ","Alamat (Nama Jalan/Gang/RT/RW/Dusun)"," "]}),e("td",{style:a,children:e(s.Item,{name:"r111",label:null,style:n,children:e(P,{minLength:5})})})]})]})]}),e(ye,{}),r("table",{style:h,children:[r("thead",{children:[e("tr",{style:{backgroundColor:"#fc0",textAlign:"center"},children:e("td",{colSpan:6,style:a,children:r(_,{direction:"vertical",children:[e(M,{level:4,children:"BLOK II. KETERANGAN PENCACAH"}),e(D,{children:"[ disalin dari Blok II kuesioner Seruti Inti (VSUSENAS.INTI) ]"})]})})}),r("tr",{children:[e("th",{style:a,colSpan:2,children:"Uraian"}),e("th",{style:a,children:"Nama Petugas"}),e("th",{style:a,children:"Jabatan"}),e("th",{style:a,children:"Waktu"}),e("th",{style:a,children:"Tanda Tangan"})]})]}),r("tbody",{style:{borderStyle:"solid",border:"solid 1px"},children:[r("tr",{children:[e("td",{style:a,children:"201"}),e("td",{style:a,children:"Pencacah"}),e("td",{children:e(s.Item,{name:"r201_nama",label:null,style:n,children:e(P,{minLength:2})})}),e("td",{style:a,children:e(s.Item,{name:"r201_jabatan",style:n,label:null,children:e(v,{showSearch:!0,optionFilterProp:"label",options:[{label:"1. Staf BPS Provinsi",value:"1"},{label:"2. Staf BPS Kab/Kota",value:"2"},{label:"3. KSK",value:"3"},{label:"4. Mitra",value:"4"}]})})}),e("td",{style:a,children:e(s.Item,{name:"r201_waktu",label:null,style:n})}),e("td",{style:a})]}),r("tr",{children:[e("td",{style:a,children:"202"}),e("td",{style:a,children:"Pengawas"}),e("td",{style:a,children:e(s.Item,{name:"r202_nama",label:null,style:n,children:e(P,{minLength:2})})}),e("td",{style:a,children:e(s.Item,{name:"r202_jabatan",label:null,style:n,children:e(v,{showSearch:!0,optionFilterProp:"label",options:[{label:"1. Staf BPS Provinsi",value:"1"},{label:"2. Staf BPS Kab/Kota",value:"2"},{label:"3. KSK",value:"3"},{label:"4. Mitra",value:"4"}]})})}),e("td",{style:a,children:e(s.Item,{name:"r202_waktu",label:null,style:n})}),e("td",{style:a})]}),r("tr",{children:[e("td",{style:a,children:"203"}),e("td",{style:a,children:"Hasil pencacahan"}),e("td",{style:a,colSpan:4,children:e(wt,{name:"r203",options:[{label:"[1] Terisi lengkap",value:"1"},{label:"[2] Terisi tidak lengkap",value:"2"},{label:"[3] Tidak ada ART/responden yang dapat memberi jawaban sampai akhir masa pencacahan",value:"3"},{label:"[4] Responden menolak",value:"4"},{label:"[5] Rumah tangga pindah/bangunan sensus sudah tidak ada",value:"5"}]})})]})]})]}),O]})]})};export{Lt as A,Rt as B,wt as M,Bt as S,Y as _};
