import{r as _,a as r,j as b,F as y,b as S}from"./app-e494dc4b.js";import{A as g}from"./AuthenticatedLayout-a355e1e8.js";import{T as h}from"./TextRupiah-d0ab8c0e.js";import{S as x}from"./index-00456188.js";import{B as v}from"./index-87422963.js";import{T as j}from"./Table-ba68105f.js";import{T as I}from"./index-f6b3e024.js";import{E as C}from"./ExportOutlined-b77d9b76.js";import"./Sider-237ace22.js";import"./AntdIcon-301051ec.js";import"./index-f43b9175.js";import"./KeyCode-5df951c8.js";import"./index-03a19f9b.js";import"./index-6e81a2b3.js";import"./addEventListener-e9230ed4.js";const{Title:B}=I;function l(e){return(n,k,s)=>{const a=String(n[e]),o=String(k[e]);return s==="ascend"?a.localeCompare(o):s==="descend"?-o.localeCompare(a):0}}const T=(e,n)=>{const k=e.map(o=>o.title).join(";")+`
`+n.map(o=>e.map(i=>{if(i.render){const d=i.render(o[i.dataIndex],o);return d&&d.props?d.props.children:d}else return o[i.dataIndex]}).join(";")).join(`
`),s=new Blob([k],{type:"text/csv"}),a=document.createElement("a");a.href=URL.createObjectURL(s),a.download="export.csv",document.body.appendChild(a),a.click(),document.body.removeChild(a)},K=({data:e})=>{const[n,k]=_.useState([]);_.useEffect(()=>{k(e)},[]);const s=l("jumlah_art"),a=l("nks"),o=l("r109"),i=l("blok4_32_15_total"),d=l("blok4_32_16_total"),m=l("blokqc_sum"),f=l("blokqc_3"),u=new Set,p=[{title:"Kode Kabupaten/Kota",dataIndex:"kode_kabkot",key:"kode_kabkot",filters:n.filter(t=>!u.has(t.kode_kabkot)&&u.add(t.kode_kabkot)).map(t=>({text:t.kode_kabkot,value:t.kode_kabkot})),onFilter:(t,c)=>c.kode_kabkot===t},{title:"NKS",dataIndex:"nks",key:"nks",render:(t,c)=>`${c.nks}`,sorter:a},{title:"Nomor Urut Sampel Rumah Tangga",dataIndex:"r109",key:"r109",sorter:o},{title:"Jumlah Art",dataIndex:"jumlah_art",key:"jumlah_art",sorter:s},{title:"Jumlah Pengeluaran Makanan (Blok IV.3.2 rincian 16)",dataIndex:"blok4_32_15_total",key:"blok4_32_15_total",render:t=>r(h,{color:"#000",value:t??0}),sorter:i},{title:"Jumlah Pengeluaran Non Makanan (Blok IV.3.2 rincian 17)",dataIndex:"blok4_32_16_total",key:"blok4_32_16_total",render:t=>r(h,{color:"#000",value:t??0}),sorter:d},{title:"Jumlah Komoditas Bahan Makanan + Makanan Jadi/Rokok (Blok QC No. 3 + 4)",dataIndex:"blokqc_sum",key:"blokqc_sum",sorter:m},{title:"Jumlah Komoditas Non Makanan (Blok QC No. 5)",dataIndex:"blokqc_3",key:"blokqc_3",sorter:f}];return b(y,{children:[r(S,{title:"Periksa"}),r(B,{level:2,children:"Progress pendataan menurut Ruta "}),r(x,{style:{marginBottom:"10px",marginTop:"10px",width:"100%",justifyContent:"end"},children:b(v,{type:"primary",onClick:()=>T(p,n),children:[r(C,{}),"Export as CSV"]})}),r(x,{style:{backgroundColor:"#fff",width:"100%",minHeight:"300px",padding:"10px 15px"},direction:"vertical",children:r(j,{columns:p,dataSource:n,scroll:{x:"100%"}})})]})};K.layout=e=>r(g,{user:e.props.auth.user,header:r("h2",{className:"",children:"Periksa"}),selectedKey:"periksa",children:e});export{K as default};
