import{r as b,a as e,j as _,F as y,b as S}from"./app-41ef3937.js";import{A as j}from"./AuthenticatedLayout-3bd4ad42.js";import{T as h}from"./TextRupiah-f9602fb1.js";import{c as n}from"./ColumnSorter-93532ebd.js";import{S as x}from"./index-d2b7cec3.js";import{B as I}from"./useFlexGapSupport-597d8e20.js";import{T as g}from"./Table-5a41c2e7.js";import{T as v}from"./index-9d909f8a.js";import{E as T}from"./ExportOutlined-885eaea3.js";import"./Sider-61b97d3b.js";import"./AntdIcon-7795862c.js";import"./index-b25acd1c.js";import"./useForceUpdate-a1c538c6.js";import"./KeyCode-6413d982.js";import"./index-c1e83704.js";import"./index-dd81d53f.js";import"./styleChecker-64ec2811.js";import"./pickAttrs-27295c4c.js";import"./addEventListener-089d6cd9.js";import"./index-ded00c12.js";import"./TextArea-92d7c550.js";import"./CheckOutlined-a26d3969.js";import"./CloseOutlined-53d6f437.js";import"./index-13c0bd00.js";import"./EyeOutlined-0c705b32.js";const{Title:B}=v,C=(o,s)=>{const d=o.map(r=>r.title).join(";")+`
`+s.map(r=>o.map(l=>{if(l.render){const i=l.render(r[l.dataIndex],r);return i&&i.props?i.props.children:i}else return r[l.dataIndex]}).join(";")).join(`
`),k=new Blob([d],{type:"text/csv"}),a=document.createElement("a");a.href=URL.createObjectURL(k),a.download="export.csv",document.body.appendChild(a),a.click(),document.body.removeChild(a)},N=({data:o})=>{const[s,d]=b.useState([]);b.useEffect(()=>{d(o)},[]);const k=n("jumlah_art"),a=n("nks"),r=n("r109"),l=n("blok4_32_15_total"),i=n("blok4_32_16_total"),c=n("blokqc_sum"),f=n("blokqc_3"),p=new Set,u=[{title:"Kode Kabupaten/Kota",dataIndex:"kode_kabkot",key:"kode_kabkot",filters:s.filter(t=>!p.has(t.kode_kabkot)&&p.add(t.kode_kabkot)).map(t=>({text:t.kode_kabkot,value:t.kode_kabkot})),onFilter:(t,m)=>m.kode_kabkot===t},{title:"NKS",dataIndex:"nks",key:"nks",render:(t,m)=>`${m.nks}`,sorter:a},{title:"Nomor Urut Sampel Rumah Tangga",dataIndex:"r109",key:"r109",sorter:r},{title:"Jumlah Art",dataIndex:"jumlah_art",key:"jumlah_art",sorter:k},{title:"Jumlah Pengeluaran Makanan (Blok IV.3.2 rincian 16)",dataIndex:"blok4_32_15_total",key:"blok4_32_15_total",render:t=>e(h,{color:"#000",value:t??0}),sorter:l},{title:"Jumlah Pengeluaran Non Makanan (Blok IV.3.2 rincian 17)",dataIndex:"blok4_32_16_total",key:"blok4_32_16_total",render:t=>e(h,{color:"#000",value:t??0}),sorter:i},{title:"Jumlah Komoditas Bahan Makanan + Makanan Jadi/Rokok (Blok QC No. 3 + 4)",dataIndex:"blokqc_sum",key:"blokqc_sum",sorter:c},{title:"Jumlah Komoditas Non Makanan (Blok QC No. 5)",dataIndex:"blokqc_3",key:"blokqc_3",sorter:f}];return _(y,{children:[e(S,{title:"Periksa"}),e(B,{level:2,children:"Progress pendataan menurut Ruta "}),e(x,{style:{marginBottom:"10px",marginTop:"10px",width:"100%",justifyContent:"end"},children:_(I,{type:"primary",onClick:()=>C(u,s),children:[e(T,{}),"Export as CSV"]})}),e(x,{style:{backgroundColor:"#fff",width:"100%",minHeight:"300px",padding:"10px 15px"},direction:"vertical",children:e(g,{columns:u,dataSource:s,scroll:{x:"100%"}})})]})};N.layout=o=>e(j,{user:o.props.auth.user,header:e("h2",{className:"",children:"Periksa"}),selectedKey:"periksa",children:o});export{N as default};
