import{r as y,a,j as f}from"./app-b97197f3.js";import{F as g,I as x}from"./index-ad3b7f68.js";import{T as I}from"./Table-310da1f6.js";import{I as h}from"./index-e173f324.js";import"./index-f411b480.js";import"./AntdIcon-16be5858.js";import"./index-e2a976fc.js";import"./KeyCode-6413d982.js";import"./addEventListener-73664033.js";import"./index-8233c316.js";import"./Sider-02ae1697.js";import"./CloseOutlined-bf7c4bbc.js";import"./Dropdown-842f0775.js";import"./index-b1ae9bad.js";const C=({editing:i,dataIndex:o,title:r,inputType:s,record:d,index:l,children:m,...c})=>{const p=s==="number"?a(h,{}):a(x,{});return a("td",{...c,children:i?a(g.Item,{name:o,style:{margin:0},rules:[{required:!0,message:`Please Input ${r}!`}],children:p}):m})},V=()=>{const[i]=g.useForm(),[o,r]=y.useState(""),[s,d]=y.useState([{key:"1",name:"John Brown",age:32,address:"New York No. 1 Lake Park"},{key:"2",name:"Jim Green",age:42,address:"London No. 1 Lake Park"},{key:"3",name:"Joe Black",age:32,address:"Sidney No. 1 Lake Park"}]),l=e=>e.key===o,m=e=>{i.setFieldsValue({name:"",age:"",address:"",...e}),r(e.key)},c=()=>{r("")},p=async e=>{try{const t=await i.validateFields(),n=[...s],u=n.findIndex(k=>e===k.key);if(u>-1){const k=n[u];n.splice(u,1,{...k,...t}),d(n),r("")}else n.push(t),d(n),r("")}catch(t){console.log("Validate Failed:",t)}},b=[{title:"Name",dataIndex:"name",editable:!0},{title:"Age",dataIndex:"age",editable:!0},{title:"Address",dataIndex:"address",editable:!0},{title:"Operation",dataIndex:"operation",render:(e,t)=>l(t)?f("span",{children:[a("a",{href:"javascript:;",onClick:()=>p(t.key),style:{marginRight:8},children:"Save"}),a("a",{href:"javascript:;",onClick:c,children:"Cancel"})]}):a("a",{onClick:()=>m(t),children:"Edit"})}].map(e=>e.editable?{...e,onCell:t=>({record:t,inputType:"text",dataIndex:e.dataIndex,title:e.title,editing:l(t)})}:e);return a(g,{form:i,component:!1,children:a(I,{components:{body:{cell:C}},bordered:!0,dataSource:s,columns:b,rowClassName:"editable-row",pagination:!1})})};export{V as default};
