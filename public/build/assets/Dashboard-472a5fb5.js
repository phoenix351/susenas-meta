import{r as m,_ as F,j as x,F as S,a,b as $}from"./app-894b5060.js";import{A as C}from"./AuthenticatedLayout-d969d3a6.js";import{S as k}from"./index-4d0eaef9.js";import{B as _}from"./index-19dce762.js";import{A as E}from"./AntdIcon-675c8209.js";import{T as f}from"./Table-c9e1a9b1.js";import{T as I}from"./index-cb4cc7f4.js";import"./Sider-e74e5ed0.js";import"./index-2754962a.js";import"./KeyCode-3783f810.js";import"./index-a18f84bc.js";import"./index-e59ab217.js";import"./addEventListener-e888a729.js";var B={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"};const D=B;var N=function(l,d){return m.createElement(E,F({},l,{ref:d,icon:D}))};const g=m.forwardRef(N),{Title:v}=I;function y(o){return(l,d,i)=>{const r=String(l[o]),n=String(d[o]);return i==="ascend"?r.localeCompare(n):i==="descend"?-n.localeCompare(r):0}}const j=(o,l)=>{const d=o.map(n=>n.title).join(";")+`
`+l.map(n=>o.map(s=>{if(s.render){const u=s.render(n[s.dataIndex],n);return u&&u.props?u.props.children:u}else return n[s.dataIndex]}).join(";")).join(`
`),i=new Blob([d],{type:"text/csv"}),r=document.createElement("a");r.href=URL.createObjectURL(i),r.download="export.csv",document.body.appendChild(r),r.click(),document.body.removeChild(r)},T=({data:o,rekap_kabkot:l})=>{const[d,i]=m.useState([]),[r,n]=m.useState([]);m.useEffect(()=>{console.log({data:o,rekap_kabkot:l}),i(o),n(l)},[]);const s=y("jumlah_dok"),u=y("nks"),h=[{title:"Kabupaten",dataIndex:"kabupaten",key:"kabupaten",filters:r.map(t=>({text:`[${t.kode_prov}${t.kode_kabkot}] ${t.kabkot}`,value:t.kode_kabkot})),onFilter:(t,e)=>e.kode_kabkot===t,render:(t,e)=>`[${e.kode_prov}${e.kode_kabkot}] ${e.kabkot}`},{title:"NKS",dataIndex:"nks",key:"nks",render:(t,e)=>`${e.nks}`,sorter:u},{title:"Jumlah Dokumen",dataIndex:"jumlah_dok",key:"jumlah_dok",sorter:s},{title:"Target Dokumen",dataIndex:"target_dok",key:"target_dok",render:()=>10},{title:"%",dataIndex:"persentase",key:"persentase",sorter:(t,e)=>{const p=(Number(t.jumlah_dok)/10*100).toFixed(2),c=(Number(e.jumlah_dok)/10*100).toFixed(2);return parseFloat(p)-parseFloat(c)},render:(t,e)=>`${(Number(e.jumlah_dok)/10*100).toFixed(2)} %`}],b=[{title:"Kabupaten",dataIndex:"kabupaten",key:"kabupaten",render:(t,e)=>`[${e.kode_prov}${e.kode_kabkot}] ${e.kabkot}`},{title:"Jumlah Dokumen",dataIndex:"jumlah_dok",key:"jumlah_dok",sorter:s},{title:"Target Dokumen",dataIndex:"target_nks",key:"target_nks",render:(t,e)=>`${e.target_nks*10}`,sorter:(t,e)=>{const p=(Number(t.target_nks)*10*100).toFixed(2),c=(Number(e.target_nks)*10*100).toFixed(2);return parseFloat(p)-parseFloat(c)}},{title:"%",dataIndex:"persentase",key:"persentase",sorter:(t,e)=>{const p=(Number(t.jumlah_dok)/10*100).toFixed(2),c=(Number(e.jumlah_dok)/10*100).toFixed(2);return parseFloat(p)-parseFloat(c)},render:(t,e)=>`${(Number(e.jumlah_dok)/e.target_nks/10*100).toFixed(2)} %`}];return x(S,{children:[a($,{title:"Dashboard"}),a(v,{level:2,children:"Progress pendataan menurut Kabupaten/Kota "}),a(k,{style:{marginBottom:"10px",marginTop:"10px",width:"100%",justifyContent:"end"},children:x(_,{type:"primary",onClick:()=>j(b,r),children:[a(g,{}),"Export as CSV"]})}),a(k,{style:{backgroundColor:"#fff",width:"100%",minHeight:"300px",padding:"10px 15px",marginBottom:"30px"},direction:"vertical",children:a(f,{columns:b,dataSource:r,scroll:{x:"100%"}})}),a(v,{level:2,children:"Progress pendataan menurut NKS "}),a(k,{style:{marginBottom:"10px",marginTop:"10px",width:"100%",justifyContent:"end"},children:x(_,{type:"primary",onClick:()=>j(h,d),children:[a(g,{}),"Export as CSV"]})}),a(k,{style:{backgroundColor:"#fff",width:"100%",minHeight:"300px",padding:"10px 15px"},direction:"vertical",children:a(f,{columns:h,dataSource:d,scroll:{x:"100%"}})})]})};T.layout=o=>a(C,{user:o.props.auth.user,header:a("h2",{className:"",children:"Dashboard"}),selectedKey:"dashboard",children:o});export{T as default};
