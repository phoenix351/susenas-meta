import{r as p,j as e,F as f,a as t,b,g as d,c as x}from"./app-e34f51f7.js";import{A as S}from"./AuthenticatedLayout-516cd539.js";import{A,S as F,B as w}from"./Blok1_2-9dd6fba2.js";import{F as j}from"./index-beeb447d.js";import{m as B}from"./index-e536183e.js";import{S as m}from"./index-e442735e.js";import{B as l}from"./TextArea-1d9926e7.js";import"./Sider-babe6fd1.js";import"./AntdIcon-e5d7712c.js";import"./index-9e355086.js";import"./KeyCode-6413d982.js";import"./index-a5631db0.js";import"./index-239cd41a.js";import"./addEventListener-8d572175.js";import"./CheckOutlined-b044fd6c.js";import"./CloseOutlined-b4cbc4b3.js";import"./index-cf99232a.js";import"./index-8484fcd6.js";import"./index-9708037c.js";import"./index-1eccf57a.js";import"./index-4fceac4a.js";const C=({identitas_wilayah:r})=>{const u={backgroundColor:"#fff",paddingLeft:"10px",paddingRight:"10px",paddingBottom:"15px",width:"100%"},[o]=j.useForm(),[n,h]=p.useState(null),[_,k]=p.useState([{id_ruta:"",id_art:"",nama:"Art-0",key:"Art-0",rekap:[{produksi:0,beli:0,total:0},{produksi:0,beli:0,total:0}]}]),[a,y]=B.useMessage(),g=async i=>{a.open({type:"loading",key:"cari",content:"Menyimpan data..."});try{const c=route("entri.mak.store"),{data:s}=await x.post(c,i,{headers:{"Content-Type":"application/json"}});if(s.status==="error"){a.open({type:"error",key:"cari",content:s.message});return}a.open({type:"success",key:"cari",content:"Berhasil menyimpan"}),d.get(route("entri.mak.edit",{id:s.id}))}catch{a.open({type:"error",key:"cari",content:"Oops terjadi kesalahan, silahkan hubungi admin"})}};return e(f,{children:[y,t(b,{title:"Entri Kuesioner Inti"}),e(m,{style:{width:"100%",minHeight:"300px",padding:"10px 15px"},direction:"vertical",children:[t(m,{children:e(l,{onClick:()=>d.get(route("entri",{kode_kabkot:o.getFieldValue("kode_kabkot"),nks:o.getFieldValue("nks")})),children:[t(A,{})," Kembali"]})}),e(m,{direction:"horizontal",style:{width:"100%",justifyContent:"end"},children:["Last Saved :",(n==null?void 0:n.toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}))||"Never",e(l,{onClick:async()=>{try{const[i]=await Promise.all([o.submit()]);h(new Date)}catch(i){console.error("Error submitting forms:",i)}},children:[t(F,{})," Simpan"]})]}),t(w,{tabContentStyle:u,form:o,onFinish:g,setDaftarArt:k,editable:!0,identitas_wilayah:r})]})]})};C.layout=r=>t(S,{user:r.props.auth.user,header:t("h2",{className:"",children:"Dashboard"}),selectedKey:"entri",children:r});export{C as default};
