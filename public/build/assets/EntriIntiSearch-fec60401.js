import{r as s,a as e,F as K,j as b,c as u}from"./app-e34f51f7.js";import{m as _}from"./index-e536183e.js";import{F as r}from"./index-beeb447d.js";import{S as n}from"./index-239cd41a.js";import{B as v}from"./TextArea-1d9926e7.js";import{R as I}from"./ReloadOutlined-3d4e9972.js";const R=({form:t,onFinish:p,setDataSource:d})=>{const[x,m]=_.useMessage(),h=[{label:"[71] SULAWESI UTARA",value:"71"}],[F,f]=s.useState([]);s.useState([]);const[S,g]=s.useState(!0),[w,i]=s.useState([]),C=async()=>{const l=route("api.entri.kabkot"),{data:o}=await u.get(l),k=o.data.map(a=>({label:`[${a.kode_kabkot}] ${a.kabkot}`,value:a.kode_kabkot}));o.kode_kabkot==="00"?g(!1):t.setFieldValue("kode_kabkot",o.kode_kabkot),f(k)},c=async()=>{const l=route("api.entri.nks",{kodeKabkot:t.getFieldValue("kode_kabkot"),semester:t.getFieldValue("semester")}),{data:o}=await u.get(l),k=o.map(a=>({label:a,value:a}));i(k)};return s.useEffect(()=>{try{C(),t.setFieldValue("kode_prov","71")}catch{}},[]),e(K,{children:b(r,{form:t,name:"EntriIntiForm",onFinish:p,autoComplete:"off",style:{width:"300px"},children:[m,e(r.Item,{name:"kode_prov",label:"Provinsi",children:e(n,{allowClear:!0,showSearch:!0,disabled:!0,optionFilterProp:"label",options:h,onClear:()=>{},onChange:()=>{t.setFieldsValue({kode_kabkot:"",semester:"",nks:""}),d([]),i([])}})}),e(r.Item,{name:"kode_kabkot",label:"Kab/Kota",children:e(n,{allowClear:!0,showSearch:!0,disabled:S,optionFilterProp:"label",options:F,onChange:()=>{t.setFieldsValue({semester:"",nks:""}),d([]),i([])}})}),e(r.Item,{name:"semester",label:"semester",children:e(n,{allowClear:!0,showSearch:!0,optionFilterProp:"label",options:[{label:"Semester I",value:"1",selected:!0}],onChange:()=>{c()}})}),e(r.Item,{name:"nks",label:"NKS",children:e(n,{allowClear:!0,showSearch:!0,optionFilterProp:"label",options:w,onChange:()=>{c(),t.submit()}})}),b(v,{type:"primary",onClick:()=>t.submit(),children:[e(I,{})," Refresh"]})]})})};export{R as E};
